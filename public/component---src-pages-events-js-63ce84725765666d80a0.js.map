{"version":3,"file":"component---src-pages-events-js-63ce84725765666d80a0.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/constants/content/events.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/features/definitions.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/context/LazyContext.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/features/use-features.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/context/MotionConfigContext.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/context/MotionContext/index.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/context/PresenceContext.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/use-constant.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/context/LayoutGroupContext.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/is-browser.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/utils/use-visual-element.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/is-ref-object.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/variants.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/context/MotionContext/create.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/context/MotionContext/utils.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/index.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/motion-proxy.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/lowercase-elements.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/projection/scale-correction.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/html/utils/transform.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/value/utils/is-motion-value.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/html/utils/build-transform.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.js","webpack://gatsby-starter-default/./node_modules/style-value-types/dist/es/utils.js","webpack://gatsby-starter-default/./node_modules/style-value-types/dist/es/numbers/units.js","webpack://gatsby-starter-default/./node_modules/style-value-types/dist/es/numbers/index.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/value-types/type-int.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/value-types/number.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/html/utils/build-styles.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/html/utils/create-render-state.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/html/use-props.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/utils/valid-prop.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/utils/filter-props.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/utils/path.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/use-props.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/use-render.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/html/utils/render.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/utils/render.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/resolve-value.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/utils/use-visual-state.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/config-motion.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/html/config-motion.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/types.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/events/use-dom-event.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/utils/event-type.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/events/event-info.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/events/use-pointer-event.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/events/utils.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/drag/utils/lock.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/use-hover-gesture.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/use-unmount-effect.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/pipe.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/utils/make-renderless-component.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/features/gestures.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/use-tap-gesture.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/use-focus-gesture.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/shallow-compare.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/clamp.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/animations/utils/find-spring.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/animations/generators/spring.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/progress.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/mix.js","webpack://gatsby-starter-default/./node_modules/style-value-types/dist/es/color/utils.js","webpack://gatsby-starter-default/./node_modules/style-value-types/dist/es/color/rgba.js","webpack://gatsby-starter-default/./node_modules/style-value-types/dist/es/color/hex.js","webpack://gatsby-starter-default/./node_modules/style-value-types/dist/es/color/hsla.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/mix-color.js","webpack://gatsby-starter-default/./node_modules/style-value-types/dist/es/color/index.js","webpack://gatsby-starter-default/./node_modules/style-value-types/dist/es/complex/index.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/inc.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/mix-complex.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/interpolate.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/easing/utils.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/easing/index.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/animations/generators/keyframes.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/animations/utils/detect-animation-from-options.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/animations/generators/decay.js","webpack://gatsby-starter-default/./node_modules/framesync/dist/es/on-next-frame.js","webpack://gatsby-starter-default/./node_modules/framesync/dist/es/index.js","webpack://gatsby-starter-default/./node_modules/framesync/dist/es/create-render-step.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/animations/utils/elapsed.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/animations/index.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/velocity-per-second.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/time-conversion.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/easing/cubic-bezier.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/animation/utils/easing.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/animation/utils/is-animatable.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/animation/utils/default-transitions.js","webpack://gatsby-starter-default/./node_modules/style-value-types/dist/es/complex/filter.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/value-types/defaults.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/animation/utils/transitions.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/animations/inertia.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/array.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/subscription-manager.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/value/index.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/value-types/test.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/value-types/find.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/setters.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/animation.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/animation-state.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/features/animations.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/is-point.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/is-point-3d.js","webpack://gatsby-starter-default/./node_modules/popmotion/dist/es/utils/distance.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/PanSession.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/noop.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/geometry/index.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/each-axis.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/projection/measure.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/geometry/delta-calc.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/compare-by-depth.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/projection/utils.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/features/layout/utils.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/is-draggable.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/geometry/delta-apply.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/utils/batch-layout.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/projection/convert-to-relative.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/features/drag.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/components/AnimateSharedLayout/types.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/use-pan-gesture.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/gestures/drag/use-drag.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/projection/default-scale-correctors.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/features/layout/Animate.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/components/AnimateSharedLayout/utils/batcher.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/context/SharedLayoutContext.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/features/layout/Measure.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/motion/features/layout/index.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/state.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/html/utils/build-projection-transform.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/lifecycles.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/projection.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/flat-tree.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/index.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/utils/motion-values.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/projection/relative-set.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/html/visual-element.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/utils/is-numerical-string.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/svg/visual-element.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/create-visual-element.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/motion.js","webpack://gatsby-starter-default/./node_modules/framer-motion/dist/es/render/dom/utils/create-config.js","webpack://gatsby-starter-default/./node_modules/@mui/system/esm/Box/Box.js","webpack://gatsby-starter-default/./src/components/EventList/index.js","webpack://gatsby-starter-default/./src/pages/events.js","webpack://gatsby-starter-default/./src/components/Footer/index.js"],"sourcesContent":["import * as React from \"react\"\n\nexport const EVENTS_CONTENT = {\n    en: {\n        title: \"Calendar of Events\",\n        content: <>\n            <div style={{display: \"flex\", width: \"80%\", height: \"80%\"}} data-events-calendar-app data-project-id=\"proj_rcajbWhaMnIMxDi4zif5R\" ></div>\n            <script type=\"text/javascript\" src=\"//dist.eventscalendar.co/embed.js\"></script>\n        </>\n    },\n    ua: {\n        title: \" \",\n        content: <>\n            <div style={{display: \"flex\", width: \"80%\", height: \"80%\"}} data-events-calendar-app data-project-id=\"proj_rcajbWhaMnIMxDi4zif5R\" ></div>\n            <script type=\"text/javascript\" src=\"//dist.eventscalendar.co/embed.js\"></script>\n        </>\n    }\n}","var createDefinition = function (propNames) { return ({\n    isEnabled: function (props) { return propNames.some(function (name) { return !!props[name]; }); },\n}); };\nvar featureDefinitions = {\n    measureLayout: createDefinition([\n        \"layout\",\n        \"layoutId\",\n        \"drag\",\n        \"_layoutResetTransform\",\n    ]),\n    animation: createDefinition([\n        \"animate\",\n        \"exit\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ]),\n    exit: createDefinition([\"exit\"]),\n    drag: createDefinition([\"drag\", \"dragControls\"]),\n    focus: createDefinition([\"whileFocus\"]),\n    hover: createDefinition([\"whileHover\", \"onHoverStart\", \"onHoverEnd\"]),\n    tap: createDefinition([\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"]),\n    pan: createDefinition([\n        \"onPan\",\n        \"onPanStart\",\n        \"onPanSessionStart\",\n        \"onPanEnd\",\n    ]),\n    layoutAnimation: createDefinition([\"layout\", \"layoutId\"]),\n};\nfunction loadFeatures(features) {\n    for (var key in features) {\n        var Component = features[key];\n        if (Component !== null)\n            featureDefinitions[key].Component = Component;\n    }\n}\n\nexport { featureDefinitions, loadFeatures };\n","import { createContext } from 'react';\n\nvar LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","import { __assign } from 'tslib';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { featureDefinitions } from './definitions.js';\nimport { invariant } from 'hey-listen';\nimport { LazyContext } from '../../context/LazyContext.js';\n\nvar featureNames = Object.keys(featureDefinitions);\nvar numFeatures = featureNames.length;\n/**\n * Load features via renderless components based on the provided MotionProps.\n */\nfunction useFeatures(props, visualElement, preloadedFeatures) {\n    var features = [];\n    var lazyContext = useContext(LazyContext);\n    if (!visualElement)\n        return null;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (process.env.NODE_ENV !== \"production\" &&\n        preloadedFeatures &&\n        lazyContext.strict) {\n        invariant(false, \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\");\n    }\n    for (var i = 0; i < numFeatures; i++) {\n        var name_1 = featureNames[i];\n        var _a = featureDefinitions[name_1], isEnabled = _a.isEnabled, Component = _a.Component;\n        /**\n         * It might be possible in the future to use this moment to\n         * dynamically request functionality. In initial tests this\n         * was producing a lot of duplication amongst bundles.\n         */\n        if (isEnabled(props) && Component) {\n            features.push(React.createElement(Component, __assign({ key: name_1 }, props, { visualElement: visualElement })));\n        }\n    }\n    return features;\n}\n\nexport { useFeatures };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nvar MotionConfigContext = createContext({\n    transformPagePoint: function (p) { return p; },\n    isStatic: false,\n});\n\nexport { MotionConfigContext };\n","import { useContext, createContext } from 'react';\n\nvar MotionContext = createContext({});\nfunction useVisualElementContext() {\n    return useContext(MotionContext).visualElement;\n}\n\nexport { MotionContext, useVisualElementContext };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nvar PresenceContext = createContext(null);\n\nexport { PresenceContext };\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    var ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","import { useContext, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n    var context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    var isPresent = context.isPresent, onExitComplete = context.onExitComplete, register = context.register;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    // Replace with useOpaqueId when released in React\n    var id = useUniqueId();\n    useEffect(function () { return register(id); }, []);\n    var safeToRemove = function () { return onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete(id); };\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\nvar counter = 0;\nvar incrementId = function () { return counter++; };\nvar useUniqueId = function () { return useConstant(incrementId); };\n\nexport { isPresent, useIsPresent, usePresence };\n","import { createContext } from 'react';\n\n/**\n * @internal\n */\nvar LayoutGroupContext = createContext(null);\n\nexport { LayoutGroupContext };\n","var isBrowser = typeof window !== \"undefined\";\n\nexport { isBrowser };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.js';\n\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { __assign } from 'tslib';\nimport { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { isPresent } from '../../components/AnimatePresence/use-presence.js';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.js';\nimport { useVisualElementContext } from '../../context/MotionContext/index.js';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.js';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { LazyContext } from '../../context/LazyContext.js';\n\nfunction useLayoutId(_a) {\n    var layoutId = _a.layoutId;\n    var layoutGroupId = useContext(LayoutGroupContext);\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    var config = useContext(MotionConfigContext);\n    var lazyContext = useContext(LazyContext);\n    var parent = useVisualElementContext();\n    var presenceContext = useContext(PresenceContext);\n    var layoutId = useLayoutId(props);\n    var visualElementRef = useRef(undefined);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    if (!createVisualElement)\n        createVisualElement = lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState: visualState,\n            parent: parent,\n            props: __assign(__assign({}, props), { layoutId: layoutId }),\n            presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n            blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false,\n        });\n    }\n    var visualElement = visualElementRef.current;\n    useIsomorphicLayoutEffect(function () {\n        if (!visualElement)\n            return;\n        visualElement.setProps(__assign(__assign(__assign({}, config), props), { layoutId: layoutId }));\n        visualElement.isPresent = isPresent(presenceContext);\n        visualElement.isPresenceRoot =\n            !parent || parent.presenceId !== (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id);\n        /**\n         * Fire a render to ensure the latest state is reflected on-screen.\n         */\n        visualElement.syncRender();\n    });\n    useEffect(function () {\n        var _a;\n        if (!visualElement)\n            return;\n        /**\n         * In a future refactor we can replace the features-as-components and\n         * have this loop through them all firing \"effect\" listeners\n         */\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n    });\n    useIsomorphicLayoutEffect(function () { return function () { return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount(); }; }, []);\n    return visualElement;\n}\n\nexport { useVisualElement };\n","function isRefObject(ref) {\n    return (typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","/**\n * Decides if the supplied variable is an array of variant labels\n */\nfunction isVariantLabels(v) {\n    return Array.isArray(v);\n}\n/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || isVariantLabels(v);\n}\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n    var current = {};\n    visualElement.forEachValue(function (value, key) { return (current[key] = value.get()); });\n    return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity(visualElement) {\n    var velocity = {};\n    visualElement.forEachValue(function (value, key) { return (velocity[key] = value.getVelocity()); });\n    return velocity;\n}\nfunction resolveVariantFromProps(props, definition, custom, currentValues, currentVelocity) {\n    var _a;\n    if (currentValues === void 0) { currentValues = {}; }\n    if (currentVelocity === void 0) { currentVelocity = {}; }\n    if (typeof definition === \"string\") {\n        definition = (_a = props.variants) === null || _a === void 0 ? void 0 : _a[definition];\n    }\n    return typeof definition === \"function\"\n        ? definition(custom !== null && custom !== void 0 ? custom : props.custom, currentValues, currentVelocity)\n        : definition;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n    var props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== null && custom !== void 0 ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\nfunction checkIfControllingVariants(props) {\n    var _a;\n    return (typeof ((_a = props.animate) === null || _a === void 0 ? void 0 : _a.start) === \"function\" ||\n        isVariantLabel(props.initial) ||\n        isVariantLabel(props.animate) ||\n        isVariantLabel(props.whileHover) ||\n        isVariantLabel(props.whileDrag) ||\n        isVariantLabel(props.whileTap) ||\n        isVariantLabel(props.whileFocus) ||\n        isVariantLabel(props.exit));\n}\nfunction checkIfVariantNode(props) {\n    return Boolean(checkIfControllingVariants(props) || props.variants);\n}\n\nexport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel, isVariantLabels, resolveVariant, resolveVariantFromProps };\n","import { useMemo, useContext } from 'react';\nimport { MotionContext } from './index.js';\nimport { getCurrentTreeVariants } from './utils.js';\n\nfunction useCreateMotionContext(props, isStatic) {\n    var _a = getCurrentTreeVariants(props, useContext(MotionContext)), initial = _a.initial, animate = _a.animate;\n    return useMemo(function () { return ({ initial: initial, animate: animate }); }, \n    /**\n     * Only break memoisation in static mode\n     */\n    isStatic\n        ? [\n            variantLabelsAsDependency(initial),\n            variantLabelsAsDependency(animate),\n        ]\n        : []);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","import { checkIfControllingVariants, isVariantLabel } from '../../render/utils/variants.js';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (checkIfControllingVariants(props)) {\n        var initial = props.initial, animate = props.animate;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { useFeatures } from './features/use-features.js';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { MotionContext } from '../context/MotionContext/index.js';\nimport { useVisualElement } from './utils/use-visual-element.js';\nimport { useMotionRef } from './utils/use-motion-ref.js';\nimport { useCreateMotionContext } from '../context/MotionContext/create.js';\nimport { loadFeatures } from './features/definitions.js';\nimport { isBrowser } from '../utils/is-browser.js';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n *\n * @internal\n */\nfunction createMotionComponent(_a) {\n    var preloadedFeatures = _a.preloadedFeatures, createVisualElement = _a.createVisualElement, useRender = _a.useRender, useVisualState = _a.useVisualState, Component = _a.Component;\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we're rendering in a static environment, we only visually update the component\n         * as a result of a React-rerender rather than interactions or animations. This\n         * means we don't need to load additional memory structures like VisualElement,\n         * or any gesture/animation features.\n         */\n        var isStatic = useContext(MotionConfigContext).isStatic;\n        var features = null;\n        /**\n         * Create the tree context. This is memoized and will only trigger renders\n         * when the current tree variant changes in static mode.\n         */\n        var context = useCreateMotionContext(props, isStatic);\n        /**\n         *\n         */\n        var visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, props, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             *\n             * TODO: The intention is to move these away from a React-centric to a\n             * VisualElement-centric lifecycle scheme.\n             */\n            features = useFeatures(props, context.visualElement, preloadedFeatures);\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React.createElement(React.Fragment, null,\n            React.createElement(MotionContext.Provider, { value: context }, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic)),\n            features));\n    }\n    return forwardRef(MotionComponent);\n}\n\nexport { createMotionComponent };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.js';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback(function (instance) {\n        var _a;\n        instance && ((_a = visualState.mount) === null || _a === void 0 ? void 0 : _a.call(visualState, instance));\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","import { createMotionComponent } from '../../motion/index.js';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig) {\n        if (customMotionComponentConfig === void 0) { customMotionComponentConfig = {}; }\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    var componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: function (_target, key) {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nvar lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"svg\",\n    \"switch\",\n    \"symbol\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.js';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","var valueScaleCorrection = {};\n/**\n * @internal\n */\nfunction addScaleCorrection(correctors) {\n    for (var key in correctors) {\n        valueScaleCorrection[key] = correctors[key];\n    }\n}\n\nexport { addScaleCorrection, valueScaleCorrection };\n","/**\n * A list of all transformable axes. We'll use this list to generated a version\n * of each axes for each transform.\n */\nvar transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * An ordered array of each transformable value. By default, transform values\n * will be sorted to this order.\n */\nvar order = [\"translate\", \"scale\", \"rotate\", \"skew\"];\n/**\n * Generate a list of every possible transform key.\n */\nvar transformProps = [\"transformPerspective\", \"x\", \"y\", \"z\"];\norder.forEach(function (operationKey) {\n    return transformAxes.forEach(function (axesKey) {\n        return transformProps.push(operationKey + axesKey);\n    });\n});\n/**\n * A function to use with Array.sort to sort transform keys by their default order.\n */\nfunction sortTransformProps(a, b) {\n    return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\n/**\n * A quick lookup for transform props.\n */\nvar transformPropSet = new Set(transformProps);\nfunction isTransformProp(key) {\n    return transformPropSet.has(key);\n}\n/**\n * A quick lookup for transform origin props\n */\nvar transformOriginProps = new Set([\"originX\", \"originY\", \"originZ\"]);\nfunction isTransformOriginProp(key) {\n    return transformOriginProps.has(key);\n}\n\nexport { isTransformOriginProp, isTransformProp, sortTransformProps, transformAxes, transformProps };\n","import { valueScaleCorrection } from '../../render/dom/projection/scale-correction.js';\nimport { isTransformProp, isTransformOriginProp } from '../../render/html/utils/transform.js';\n\nfunction isForcedMotionValue(key, _a) {\n    var layout = _a.layout, layoutId = _a.layoutId;\n    return (isTransformProp(key) ||\n        isTransformOriginProp(key) ||\n        ((layout || layoutId !== undefined) &&\n            (!!valueScaleCorrection[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","var isMotionValue = function (value) {\n    return value !== null && typeof value === \"object\" && value.getVelocity;\n};\n\nexport { isMotionValue };\n","import { sortTransformProps } from './transform.js';\n\nvar translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(_a, _b, transformIsDefault, transformTemplate) {\n    var transform = _a.transform, transformKeys = _a.transformKeys;\n    var _c = _b.enableHardwareAcceleration, enableHardwareAcceleration = _c === void 0 ? true : _c, _d = _b.allowTransformNone, allowTransformNone = _d === void 0 ? true : _d;\n    // The transform string we're going to build into.\n    var transformString = \"\";\n    // Transform keys into their default order - this will determine the output order.\n    transformKeys.sort(sortTransformProps);\n    // Track whether the defined transform has a defined z so we don't add a\n    // second to enable hardware acceleration\n    var transformHasZ = false;\n    // Loop over each transform and build them into transformString\n    var numTransformKeys = transformKeys.length;\n    for (var i = 0; i < numTransformKeys; i++) {\n        var key = transformKeys[i];\n        transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n        if (key === \"z\")\n            transformHasZ = true;\n    }\n    if (!transformHasZ && enableHardwareAcceleration) {\n        transformString += \"translateZ(0)\";\n    }\n    else {\n        transformString = transformString.trim();\n    }\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (allowTransformNone && transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n/**\n * Build a transformOrigin style. Uses the same defaults as the browser for\n * undefined origins.\n */\nfunction buildTransformOrigin(_a) {\n    var _b = _a.originX, originX = _b === void 0 ? \"50%\" : _b, _c = _a.originY, originY = _c === void 0 ? \"50%\" : _c, _d = _a.originZ, originZ = _d === void 0 ? 0 : _d;\n    return originX + \" \" + originY + \" \" + originZ;\n}\n\nexport { buildTransform, buildTransformOrigin };\n","/**\n * Returns true if the provided key is a CSS variable\n */\nfunction isCSSVariable(key) {\n    return key.startsWith(\"--\");\n}\n\nexport { isCSSVariable };\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nvar getValueAsType = function (value, type) {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","var clamp = function (min, max) { return function (v) {\n    return Math.max(Math.min(v, max), min);\n}; };\nvar sanitize = function (v) { return (v % 1 ? Number(v.toFixed(5)) : v); };\nvar floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))/gi;\nvar singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))$/i;\nfunction isString(v) {\n    return typeof v === 'string';\n}\n\nexport { clamp, colorRegex, floatRegex, isString, sanitize, singleColorRegex };\n","import { __assign } from 'tslib';\nimport { isString } from '../utils.js';\n\nvar createUnitType = function (unit) { return ({\n    test: function (v) {\n        return isString(v) && v.endsWith(unit) && v.split(' ').length === 1;\n    },\n    parse: parseFloat,\n    transform: function (v) { return \"\" + v + unit; },\n}); };\nvar degrees = createUnitType('deg');\nvar percent = createUnitType('%');\nvar px = createUnitType('px');\nvar vh = createUnitType('vh');\nvar vw = createUnitType('vw');\nvar progressPercentage = __assign(__assign({}, percent), { parse: function (v) { return percent.parse(v) / 100; }, transform: function (v) { return percent.transform(v * 100); } });\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { __assign } from 'tslib';\nimport { clamp } from '../utils.js';\n\nvar number = {\n    test: function (v) { return typeof v === 'number'; },\n    parse: parseFloat,\n    transform: function (v) { return v; },\n};\nvar alpha = __assign(__assign({}, number), { transform: clamp(0, 1) });\nvar scale = __assign(__assign({}, number), { default: 1 });\n\nexport { alpha, number, scale };\n","import { __assign } from 'tslib';\nimport { number } from 'style-value-types';\n\nvar int = __assign(__assign({}, number), { transform: Math.round });\n\nexport { int };\n","import { px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { int } from './type-int.js';\n\nvar numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Transform props\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale: scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    // Misc\n    zIndex: int,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","import { valueScaleCorrection } from '../../dom/projection/scale-correction.js';\nimport { buildTransform, buildTransformOrigin } from './build-transform.js';\nimport { isCSSVariable } from '../../dom/utils/is-css-variable.js';\nimport { isTransformProp, isTransformOriginProp } from './transform.js';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.js';\nimport { numberValueTypes } from '../../dom/value-types/number.js';\n\nfunction buildHTMLStyles(state, latestValues, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n    var _a;\n    var style = state.style, vars = state.vars, transform = state.transform, transformKeys = state.transformKeys, transformOrigin = state.transformOrigin;\n    // Empty the transformKeys array. As we're throwing out refs to its items\n    // this might not be as cheap as suspected. Maybe using the array as a buffer\n    // with a manual incrementation would be better.\n    transformKeys.length = 0;\n    // Track whether we encounter any transform or transformOrigin values.\n    var hasTransform = false;\n    var hasTransformOrigin = false;\n    // Does the calculated transform essentially equal \"none\"?\n    var transformIsNone = true;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept seperately for further processing.\n     */\n    for (var key in latestValues) {\n        var value = latestValues[key];\n        /**\n         * If this is a CSS variable we don't do any further processing.\n         */\n        if (isCSSVariable(key)) {\n            vars[key] = value;\n            continue;\n        }\n        // Convert the value to its default value type, ie 0 -> \"0px\"\n        var valueType = numberValueTypes[key];\n        var valueAsType = getValueAsType(value, valueType);\n        if (isTransformProp(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            transform[key] = valueAsType;\n            transformKeys.push(key);\n            // If we already know we have a non-default transform, early return\n            if (!transformIsNone)\n                continue;\n            // Otherwise check to see if this is a default transform\n            if (value !== ((_a = valueType.default) !== null && _a !== void 0 ? _a : 0))\n                transformIsNone = false;\n        }\n        else if (isTransformOriginProp(key)) {\n            transformOrigin[key] = valueAsType;\n            // If this is a transform origin, flag and enable further transform-origin processing\n            hasTransformOrigin = true;\n        }\n        else {\n            /**\n             * If layout projection is on, and we need to perform scale correction for this\n             * value type, perform it.\n             */\n            if ((projection === null || projection === void 0 ? void 0 : projection.isHydrated) &&\n                (layoutState === null || layoutState === void 0 ? void 0 : layoutState.isHydrated) &&\n                valueScaleCorrection[key]) {\n                var correctedValue = valueScaleCorrection[key].process(value, layoutState, projection);\n                /**\n                 * Scale-correctable values can define a number of other values to break\n                 * down into. For instance borderRadius needs applying to borderBottomLeftRadius etc\n                 */\n                var applyTo = valueScaleCorrection[key].applyTo;\n                if (applyTo) {\n                    var num = applyTo.length;\n                    for (var i = 0; i < num; i++) {\n                        style[applyTo[i]] = correctedValue;\n                    }\n                }\n                else {\n                    style[key] = correctedValue;\n                }\n            }\n            else {\n                style[key] = valueAsType;\n            }\n        }\n    }\n    if (layoutState &&\n        projection &&\n        buildProjectionTransform &&\n        buildProjectionTransformOrigin) {\n        style.transform = buildProjectionTransform(layoutState.deltaFinal, layoutState.treeScale, hasTransform ? transform : undefined);\n        if (transformTemplate) {\n            style.transform = transformTemplate(transform, style.transform);\n        }\n        style.transformOrigin = buildProjectionTransformOrigin(layoutState);\n    }\n    else {\n        if (hasTransform) {\n            style.transform = buildTransform(state, options, transformIsNone, transformTemplate);\n        }\n        if (hasTransformOrigin) {\n            style.transformOrigin = buildTransformOrigin(transformOrigin);\n        }\n    }\n}\n\nexport { buildHTMLStyles };\n","var createHtmlRenderState = function () { return ({\n    style: {},\n    transform: {},\n    transformKeys: [],\n    transformOrigin: {},\n    vars: {},\n}); };\n\nexport { createHtmlRenderState };\n","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (var key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues(_a, visualState, isStatic) {\n    var transformTemplate = _a.transformTemplate;\n    return useMemo(function () {\n        var state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, undefined, undefined, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        var vars = state.vars, style = state.style;\n        return __assign(__assign({}, vars), style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    var styleProp = props.style || {};\n    var style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    if (props.transformValues) {\n        style = props.transformValues(style);\n    }\n    return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    var htmlProps = {};\n    var style = useStyle(props, visualState, isStatic);\n    if (Boolean(props.drag)) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect = style.WebkitUserSelect = style.WebkitTouchCallout =\n            \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : \"pan-\" + (props.drag === \"x\" ? \"y\" : \"x\");\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps, useStyle };\n","/**\n * A list of all valid MotionProps.\n *\n * @internalremarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nvar validMotionProps = new Set([\n    \"initial\",\n    \"animate\",\n    \"exit\",\n    \"style\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"transformValues\",\n    \"custom\",\n    \"inherit\",\n    \"layout\",\n    \"layoutId\",\n    \"_layoutResetTransform\",\n    \"onLayoutAnimationComplete\",\n    \"onViewportBoxUpdate\",\n    \"onLayoutMeasure\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"drag\",\n    \"dragControls\",\n    \"dragListener\",\n    \"dragConstraints\",\n    \"dragDirectionLock\",\n    \"_dragX\",\n    \"_dragY\",\n    \"dragElastic\",\n    \"dragMomentum\",\n    \"dragPropagation\",\n    \"dragTransition\",\n    \"whileDrag\",\n    \"onPan\",\n    \"onPanStart\",\n    \"onPanEnd\",\n    \"onPanSessionStart\",\n    \"onTap\",\n    \"onTapStart\",\n    \"onTapCancel\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"whileFocus\",\n    \"whileTap\",\n    \"whileHover\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return validMotionProps.has(key);\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.js';\n\nvar shouldForward = function (key) { return !isValidMotionProp(key); };\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    var emotionIsPropValid_1 = require(\"@emotion/is-prop-valid\").default;\n    shouldForward = function (key) {\n        // Handle events explicitly as Emotion validates them all as true\n        if (key.startsWith(\"on\")) {\n            return !isValidMotionProp(key);\n        }\n        else {\n            return emotionIsPropValid_1(key);\n        }\n    };\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    var filteredProps = {};\n    for (var key in props) {\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps };\n","import { px } from 'style-value-types';\n\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === \"string\"\n        ? origin\n        : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n    var pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n    var pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n    return pxOriginX + \" \" + pxOriginY;\n}\n\nexport { calcSVGTransformOrigin };\n","import { px } from 'style-value-types';\n\n// Convert a progress 0-1 to a pixels value based on the provided length\nvar progressToPixels = function (progress, length) {\n    return px.transform(progress * length);\n};\nvar dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nvar camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, totalLength, length, spacing, offset, useDashCase) {\n    if (spacing === void 0) { spacing = 1; }\n    if (offset === void 0) { offset = 0; }\n    if (useDashCase === void 0) { useDashCase = true; }\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    var keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = progressToPixels(-offset, totalLength);\n    // Build the dash array\n    var pathLength = progressToPixels(length, totalLength);\n    var pathSpacing = progressToPixels(spacing, totalLength);\n    attrs[keys.array] = pathLength + \" \" + pathSpacing;\n}\n\nexport { buildSVGPath };\n","import { __rest } from 'tslib';\nimport { buildHTMLStyles } from '../../html/utils/build-styles.js';\nimport { calcSVGTransformOrigin } from './transform-origin.js';\nimport { buildSVGPath } from './path.js';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, _a, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n    var attrX = _a.attrX, attrY = _a.attrY, originX = _a.originX, originY = _a.originY, pathLength = _a.pathLength, _b = _a.pathSpacing, pathSpacing = _b === void 0 ? 1 : _b, _c = _a.pathOffset, pathOffset = _c === void 0 ? 0 : _c, \n    // This is object creation, which we try to avoid per-frame.\n    latest = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n    buildHTMLStyles(state, latest, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin);\n    state.attrs = state.style;\n    state.style = {};\n    var attrs = state.attrs, style = state.style, dimensions = state.dimensions, totalPathLength = state.totalPathLength;\n    /**\n     * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n     * and copy it into style.\n     */\n    if (attrs.transform) {\n        if (dimensions)\n            style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    // Parse transformOrigin\n    if (dimensions &&\n        (originX !== undefined || originY !== undefined || style.transform)) {\n        style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n    }\n    // Treat x/y not as shortcuts but as actual attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    // Build SVG path if one has been measured\n    if (totalPathLength !== undefined && pathLength !== undefined) {\n        buildSVGPath(attrs, totalPathLength, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","import { __assign } from 'tslib';\nimport { createHtmlRenderState } from '../../html/utils/create-render-state.js';\n\nvar createSvgRenderState = function () { return (__assign(__assign({}, createHtmlRenderState()), { attrs: {} })); };\n\nexport { createSvgRenderState };\n","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\n\nfunction useSVGProps(props, visualState) {\n    var visualProps = useMemo(function () {\n        var state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, undefined, undefined, { enableHardwareAcceleration: false }, props.transformTemplate);\n        return __assign(__assign({}, state.attrs), { style: __assign({}, state.style) });\n    }, [visualState]);\n    if (props.style) {\n        var rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = __assign(__assign({}, rawStyles), visualProps.style);\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { __assign } from 'tslib';\nimport { createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.js';\nimport { filterProps } from './utils/filter-props.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\nimport { useSVGProps } from '../svg/use-props.js';\n\nfunction createUseRender(forwardMotionProps) {\n    if (forwardMotionProps === void 0) { forwardMotionProps = false; }\n    var useRender = function (Component, props, ref, _a, isStatic) {\n        var latestValues = _a.latestValues;\n        var useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        var visualProps = useVisualProps(props, latestValues, isStatic);\n        var filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        var elementProps = __assign(__assign(__assign({}, filteredProps), visualProps), { ref: ref });\n        return createElement(Component, elementProps);\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","var CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = \"$1-$2\";\n/**\n * Convert camelCase to dash-case properties.\n */\nvar camelToDash = function (str) {\n    return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\n\nexport { camelToDash };\n","function renderHTML(element, _a) {\n    var style = _a.style, vars = _a.vars;\n    // Directly assign style into the Element's style prop. In tests Object.assign is the\n    // fastest way to assign styles.\n    Object.assign(element.style, style);\n    // Loop over any CSS variables and assign those.\n    for (var key in vars) {\n        element.style.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nvar camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n]);\n\nexport { camelCaseAttributes };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.js';\nimport { renderHTML } from '../../html/utils/render.js';\nimport { camelCaseAttributes } from './camel-case-attrs.js';\n\nfunction renderSVG(element, renderState) {\n    renderHTML(element, renderState);\n    for (var key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.js';\n\nfunction scrapeMotionValuesFromProps(props) {\n    var style = props.style;\n    var newValues = {};\n    for (var key in style) {\n        if (isMotionValue(style[key]) || isForcedMotionValue(key, props)) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { isMotionValue } from '../../../value/utils/is-motion-value.js';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.js';\n\nfunction scrapeMotionValuesFromProps(props) {\n    var newValues = scrapeMotionValuesFromProps$1(props);\n    for (var key in props) {\n        if (isMotionValue(props[key])) {\n            var targetKey = key === \"x\" || key === \"y\" ? \"attr\" + key.toUpperCase() : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","function isAnimationControls(v) {\n    return typeof v === \"object\" && typeof v.start === \"function\";\n}\n\nexport { isAnimationControls };\n","var isKeyframesTarget = function (v) {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","import { isCustomValue } from '../../utils/resolve-value.js';\nimport { isMotionValue } from './is-motion-value.js';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n *\n * @internal\n */\nfunction resolveMotionValue(value) {\n    var unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.js';\n\nvar isCustomValue = function (v) {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nvar resolveFinalValueInKeyframes = function (v) {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };\n","import { __rest } from 'tslib';\nimport { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { checkIfControllingVariants, checkIfVariantNode, resolveVariantFromProps } from '../../render/utils/variants.js';\nimport { useConstant } from '../../utils/use-constant.js';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.js';\nimport { MotionContext } from '../../context/MotionContext/index.js';\n\nfunction makeState(_a, props, context, presenceContext) {\n    var scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps, createRenderState = _a.createRenderState, onMount = _a.onMount;\n    var state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = function (instance) { return onMount(props, instance, state); };\n    }\n    return state;\n}\nvar makeUseVisualState = function (config) { return function (props, isStatic) {\n    var context = useContext(MotionContext);\n    var presenceContext = useContext(PresenceContext);\n    return isStatic\n        ? makeState(config, props, context, presenceContext)\n        : useConstant(function () { return makeState(config, props, context, presenceContext); });\n}; };\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    var values = {};\n    var blockInitialAnimation = (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false;\n    var motionValues = scrapeMotionValues(props);\n    for (var key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    var initial = props.initial, animate = props.animate;\n    var isControllingVariants = checkIfControllingVariants(props);\n    var isVariantNode = checkIfVariantNode(props);\n    if (context &&\n        isVariantNode &&\n        !isControllingVariants &&\n        props.inherit !== false) {\n        initial !== null && initial !== void 0 ? initial : (initial = context.initial);\n        animate !== null && animate !== void 0 ? animate : (animate = context.animate);\n    }\n    var variantToSet = blockInitialAnimation || initial === false ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        var list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach(function (definition) {\n            var resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            var transitionEnd = resolved.transitionEnd; resolved.transition; var target = __rest(resolved, [\"transitionEnd\", \"transition\"]);\n            for (var key in target)\n                values[key] = target[key];\n            for (var key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","import { renderSVG } from './utils/render.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\n\nvar svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: function (props, instance, _a) {\n            var renderState = _a.renderState, latestValues = _a.latestValues;\n            try {\n                renderState.dimensions =\n                    typeof instance.getBBox ===\n                        \"function\"\n                        ? instance.getBBox()\n                        : instance.getBoundingClientRect();\n            }\n            catch (e) {\n                // Most likely trying to measure an unrendered element under Firefox\n                renderState.dimensions = {\n                    x: 0,\n                    y: 0,\n                    width: 0,\n                    height: 0,\n                };\n            }\n            if (isPath(instance)) {\n                renderState.totalPathLength = instance.getTotalLength();\n            }\n            buildSVGAttrs(renderState, latestValues, undefined, undefined, { enableHardwareAcceleration: false }, props.transformTemplate);\n            // TODO: Replace with direct assignment\n            renderSVG(instance, renderState);\n        },\n    }),\n};\nfunction isPath(element) {\n    return element.tagName === \"path\";\n}\n\nexport { svgMotionConfig };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\n\nvar htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","var AnimationType;\n(function (AnimationType) {\n    AnimationType[\"Animate\"] = \"animate\";\n    AnimationType[\"Hover\"] = \"whileHover\";\n    AnimationType[\"Tap\"] = \"whileTap\";\n    AnimationType[\"Drag\"] = \"whileDrag\";\n    AnimationType[\"Focus\"] = \"whileFocus\";\n    AnimationType[\"Exit\"] = \"exit\";\n})(AnimationType || (AnimationType = {}));\n\nexport { AnimationType };\n","import { useEffect } from 'react';\n\nfunction addDomEvent(target, eventName, handler, options) {\n    target.addEventListener(eventName, handler, options);\n    return function () { return target.removeEventListener(eventName, handler, options); };\n}\n/**\n * Attaches an event listener directly to the provided DOM element.\n *\n * Bypassing React's event system can be desirable, for instance when attaching non-passive\n * event handlers.\n *\n * ```jsx\n * const ref = useRef(null)\n *\n * useDomEvent(ref, 'wheel', onWheel, { passive: false })\n *\n * return <div ref={ref} />\n * ```\n *\n * @param ref - React.RefObject that's been provided to the element you want to bind the listener to.\n * @param eventName - Name of the event you want listen for.\n * @param handler - Function to fire when receiving the event.\n * @param options - Options to pass to `Event.addEventListener`.\n *\n * @public\n */\nfunction useDomEvent(ref, eventName, handler, options) {\n    useEffect(function () {\n        var element = ref.current;\n        if (handler && element) {\n            return addDomEvent(element, eventName, handler, options);\n        }\n    }, [ref, eventName, handler, options]);\n}\n\nexport { addDomEvent, useDomEvent };\n","function isMouseEvent(event) {\n    // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n    if (typeof PointerEvent !== \"undefined\" && event instanceof PointerEvent) {\n        return !!(event.pointerType === \"mouse\");\n    }\n    return event instanceof MouseEvent;\n}\nfunction isTouchEvent(event) {\n    var hasTouches = !!event.touches;\n    return hasTouches;\n}\n\nexport { isMouseEvent, isTouchEvent };\n","import { isTouchEvent } from '../gestures/utils/event-type.js';\n\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\nfunction filterPrimaryPointer(eventHandler) {\n    return function (event) {\n        var isMouseEvent = event instanceof MouseEvent;\n        var isPrimaryPointer = !isMouseEvent ||\n            (isMouseEvent && event.button === 0);\n        if (isPrimaryPointer) {\n            eventHandler(event);\n        }\n    };\n}\nvar defaultPagePoint = { pageX: 0, pageY: 0 };\nfunction pointFromTouch(e, pointType) {\n    if (pointType === void 0) { pointType = \"page\"; }\n    var primaryTouch = e.touches[0] || e.changedTouches[0];\n    var point = primaryTouch || defaultPagePoint;\n    return {\n        x: point[pointType + \"X\"],\n        y: point[pointType + \"Y\"],\n    };\n}\nfunction pointFromMouse(point, pointType) {\n    if (pointType === void 0) { pointType = \"page\"; }\n    return {\n        x: point[pointType + \"X\"],\n        y: point[pointType + \"Y\"],\n    };\n}\nfunction extractEventInfo(event, pointType) {\n    if (pointType === void 0) { pointType = \"page\"; }\n    return {\n        point: isTouchEvent(event)\n            ? pointFromTouch(event, pointType)\n            : pointFromMouse(event, pointType),\n    };\n}\nfunction getViewportPointFromEvent(event) {\n    return extractEventInfo(event, \"client\");\n}\nvar wrapHandler = function (handler, shouldFilterPrimaryPointer) {\n    if (shouldFilterPrimaryPointer === void 0) { shouldFilterPrimaryPointer = false; }\n    var listener = function (event) {\n        return handler(event, extractEventInfo(event));\n    };\n    return shouldFilterPrimaryPointer\n        ? filterPrimaryPointer(listener)\n        : listener;\n};\n\nexport { extractEventInfo, getViewportPointFromEvent, wrapHandler };\n","import { useDomEvent, addDomEvent } from './use-dom-event.js';\nimport { wrapHandler } from './event-info.js';\nimport { supportsPointerEvents, supportsTouchEvents, supportsMouseEvents } from './utils.js';\n\nvar mouseEventNames = {\n    pointerdown: \"mousedown\",\n    pointermove: \"mousemove\",\n    pointerup: \"mouseup\",\n    pointercancel: \"mousecancel\",\n    pointerover: \"mouseover\",\n    pointerout: \"mouseout\",\n    pointerenter: \"mouseenter\",\n    pointerleave: \"mouseleave\",\n};\nvar touchEventNames = {\n    pointerdown: \"touchstart\",\n    pointermove: \"touchmove\",\n    pointerup: \"touchend\",\n    pointercancel: \"touchcancel\",\n};\nfunction getPointerEventName(name) {\n    if (supportsPointerEvents()) {\n        return name;\n    }\n    else if (supportsTouchEvents()) {\n        return touchEventNames[name];\n    }\n    else if (supportsMouseEvents()) {\n        return mouseEventNames[name];\n    }\n    return name;\n}\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, getPointerEventName(eventName), wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\nfunction usePointerEvent(ref, eventName, handler, options) {\n    return useDomEvent(ref, getPointerEventName(eventName), handler && wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\n\nexport { addPointerEvent, usePointerEvent };\n","import { isBrowser } from '../utils/is-browser.js';\n\n// We check for event support via functions in case they've been mocked by a testing suite.\nvar supportsPointerEvents = function () {\n    return isBrowser && window.onpointerdown === null;\n};\nvar supportsTouchEvents = function () {\n    return isBrowser && window.ontouchstart === null;\n};\nvar supportsMouseEvents = function () {\n    return isBrowser && window.onmousedown === null;\n};\n\nexport { supportsMouseEvents, supportsPointerEvents, supportsTouchEvents };\n","function createLock(name) {\n    var lock = null;\n    return function () {\n        var openLock = function () {\n            lock = null;\n        };\n        if (lock === null) {\n            lock = name;\n            return openLock;\n        }\n        return false;\n    };\n}\nvar globalHorizontalLock = createLock(\"dragHorizontal\");\nvar globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n    var lock = false;\n    if (drag === \"y\") {\n        lock = globalVerticalLock();\n    }\n    else if (drag === \"x\") {\n        lock = globalHorizontalLock();\n    }\n    else {\n        var openHorizontal_1 = globalHorizontalLock();\n        var openVertical_1 = globalVerticalLock();\n        if (openHorizontal_1 && openVertical_1) {\n            lock = function () {\n                openHorizontal_1();\n                openVertical_1();\n            };\n        }\n        else {\n            // Release the locks because we don't use them\n            if (openHorizontal_1)\n                openHorizontal_1();\n            if (openVertical_1)\n                openVertical_1();\n        }\n    }\n    return lock;\n}\nfunction isDragActive() {\n    // Check the gesture lock - if we get it, it means no drag gesture is active\n    // and we can safely fire the tap gesture.\n    var openGestureLock = getGlobalLock(true);\n    if (!openGestureLock)\n        return true;\n    openGestureLock();\n    return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };\n","import { isMouseEvent } from './utils/event-type.js';\nimport { AnimationType } from '../render/utils/types.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { isDragActive } from './drag/utils/lock.js';\n\nfunction createHoverEvent(visualElement, isActive, callback) {\n    return function (event, info) {\n        var _a;\n        if (!isMouseEvent(event) || isDragActive())\n            return;\n        callback === null || callback === void 0 ? void 0 : callback(event, info);\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Hover, isActive);\n    };\n}\nfunction useHoverGesture(_a) {\n    var onHoverStart = _a.onHoverStart, onHoverEnd = _a.onHoverEnd, whileHover = _a.whileHover, visualElement = _a.visualElement;\n    usePointerEvent(visualElement, \"pointerenter\", onHoverStart || whileHover\n        ? createHoverEvent(visualElement, true, onHoverStart)\n        : undefined);\n    usePointerEvent(visualElement, \"pointerleave\", onHoverEnd || whileHover\n        ? createHoverEvent(visualElement, false, onHoverEnd)\n        : undefined);\n}\n\nexport { useHoverGesture };\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nvar isNodeOrChild = function (parent, child) {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n    return useEffect(function () { return function () { return callback(); }; }, []);\n}\n\nexport { useUnmountEffect };\n","var combineFunctions = function (a, b) { return function (v) { return b(a(v)); }; };\nvar pipe = function () {\n    var transformers = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        transformers[_i] = arguments[_i];\n    }\n    return transformers.reduce(combineFunctions);\n};\n\nexport { pipe };\n","var makeRenderlessComponent = function (hook) { return function (props) {\n    hook(props);\n    return null;\n}; };\n\nexport { makeRenderlessComponent };\n","import { useFocusGesture } from '../../gestures/use-focus-gesture.js';\nimport { useHoverGesture } from '../../gestures/use-hover-gesture.js';\nimport { useTapGesture } from '../../gestures/use-tap-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\n\nvar gestureAnimations = {\n    tap: makeRenderlessComponent(useTapGesture),\n    focus: makeRenderlessComponent(useFocusGesture),\n    hover: makeRenderlessComponent(useHoverGesture),\n};\n\nexport { gestureAnimations };\n","import { useRef } from 'react';\nimport { isNodeOrChild } from './utils/is-node-or-child.js';\nimport { usePointerEvent, addPointerEvent } from '../events/use-pointer-event.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { pipe } from 'popmotion';\nimport { AnimationType } from '../render/utils/types.js';\nimport { isDragActive } from './drag/utils/lock.js';\n\n/**\n * @param handlers -\n * @internal\n */\nfunction useTapGesture(_a) {\n    var onTap = _a.onTap, onTapStart = _a.onTapStart, onTapCancel = _a.onTapCancel, whileTap = _a.whileTap, visualElement = _a.visualElement;\n    var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n    var isPressing = useRef(false);\n    var cancelPointerEndListeners = useRef(null);\n    function removePointerEndListener() {\n        var _a;\n        (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n        cancelPointerEndListeners.current = null;\n    }\n    function checkPointerEnd() {\n        var _a;\n        removePointerEndListener();\n        isPressing.current = false;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n        return !isDragActive();\n    }\n    function onPointerUp(event, info) {\n        if (!checkPointerEnd())\n            return;\n        /**\n         * We only count this as a tap gesture if the event.target is the same\n         * as, or a child of, this component's element\n         */\n        !isNodeOrChild(visualElement.getInstance(), event.target)\n            ? onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info)\n            : onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n    }\n    function onPointerCancel(event, info) {\n        if (!checkPointerEnd())\n            return;\n        onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n    }\n    function onPointerDown(event, info) {\n        var _a;\n        removePointerEndListener();\n        if (isPressing.current)\n            return;\n        isPressing.current = true;\n        cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n        onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n    }\n    usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? onPointerDown : undefined);\n    useUnmountEffect(removePointerEndListener);\n}\n\nexport { useTapGesture };\n","import { AnimationType } from '../render/utils/types.js';\nimport { useDomEvent } from '../events/use-dom-event.js';\n\n/**\n *\n * @param props\n * @param ref\n * @internal\n */\nfunction useFocusGesture(_a) {\n    var whileFocus = _a.whileFocus, visualElement = _a.visualElement;\n    var onFocus = function () {\n        var _a;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, true);\n    };\n    var onBlur = function () {\n        var _a;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, false);\n    };\n    useDomEvent(visualElement, \"focus\", whileFocus ? onFocus : undefined);\n    useDomEvent(visualElement, \"blur\", whileFocus ? onBlur : undefined);\n}\n\nexport { useFocusGesture };\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    var prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (var i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","var clamp = function (min, max, v) {\n    return Math.min(Math.max(v, min), max);\n};\n\nexport { clamp };\n","import { warning } from 'hey-listen';\nimport { clamp } from '../../utils/clamp.js';\n\nvar safeMin = 0.001;\nvar minDuration = 0.01;\nvar maxDuration = 10.0;\nvar minDamping = 0.05;\nvar maxDamping = 1;\nfunction findSpring(_a) {\n    var _b = _a.duration, duration = _b === void 0 ? 800 : _b, _c = _a.bounce, bounce = _c === void 0 ? 0.25 : _c, _d = _a.velocity, velocity = _d === void 0 ? 0 : _d, _e = _a.mass, mass = _e === void 0 ? 1 : _e;\n    var envelope;\n    var derivative;\n    warning(duration <= maxDuration * 1000, \"Spring duration must be 10 seconds or less\");\n    var dampingRatio = 1 - bounce;\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, duration / 1000);\n    if (dampingRatio < 1) {\n        envelope = function (undampedFreq) {\n            var exponentialDecay = undampedFreq * dampingRatio;\n            var delta = exponentialDecay * duration;\n            var a = exponentialDecay - velocity;\n            var b = calcAngularFreq(undampedFreq, dampingRatio);\n            var c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = function (undampedFreq) {\n            var exponentialDecay = undampedFreq * dampingRatio;\n            var delta = exponentialDecay * duration;\n            var d = delta * velocity + velocity;\n            var e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            var f = Math.exp(-delta);\n            var g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            var factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        envelope = function (undampedFreq) {\n            var a = Math.exp(-undampedFreq * duration);\n            var b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = function (undampedFreq) {\n            var a = Math.exp(-undampedFreq * duration);\n            var b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    var initialGuess = 5 / duration;\n    var undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = duration * 1000;\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration: duration,\n        };\n    }\n    else {\n        var stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness: stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration: duration,\n        };\n    }\n}\nvar rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    var result = initialGuess;\n    for (var i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };\n","import { __rest, __assign } from 'tslib';\nimport { findSpring, calcAngularFreq } from '../utils/find-spring.js';\n\nvar durationKeys = [\"duration\", \"bounce\"];\nvar physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some(function (key) { return options[key] !== undefined; });\n}\nfunction getSpringOptions(options) {\n    var springOptions = __assign({ velocity: 0.0, stiffness: 100, damping: 10, mass: 1.0, isResolvedFromDuration: false }, options);\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        var derived = findSpring(options);\n        springOptions = __assign(__assign(__assign({}, springOptions), derived), { velocity: 0.0, mass: 1.0 });\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring(_a) {\n    var _b = _a.from, from = _b === void 0 ? 0.0 : _b, _c = _a.to, to = _c === void 0 ? 1.0 : _c, _d = _a.restSpeed, restSpeed = _d === void 0 ? 2 : _d, restDelta = _a.restDelta, options = __rest(_a, [\"from\", \"to\", \"restSpeed\", \"restDelta\"]);\n    var state = { done: false, value: from };\n    var _e = getSpringOptions(options), stiffness = _e.stiffness, damping = _e.damping, mass = _e.mass, velocity = _e.velocity, duration = _e.duration, isResolvedFromDuration = _e.isResolvedFromDuration;\n    var resolveSpring = zero;\n    var resolveVelocity = zero;\n    function createSpring() {\n        var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        var initialDelta = to - from;\n        var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n        var undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\n        restDelta !== null && restDelta !== void 0 ? restDelta : (restDelta = Math.abs(to - from) <= 1 ? 0.01 : 0.4);\n        if (dampingRatio < 1) {\n            var angularFreq_1 = calcAngularFreq(undampedAngularFreq, dampingRatio);\n            resolveSpring = function (t) {\n                var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                return (to -\n                    envelope *\n                        (((initialVelocity +\n                            dampingRatio * undampedAngularFreq * initialDelta) /\n                            angularFreq_1) *\n                            Math.sin(angularFreq_1 * t) +\n                            initialDelta * Math.cos(angularFreq_1 * t)));\n            };\n            resolveVelocity = function (t) {\n                var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                return (dampingRatio *\n                    undampedAngularFreq *\n                    envelope *\n                    ((Math.sin(angularFreq_1 * t) *\n                        (initialVelocity +\n                            dampingRatio *\n                                undampedAngularFreq *\n                                initialDelta)) /\n                        angularFreq_1 +\n                        initialDelta * Math.cos(angularFreq_1 * t)) -\n                    envelope *\n                        (Math.cos(angularFreq_1 * t) *\n                            (initialVelocity +\n                                dampingRatio *\n                                    undampedAngularFreq *\n                                    initialDelta) -\n                            angularFreq_1 *\n                                initialDelta *\n                                Math.sin(angularFreq_1 * t)));\n            };\n        }\n        else if (dampingRatio === 1) {\n            resolveSpring = function (t) {\n                return to -\n                    Math.exp(-undampedAngularFreq * t) *\n                        (initialDelta +\n                            (initialVelocity + undampedAngularFreq * initialDelta) *\n                                t);\n            };\n        }\n        else {\n            var dampedAngularFreq_1 = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n            resolveSpring = function (t) {\n                var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                var freqForT = Math.min(dampedAngularFreq_1 * t, 300);\n                return (to -\n                    (envelope *\n                        ((initialVelocity +\n                            dampingRatio * undampedAngularFreq * initialDelta) *\n                            Math.sinh(freqForT) +\n                            dampedAngularFreq_1 *\n                                initialDelta *\n                                Math.cosh(freqForT))) /\n                        dampedAngularFreq_1);\n            };\n        }\n    }\n    createSpring();\n    return {\n        next: function (t) {\n            var current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                var currentVelocity = resolveVelocity(t) * 1000;\n                var isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                var isBelowDisplacementThreshold = Math.abs(to - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? to : current;\n            return state;\n        },\n        flipTarget: function () {\n            var _a;\n            velocity = -velocity;\n            _a = [to, from], from = _a[0], to = _a[1];\n            createSpring();\n        },\n    };\n}\nspring.needsInterpolation = function (a, b) {\n    return typeof a === \"string\" || typeof b === \"string\";\n};\nvar zero = function (_t) { return 0; };\n\nexport { spring };\n","var progress = function (from, to, value) {\n    var toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","var mix = function (from, to, progress) {\n    return -progress * from + progress * to + from;\n};\n\nexport { mix };\n","import { isString, singleColorRegex, floatRegex } from '../utils.js';\n\nvar isColorString = function (type, testProp) { return function (v) {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n}; };\nvar splitColor = function (aName, bName, cName) { return function (v) {\n    var _a;\n    if (!isString(v))\n        return v;\n    var _b = v.match(floatRegex), a = _b[0], b = _b[1], c = _b[2], alpha = _b[3];\n    return _a = {},\n        _a[aName] = parseFloat(a),\n        _a[bName] = parseFloat(b),\n        _a[cName] = parseFloat(c),\n        _a.alpha = alpha !== undefined ? parseFloat(alpha) : 1,\n        _a;\n}; };\n\nexport { isColorString, splitColor };\n","import { __assign } from 'tslib';\nimport { number, alpha } from '../numbers/index.js';\nimport { sanitize, clamp } from '../utils.js';\nimport { isColorString, splitColor } from './utils.js';\n\nvar clampRgbUnit = clamp(0, 255);\nvar rgbUnit = __assign(__assign({}, number), { transform: function (v) { return Math.round(clampRgbUnit(v)); } });\nvar rgba = {\n    test: isColorString('rgb', 'red'),\n    parse: splitColor('red', 'green', 'blue'),\n    transform: function (_a) {\n        var red = _a.red, green = _a.green, blue = _a.blue, _b = _a.alpha, alpha$1 = _b === void 0 ? 1 : _b;\n        return 'rgba(' +\n            rgbUnit.transform(red) +\n            ', ' +\n            rgbUnit.transform(green) +\n            ', ' +\n            rgbUnit.transform(blue) +\n            ', ' +\n            sanitize(alpha.transform(alpha$1)) +\n            ')';\n    },\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.js';\nimport { isColorString } from './utils.js';\n\nfunction parseHex(v) {\n    var r = '';\n    var g = '';\n    var b = '';\n    var a = '';\n    if (v.length > 5) {\n        r = v.substr(1, 2);\n        g = v.substr(3, 2);\n        b = v.substr(5, 2);\n        a = v.substr(7, 2);\n    }\n    else {\n        r = v.substr(1, 1);\n        g = v.substr(2, 1);\n        b = v.substr(3, 1);\n        a = v.substr(4, 1);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nvar hex = {\n    test: isColorString('#'),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.js';\nimport { percent } from '../numbers/units.js';\nimport { sanitize } from '../utils.js';\nimport { isColorString, splitColor } from './utils.js';\n\nvar hsla = {\n    test: isColorString('hsl', 'hue'),\n    parse: splitColor('hue', 'saturation', 'lightness'),\n    transform: function (_a) {\n        var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, _b = _a.alpha, alpha$1 = _b === void 0 ? 1 : _b;\n        return ('hsla(' +\n            Math.round(hue) +\n            ', ' +\n            percent.transform(sanitize(saturation)) +\n            ', ' +\n            percent.transform(sanitize(lightness)) +\n            ', ' +\n            sanitize(alpha.transform(alpha$1)) +\n            ')');\n    },\n};\n\nexport { hsla };\n","import { __assign } from 'tslib';\nimport { mix } from './mix.js';\nimport { hex, rgba, hsla } from 'style-value-types';\nimport { invariant } from 'hey-listen';\n\nvar mixLinearColor = function (from, to, v) {\n    var fromExpo = from * from;\n    var toExpo = to * to;\n    return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\nvar colorTypes = [hex, rgba, hsla];\nvar getColorType = function (v) {\n    return colorTypes.find(function (type) { return type.test(v); });\n};\nvar notAnimatable = function (color) {\n    return \"'\" + color + \"' is not an animatable color. Use the equivalent color code instead.\";\n};\nvar mixColor = function (from, to) {\n    var fromColorType = getColorType(from);\n    var toColorType = getColorType(to);\n    invariant(!!fromColorType, notAnimatable(from));\n    invariant(!!toColorType, notAnimatable(to));\n    invariant(fromColorType.transform === toColorType.transform, \"Both colors must be hex/RGBA, OR both must be HSLA.\");\n    var fromColor = fromColorType.parse(from);\n    var toColor = toColorType.parse(to);\n    var blended = __assign({}, fromColor);\n    var mixFunc = fromColorType === hsla ? mix : mixLinearColor;\n    return function (v) {\n        for (var key in blended) {\n            if (key !== \"alpha\") {\n                blended[key] = mixFunc(fromColor[key], toColor[key], v);\n            }\n        }\n        blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n        return fromColorType.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","import { isString } from '../utils.js';\nimport { hex } from './hex.js';\nimport { hsla } from './hsla.js';\nimport { rgba } from './rgba.js';\n\nvar color = {\n    test: function (v) { return rgba.test(v) || hex.test(v) || hsla.test(v); },\n    parse: function (v) {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: function (v) {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty('red')\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","import { color } from '../color/index.js';\nimport { number } from '../numbers/index.js';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.js';\n\nvar colorToken = '${c}';\nvar numberToken = '${n}';\nfunction test(v) {\n    var _a, _b, _c, _d;\n    return (isNaN(v) &&\n        isString(v) &&\n        ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0);\n}\nfunction analyse(v) {\n    var values = [];\n    var numColors = 0;\n    var colors = v.match(colorRegex);\n    if (colors) {\n        numColors = colors.length;\n        v = v.replace(colorRegex, colorToken);\n        values.push.apply(values, colors.map(color.parse));\n    }\n    var numbers = v.match(floatRegex);\n    if (numbers) {\n        v = v.replace(floatRegex, numberToken);\n        values.push.apply(values, numbers.map(number.parse));\n    }\n    return { values: values, numColors: numColors, tokenised: v };\n}\nfunction parse(v) {\n    return analyse(v).values;\n}\nfunction createTransformer(v) {\n    var _a = analyse(v), values = _a.values, numColors = _a.numColors, tokenised = _a.tokenised;\n    var numValues = values.length;\n    return function (v) {\n        var output = tokenised;\n        for (var i = 0; i < numValues; i++) {\n            output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n        }\n        return output;\n    };\n}\nvar convertNumbersToZero = function (v) {\n    return typeof v === 'number' ? 0 : v;\n};\nfunction getAnimatableNone(v) {\n    var parsed = parse(v);\n    var transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nvar complex = { test: test, parse: parse, createTransformer: createTransformer, getAnimatableNone: getAnimatableNone };\n\nexport { complex };\n","var zeroPoint = {\n    x: 0,\n    y: 0,\n    z: 0\n};\nvar isNum = function (v) { return typeof v === 'number'; };\n\nexport { isNum, zeroPoint };\n","import { __spreadArray, __assign } from 'tslib';\nimport { complex, color } from 'style-value-types';\nimport { mix } from './mix.js';\nimport { mixColor } from './mix-color.js';\nimport { isNum } from './inc.js';\nimport { pipe } from './pipe.js';\nimport { invariant } from 'hey-listen';\n\nfunction getMixer(origin, target) {\n    if (isNum(origin)) {\n        return function (v) { return mix(origin, target, v); };\n    }\n    else if (color.test(origin)) {\n        return mixColor(origin, target);\n    }\n    else {\n        return mixComplex(origin, target);\n    }\n}\nvar mixArray = function (from, to) {\n    var output = __spreadArray([], from);\n    var numValues = output.length;\n    var blendValue = from.map(function (fromThis, i) { return getMixer(fromThis, to[i]); });\n    return function (v) {\n        for (var i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nvar mixObject = function (origin, target) {\n    var output = __assign(__assign({}, origin), target);\n    var blendValue = {};\n    for (var key in output) {\n        if (origin[key] !== undefined && target[key] !== undefined) {\n            blendValue[key] = getMixer(origin[key], target[key]);\n        }\n    }\n    return function (v) {\n        for (var key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n};\nfunction analyse(value) {\n    var parsed = complex.parse(value);\n    var numValues = parsed.length;\n    var numNumbers = 0;\n    var numRGB = 0;\n    var numHSL = 0;\n    for (var i = 0; i < numValues; i++) {\n        if (numNumbers || typeof parsed[i] === \"number\") {\n            numNumbers++;\n        }\n        else {\n            if (parsed[i].hue !== undefined) {\n                numHSL++;\n            }\n            else {\n                numRGB++;\n            }\n        }\n    }\n    return { parsed: parsed, numNumbers: numNumbers, numRGB: numRGB, numHSL: numHSL };\n}\nvar mixComplex = function (origin, target) {\n    var template = complex.createTransformer(target);\n    var originStats = analyse(origin);\n    var targetStats = analyse(target);\n    invariant(originStats.numHSL === targetStats.numHSL &&\n        originStats.numRGB === targetStats.numRGB &&\n        originStats.numNumbers >= targetStats.numNumbers, \"Complex values '\" + origin + \"' and '\" + target + \"' too different to mix. Ensure all colors are of the same type.\");\n    return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\n};\n\nexport { mixArray, mixComplex, mixObject };\n","import { progress } from './progress.js';\nimport { mix } from './mix.js';\nimport { mixColor } from './mix-color.js';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.js';\nimport { color } from 'style-value-types';\nimport { clamp } from './clamp.js';\nimport { pipe } from './pipe.js';\nimport { invariant } from 'hey-listen';\n\nvar mixNumber = function (from, to) { return function (p) { return mix(from, to, p); }; };\nfunction detectMixerFactory(v) {\n    if (typeof v === 'number') {\n        return mixNumber;\n    }\n    else if (typeof v === 'string') {\n        if (color.test(v)) {\n            return mixColor;\n        }\n        else {\n            return mixComplex;\n        }\n    }\n    else if (Array.isArray(v)) {\n        return mixArray;\n    }\n    else if (typeof v === 'object') {\n        return mixObject;\n    }\n}\nfunction createMixers(output, ease, customMixer) {\n    var mixers = [];\n    var mixerFactory = customMixer || detectMixerFactory(output[0]);\n    var numMixers = output.length - 1;\n    for (var i = 0; i < numMixers; i++) {\n        var mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            var easingFunction = Array.isArray(ease) ? ease[i] : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\nfunction fastInterpolate(_a, _b) {\n    var from = _a[0], to = _a[1];\n    var mixer = _b[0];\n    return function (v) { return mixer(progress(from, to, v)); };\n}\nfunction slowInterpolate(input, mixers) {\n    var inputLength = input.length;\n    var lastInputIndex = inputLength - 1;\n    return function (v) {\n        var mixerIndex = 0;\n        var foundMixerIndex = false;\n        if (v <= input[0]) {\n            foundMixerIndex = true;\n        }\n        else if (v >= input[lastInputIndex]) {\n            mixerIndex = lastInputIndex - 1;\n            foundMixerIndex = true;\n        }\n        if (!foundMixerIndex) {\n            var i = 1;\n            for (; i < inputLength; i++) {\n                if (input[i] > v || i === lastInputIndex) {\n                    break;\n                }\n            }\n            mixerIndex = i - 1;\n        }\n        var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\n        return mixers[mixerIndex](progressInRange);\n    };\n}\nfunction interpolate(input, output, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.clamp, isClamp = _c === void 0 ? true : _c, ease = _b.ease, mixer = _b.mixer;\n    var inputLength = input.length;\n    invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\n    invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\n    if (input[0] > input[inputLength - 1]) {\n        input = [].concat(input);\n        output = [].concat(output);\n        input.reverse();\n        output.reverse();\n    }\n    var mixers = createMixers(output, ease, mixer);\n    var interpolator = inputLength === 2\n        ? fastInterpolate(input, mixers)\n        : slowInterpolate(input, mixers);\n    return isClamp\n        ? function (v) { return interpolator(clamp(input[0], input[inputLength - 1], v)); }\n        : interpolator;\n}\n\nexport { interpolate };\n","var reverseEasing = function (easing) { return function (p) { return 1 - easing(1 - p); }; };\nvar mirrorEasing = function (easing) { return function (p) {\n    return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n}; };\nvar createExpoIn = function (power) { return function (p) { return Math.pow(p, power); }; };\nvar createBackIn = function (power) { return function (p) {\n    return p * p * ((power + 1) * p - power);\n}; };\nvar createAnticipate = function (power) {\n    var backEasing = createBackIn(power);\n    return function (p) {\n        return (p *= 2) < 1\n            ? 0.5 * backEasing(p)\n            : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n    };\n};\n\nexport { createAnticipate, createBackIn, createExpoIn, mirrorEasing, reverseEasing };\n","import { createExpoIn, reverseEasing, mirrorEasing, createBackIn, createAnticipate } from './utils.js';\n\nvar DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nvar linear = function (p) { return p; };\nvar easeIn = createExpoIn(2);\nvar easeOut = reverseEasing(easeIn);\nvar easeInOut = mirrorEasing(easeIn);\nvar circIn = function (p) { return 1 - Math.sin(Math.acos(p)); };\nvar circOut = reverseEasing(circIn);\nvar circInOut = mirrorEasing(circOut);\nvar backIn = createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = reverseEasing(backIn);\nvar backInOut = mirrorEasing(backIn);\nvar anticipate = createAnticipate(DEFAULT_OVERSHOOT_STRENGTH);\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\nvar bounceOut = function (p) {\n    if (p === 1 || p === 0)\n        return p;\n    var p2 = p * p;\n    return p < BOUNCE_FIRST_THRESHOLD\n        ? 7.5625 * p2\n        : p < BOUNCE_SECOND_THRESHOLD\n            ? 9.075 * p2 - 9.9 * p + 3.4\n            : p < BOUNCE_THIRD_THRESHOLD\n                ? ca * p2 - cb * p + cc\n                : 10.8 * p * p - 20.52 * p + 10.72;\n};\nvar bounceIn = reverseEasing(bounceOut);\nvar bounceInOut = function (p) {\n    return p < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0))\n        : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\n\nexport { anticipate, backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, easeIn, easeInOut, easeOut, linear };\n","import { interpolate } from '../../utils/interpolate.js';\nimport { easeInOut } from '../../easing/index.js';\n\nfunction defaultEasing(values, easing) {\n    return values.map(function () { return easing || easeInOut; }).splice(0, values.length - 1);\n}\nfunction defaultOffset(values) {\n    var numValues = values.length;\n    return values.map(function (_value, i) {\n        return i !== 0 ? i / (numValues - 1) : 0;\n    });\n}\nfunction convertOffsetToTimes(offset, duration) {\n    return offset.map(function (o) { return o * duration; });\n}\nfunction keyframes(_a) {\n    var _b = _a.from, from = _b === void 0 ? 0 : _b, _c = _a.to, to = _c === void 0 ? 1 : _c, ease = _a.ease, offset = _a.offset, _d = _a.duration, duration = _d === void 0 ? 300 : _d;\n    var state = { done: false, value: from };\n    var values = Array.isArray(to) ? to : [from, to];\n    var times = convertOffsetToTimes(offset && offset.length === values.length\n        ? offset\n        : defaultOffset(values), duration);\n    function createInterpolator() {\n        return interpolate(times, values, {\n            ease: Array.isArray(ease) ? ease : defaultEasing(values, ease),\n        });\n    }\n    var interpolator = createInterpolator();\n    return {\n        next: function (t) {\n            state.value = interpolator(t);\n            state.done = t >= duration;\n            return state;\n        },\n        flipTarget: function () {\n            values.reverse();\n            interpolator = createInterpolator();\n        },\n    };\n}\n\nexport { convertOffsetToTimes, defaultEasing, defaultOffset, keyframes };\n","import { spring } from '../generators/spring.js';\nimport { keyframes } from '../generators/keyframes.js';\nimport { decay } from '../generators/decay.js';\n\nvar types = { keyframes: keyframes, spring: spring, decay: decay };\nfunction detectAnimationFromOptions(config) {\n    if (Array.isArray(config.to)) {\n        return keyframes;\n    }\n    else if (types[config.type]) {\n        return types[config.type];\n    }\n    var keys = new Set(Object.keys(config));\n    if (keys.has(\"ease\") ||\n        (keys.has(\"duration\") && !keys.has(\"dampingRatio\"))) {\n        return keyframes;\n    }\n    else if (keys.has(\"dampingRatio\") ||\n        keys.has(\"stiffness\") ||\n        keys.has(\"mass\") ||\n        keys.has(\"damping\") ||\n        keys.has(\"restSpeed\") ||\n        keys.has(\"restDelta\")) {\n        return spring;\n    }\n    return keyframes;\n}\n\nexport { detectAnimationFromOptions };\n","function decay(_a) {\n    var _b = _a.velocity, velocity = _b === void 0 ? 0 : _b, _c = _a.from, from = _c === void 0 ? 0 : _c, _d = _a.power, power = _d === void 0 ? 0.8 : _d, _e = _a.timeConstant, timeConstant = _e === void 0 ? 350 : _e, _f = _a.restDelta, restDelta = _f === void 0 ? 0.5 : _f, modifyTarget = _a.modifyTarget;\n    var state = { done: false, value: from };\n    var amplitude = power * velocity;\n    var ideal = from + amplitude;\n    var target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    if (target !== ideal)\n        amplitude = target - from;\n    return {\n        next: function (t) {\n            var delta = -amplitude * Math.exp(-t / timeConstant);\n            state.done = !(delta > restDelta || delta < -restDelta);\n            state.value = state.done ? target : target + delta;\n            return state;\n        },\n        flipTarget: function () { },\n    };\n}\n\nexport { decay };\n","var defaultTimestep = (1 / 60) * 1000;\nvar getCurrentTime = typeof performance !== \"undefined\"\n    ? function () { return performance.now(); }\n    : function () { return Date.now(); };\nvar onNextFrame = typeof window !== \"undefined\"\n    ? function (callback) {\n        return window.requestAnimationFrame(callback);\n    }\n    : function (callback) {\n        return setTimeout(function () { return callback(getCurrentTime()); }, defaultTimestep);\n    };\n\nexport { defaultTimestep, onNextFrame };\n","import { onNextFrame, defaultTimestep } from './on-next-frame.js';\nimport { createRenderStep } from './create-render-step.js';\n\nvar maxElapsed = 40;\nvar useDefaultElapsed = true;\nvar runNextFrame = false;\nvar isProcessing = false;\nvar frame = {\n    delta: 0,\n    timestamp: 0\n};\nvar stepsOrder = [\"read\", \"update\", \"preRender\", \"render\", \"postRender\"];\nvar steps = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    acc[key] = createRenderStep(function () {\n        return runNextFrame = true;\n    });\n    return acc;\n}, {});\nvar sync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    var step = steps[key];\n    acc[key] = function (process, keepAlive, immediate) {\n        if (keepAlive === void 0) {\n            keepAlive = false;\n        }\n        if (immediate === void 0) {\n            immediate = false;\n        }\n        if (!runNextFrame) startLoop();\n        return step.schedule(process, keepAlive, immediate);\n    };\n    return acc;\n}, {});\nvar cancelSync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    acc[key] = steps[key].cancel;\n    return acc;\n}, {});\nvar flushSync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    acc[key] = function () {\n        return steps[key].process(frame);\n    };\n    return acc;\n}, {});\nvar processStep = function (stepId) {\n    return steps[stepId].process(frame);\n};\nvar processFrame = function (timestamp) {\n    runNextFrame = false;\n    frame.delta = useDefaultElapsed ? defaultTimestep : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\n    frame.timestamp = timestamp;\n    isProcessing = true;\n    stepsOrder.forEach(processStep);\n    isProcessing = false;\n    if (runNextFrame) {\n        useDefaultElapsed = false;\n        onNextFrame(processFrame);\n    }\n};\nvar startLoop = function () {\n    runNextFrame = true;\n    useDefaultElapsed = true;\n    if (!isProcessing) onNextFrame(processFrame);\n};\nvar getFrameData = function () {\n    return frame;\n};\n\nexport default sync;\nexport { cancelSync, flushSync, getFrameData };\n","function createRenderStep(runNextFrame) {\n    var toRun = [];\n    var toRunNextFrame = [];\n    var numToRun = 0;\n    var isProcessing = false;\n    var toKeepAlive = new WeakSet();\n    var step = {\n        schedule: function (callback, keepAlive, immediate) {\n            if (keepAlive === void 0) { keepAlive = false; }\n            if (immediate === void 0) { immediate = false; }\n            var addToCurrentFrame = immediate && isProcessing;\n            var buffer = addToCurrentFrame ? toRun : toRunNextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (buffer.indexOf(callback) === -1) {\n                buffer.push(callback);\n                if (addToCurrentFrame && isProcessing)\n                    numToRun = toRun.length;\n            }\n            return callback;\n        },\n        cancel: function (callback) {\n            var index = toRunNextFrame.indexOf(callback);\n            if (index !== -1)\n                toRunNextFrame.splice(index, 1);\n            toKeepAlive.delete(callback);\n        },\n        process: function (frameData) {\n            var _a;\n            isProcessing = true;\n            _a = [toRunNextFrame, toRun], toRun = _a[0], toRunNextFrame = _a[1];\n            toRunNextFrame.length = 0;\n            numToRun = toRun.length;\n            if (numToRun) {\n                for (var i = 0; i < numToRun; i++) {\n                    var callback = toRun[i];\n                    callback(frameData);\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                }\n            }\n            isProcessing = false;\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","function loopElapsed(elapsed, duration, delay) {\n    if (delay === void 0) { delay = 0; }\n    return elapsed - duration - delay;\n}\nfunction reverseElapsed(elapsed, duration, delay, isForwardPlayback) {\n    if (delay === void 0) { delay = 0; }\n    if (isForwardPlayback === void 0) { isForwardPlayback = true; }\n    return isForwardPlayback\n        ? loopElapsed(duration + -elapsed, duration, delay)\n        : duration - (elapsed - duration) + delay;\n}\nfunction hasRepeatDelayElapsed(elapsed, duration, delay, isForwardPlayback) {\n    return isForwardPlayback ? elapsed >= duration + delay : elapsed <= -delay;\n}\n\nexport { hasRepeatDelayElapsed, loopElapsed, reverseElapsed };\n","import { __rest, __assign } from 'tslib';\nimport { detectAnimationFromOptions } from './utils/detect-animation-from-options.js';\nimport sync, { cancelSync } from 'framesync';\nimport { interpolate } from '../utils/interpolate.js';\nimport { hasRepeatDelayElapsed, reverseElapsed, loopElapsed } from './utils/elapsed.js';\n\nvar framesync = function (update) {\n    var passTimestamp = function (_a) {\n        var delta = _a.delta;\n        return update(delta);\n    };\n    return {\n        start: function () { return sync.update(passTimestamp, true); },\n        stop: function () { return cancelSync.update(passTimestamp); },\n    };\n};\nfunction animate(_a) {\n    var _b, _c;\n    var from = _a.from, _d = _a.autoplay, autoplay = _d === void 0 ? true : _d, _e = _a.driver, driver = _e === void 0 ? framesync : _e, _f = _a.elapsed, elapsed = _f === void 0 ? 0 : _f, _g = _a.repeat, repeatMax = _g === void 0 ? 0 : _g, _h = _a.repeatType, repeatType = _h === void 0 ? \"loop\" : _h, _j = _a.repeatDelay, repeatDelay = _j === void 0 ? 0 : _j, onPlay = _a.onPlay, onStop = _a.onStop, onComplete = _a.onComplete, onRepeat = _a.onRepeat, onUpdate = _a.onUpdate, options = __rest(_a, [\"from\", \"autoplay\", \"driver\", \"elapsed\", \"repeat\", \"repeatType\", \"repeatDelay\", \"onPlay\", \"onStop\", \"onComplete\", \"onRepeat\", \"onUpdate\"]);\n    var to = options.to;\n    var driverControls;\n    var repeatCount = 0;\n    var computedDuration = options.duration;\n    var latest;\n    var isComplete = false;\n    var isForwardPlayback = true;\n    var interpolateFromNumber;\n    var animator = detectAnimationFromOptions(options);\n    if ((_c = (_b = animator).needsInterpolation) === null || _c === void 0 ? void 0 : _c.call(_b, from, to)) {\n        interpolateFromNumber = interpolate([0, 100], [from, to], {\n            clamp: false,\n        });\n        from = 0;\n        to = 100;\n    }\n    var animation = animator(__assign(__assign({}, options), { from: from, to: to }));\n    function repeat() {\n        repeatCount++;\n        if (repeatType === \"reverse\") {\n            isForwardPlayback = repeatCount % 2 === 0;\n            elapsed = reverseElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback);\n        }\n        else {\n            elapsed = loopElapsed(elapsed, computedDuration, repeatDelay);\n            if (repeatType === \"mirror\")\n                animation.flipTarget();\n        }\n        isComplete = false;\n        onRepeat && onRepeat();\n    }\n    function complete() {\n        driverControls.stop();\n        onComplete && onComplete();\n    }\n    function update(delta) {\n        if (!isForwardPlayback)\n            delta = -delta;\n        elapsed += delta;\n        if (!isComplete) {\n            var state = animation.next(Math.max(0, elapsed));\n            latest = state.value;\n            if (interpolateFromNumber)\n                latest = interpolateFromNumber(latest);\n            isComplete = isForwardPlayback ? state.done : elapsed <= 0;\n        }\n        onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(latest);\n        if (isComplete) {\n            if (repeatCount === 0)\n                computedDuration !== null && computedDuration !== void 0 ? computedDuration : (computedDuration = elapsed);\n            if (repeatCount < repeatMax) {\n                hasRepeatDelayElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback) && repeat();\n            }\n            else {\n                complete();\n            }\n        }\n    }\n    function play() {\n        onPlay === null || onPlay === void 0 ? void 0 : onPlay();\n        driverControls = driver(update);\n        driverControls.start();\n    }\n    autoplay && play();\n    return {\n        stop: function () {\n            onStop === null || onStop === void 0 ? void 0 : onStop();\n            driverControls.stop();\n        },\n    };\n}\n\nexport { animate };\n","function velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nvar secondsToMilliseconds = function (seconds) { return seconds * 1000; };\n\nexport { secondsToMilliseconds };\n","import { linear } from './index.js';\n\nvar a = function (a1, a2) { return 1.0 - 3.0 * a2 + 3.0 * a1; };\nvar b = function (a1, a2) { return 3.0 * a2 - 6.0 * a1; };\nvar c = function (a1) { return 3.0 * a1; };\nvar calcBezier = function (t, a1, a2) {\n    return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\nvar getSlope = function (t, a1, a2) {\n    return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\nvar subdivisionPrecision = 0.0000001;\nvar subdivisionMaxIterations = 10;\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX;\n    var currentT;\n    var i = 0;\n    do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n        if (currentX > 0.0) {\n            aB = currentT;\n        }\n        else {\n            aA = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nvar newtonIterations = 8;\nvar newtonMinSlope = 0.001;\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < newtonIterations; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) {\n            return aGuessT;\n        }\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n}\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    if (mX1 === mY1 && mX2 === mY2)\n        return linear;\n    var sampleValues = new Float32Array(kSplineTableSize);\n    for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n    }\n    function getTForX(aX) {\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += kSampleStepSize;\n        }\n        --currentSample;\n        var dist = (aX - sampleValues[currentSample]) /\n            (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= newtonMinSlope) {\n            return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n        else if (initialSlope === 0.0) {\n            return guessForT;\n        }\n        else {\n            return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n        }\n    }\n    return function (t) {\n        return t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n    };\n}\n\nexport { cubicBezier };\n","import { __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { cubicBezier, linear, easeIn, easeInOut, easeOut, circIn, circInOut, circOut, backIn, backInOut, backOut, anticipate, bounceIn, bounceInOut, bounceOut } from 'popmotion';\n\nvar easingLookup = {\n    linear: linear,\n    easeIn: easeIn,\n    easeInOut: easeInOut,\n    easeOut: easeOut,\n    circIn: circIn,\n    circInOut: circInOut,\n    circOut: circOut,\n    backIn: backIn,\n    backInOut: backInOut,\n    backOut: backOut,\n    anticipate: anticipate,\n    bounceIn: bounceIn,\n    bounceInOut: bounceInOut,\n    bounceOut: bounceOut,\n};\nvar easingDefinitionToFunction = function (definition) {\n    if (Array.isArray(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, \"Cubic bezier arrays must contain four numerical values.\");\n        var _a = __read(definition, 4), x1 = _a[0], y1 = _a[1], x2 = _a[2], y2 = _a[3];\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, \"Invalid easing type '\" + definition + \"'\");\n        return easingLookup[definition];\n    }\n    return definition;\n};\nvar isEasingArray = function (ease) {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { easingDefinitionToFunction, isEasingArray };\n","import { complex } from 'style-value-types';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * : 100, \"100px\", \"#fff\"\n * : \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nvar isAnimatable = function (key, value) {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (key === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        complex.test(value) && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { __assign } from 'tslib';\nimport { isKeyframesTarget } from './is-keyframes-target.js';\n\nvar underDampedSpring = function () { return ({\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restDelta: 0.5,\n    restSpeed: 10,\n}); };\nvar criticallyDampedSpring = function (to) { return ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: to === 0 ? 2 * Math.sqrt(550) : 30,\n    restDelta: 0.01,\n    restSpeed: 10,\n}); };\nvar linearTween = function () { return ({\n    type: \"keyframes\",\n    ease: \"linear\",\n    duration: 0.3,\n}); };\nvar keyframes = function (values) { return ({\n    type: \"keyframes\",\n    duration: 0.8,\n    values: values,\n}); };\nvar defaultTransitions = {\n    x: underDampedSpring,\n    y: underDampedSpring,\n    z: underDampedSpring,\n    rotate: underDampedSpring,\n    rotateX: underDampedSpring,\n    rotateY: underDampedSpring,\n    rotateZ: underDampedSpring,\n    scaleX: criticallyDampedSpring,\n    scaleY: criticallyDampedSpring,\n    scale: criticallyDampedSpring,\n    opacity: linearTween,\n    backgroundColor: linearTween,\n    color: linearTween,\n    default: criticallyDampedSpring,\n};\nvar getDefaultTransition = function (valueKey, to) {\n    var transitionFactory;\n    if (isKeyframesTarget(to)) {\n        transitionFactory = keyframes;\n    }\n    else {\n        transitionFactory =\n            defaultTransitions[valueKey] || defaultTransitions.default;\n    }\n    return __assign({ to: to }, transitionFactory(to));\n};\n\nexport { criticallyDampedSpring, getDefaultTransition, linearTween, underDampedSpring };\n","import { __assign } from 'tslib';\nimport { complex } from './index.js';\nimport { floatRegex } from '../utils.js';\n\nvar maxDefaults = new Set(['brightness', 'contrast', 'saturate', 'opacity']);\nfunction applyDefaultFilter(v) {\n    var _a = v.slice(0, -1).split('('), name = _a[0], value = _a[1];\n    if (name === 'drop-shadow')\n        return v;\n    var number = (value.match(floatRegex) || [])[0];\n    if (!number)\n        return v;\n    var unit = value.replace(number, '');\n    var defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + '(' + defaultValue + unit + ')';\n}\nvar functionRegex = /([a-z-]*)\\(.*?\\)/g;\nvar filter = __assign(__assign({}, complex), { getAnimatableNone: function (v) {\n        var functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(' ') : v;\n    } });\n\nexport { filter };\n","import { __assign } from 'tslib';\nimport { color, filter } from 'style-value-types';\nimport { numberValueTypes } from './number.js';\n\n/**\n * A map of default value types for common values\n */\nvar defaultValueTypes = __assign(__assign({}, numberValueTypes), { \n    // Color props\n    color: color, backgroundColor: color, outlineColor: color, fill: color, stroke: color, \n    // Border props\n    borderColor: color, borderTopColor: color, borderRightColor: color, borderBottomColor: color, borderLeftColor: color, filter: filter, WebkitFilter: filter });\n/**\n * Gets the default ValueType for the provided value key\n */\nvar getDefaultValueType = function (key) { return defaultValueTypes[key]; };\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { filter, complex } from 'style-value-types';\nimport { getDefaultValueType } from './defaults.js';\n\nfunction getAnimatableNone(key, value) {\n    var _a;\n    var defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return (_a = defaultValueType.getAnimatableNone) === null || _a === void 0 ? void 0 : _a.call(defaultValueType, value);\n}\n\nexport { getAnimatableNone };\n","import { __assign, __rest, __spreadArray, __read } from 'tslib';\nimport { inertia, animate } from 'popmotion';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.js';\nimport { isEasingArray, easingDefinitionToFunction } from './easing.js';\nimport { isAnimatable } from './is-animatable.js';\nimport { getDefaultTransition } from './default-transitions.js';\nimport { warning } from 'hey-listen';\nimport { getAnimatableNone } from '../../render/dom/value-types/animatable-none.js';\n\n/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined(_a) {\n    _a.when; _a.delay; _a.delayChildren; _a.staggerChildren; _a.staggerDirection; _a.repeat; _a.repeatType; _a.repeatDelay; _a.from; var transition = __rest(_a, [\"when\", \"delay\", \"delayChildren\", \"staggerChildren\", \"staggerDirection\", \"repeat\", \"repeatType\", \"repeatDelay\", \"from\"]);\n    return !!Object.keys(transition).length;\n}\nvar legacyRepeatWarning = false;\n/**\n * Convert Framer Motion's Transition type into Popmotion-compatible options.\n */\nfunction convertTransitionToAnimationOptions(_a) {\n    var ease = _a.ease, times = _a.times, yoyo = _a.yoyo, flip = _a.flip, loop = _a.loop, transition = __rest(_a, [\"ease\", \"times\", \"yoyo\", \"flip\", \"loop\"]);\n    var options = __assign({}, transition);\n    if (times)\n        options[\"offset\"] = times;\n    /**\n     * Convert any existing durations from seconds to milliseconds\n     */\n    if (transition.duration)\n        options[\"duration\"] = secondsToMilliseconds(transition.duration);\n    if (transition.repeatDelay)\n        options.repeatDelay = secondsToMilliseconds(transition.repeatDelay);\n    /**\n     * Map easing names to Popmotion's easing functions\n     */\n    if (ease) {\n        options[\"ease\"] = isEasingArray(ease)\n            ? ease.map(easingDefinitionToFunction)\n            : easingDefinitionToFunction(ease);\n    }\n    /**\n     * Support legacy transition API\n     */\n    if (transition.type === \"tween\")\n        options.type = \"keyframes\";\n    /**\n     * TODO: These options are officially removed from the API.\n     */\n    if (yoyo || loop || flip) {\n        warning(!legacyRepeatWarning, \"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options.\");\n        legacyRepeatWarning = true;\n        if (yoyo) {\n            options.repeatType = \"reverse\";\n        }\n        else if (loop) {\n            options.repeatType = \"loop\";\n        }\n        else if (flip) {\n            options.repeatType = \"mirror\";\n        }\n        options.repeat = loop || yoyo || flip || transition.repeat;\n    }\n    /**\n     * TODO: Popmotion 9 has the ability to automatically detect whether to use\n     * a keyframes or spring animation, but does so by detecting velocity and other spring options.\n     * It'd be good to introduce a similar thing here.\n     */\n    if (transition.type !== \"spring\")\n        options.type = \"keyframes\";\n    return options;\n}\n/**\n * Get the delay for a value by checking Transition with decreasing specificity.\n */\nfunction getDelayFromTransition(transition, key) {\n    var _a;\n    var valueTransition = getValueTransition(transition, key) || {};\n    return (_a = valueTransition.delay) !== null && _a !== void 0 ? _a : 0;\n}\nfunction hydrateKeyframes(options) {\n    if (Array.isArray(options.to) && options.to[0] === null) {\n        options.to = __spreadArray([], __read(options.to));\n        options.to[0] = options.from;\n    }\n    return options;\n}\nfunction getPopmotionAnimationOptions(transition, options, key) {\n    var _a;\n    if (Array.isArray(options.to)) {\n        (_a = transition.duration) !== null && _a !== void 0 ? _a : (transition.duration = 0.8);\n    }\n    hydrateKeyframes(options);\n    /**\n     * Get a default transition if none is determined to be defined.\n     */\n    if (!isTransitionDefined(transition)) {\n        transition = __assign(__assign({}, transition), getDefaultTransition(key, options.to));\n    }\n    return __assign(__assign({}, options), convertTransitionToAnimationOptions(transition));\n}\n/**\n *\n */\nfunction getAnimation(key, value, target, transition, onComplete) {\n    var _a;\n    var valueTransition = getValueTransition(transition, key);\n    var origin = (_a = valueTransition.from) !== null && _a !== void 0 ? _a : value.get();\n    var isTargetAnimatable = isAnimatable(key, target);\n    if (origin === \"none\" && isTargetAnimatable && typeof target === \"string\") {\n        /**\n         * If we're trying to animate from \"none\", try and get an animatable version\n         * of the target. This could be improved to work both ways.\n         */\n        origin = getAnimatableNone(key, target);\n    }\n    else if (isZero(origin) && typeof target === \"string\") {\n        origin = getZeroUnit(target);\n    }\n    else if (!Array.isArray(target) &&\n        isZero(target) &&\n        typeof origin === \"string\") {\n        target = getZeroUnit(origin);\n    }\n    var isOriginAnimatable = isAnimatable(key, origin);\n    warning(isOriginAnimatable === isTargetAnimatable, \"You are trying to animate \" + key + \" from \\\"\" + origin + \"\\\" to \\\"\" + target + \"\\\". \" + origin + \" is not an animatable value - to enable this animation set \" + origin + \" to a value animatable to \" + target + \" via the `style` property.\");\n    function start() {\n        var options = {\n            from: origin,\n            to: target,\n            velocity: value.getVelocity(),\n            onComplete: onComplete,\n            onUpdate: function (v) { return value.set(v); },\n        };\n        return valueTransition.type === \"inertia\" ||\n            valueTransition.type === \"decay\"\n            ? inertia(__assign(__assign({}, options), valueTransition))\n            : animate(__assign(__assign({}, getPopmotionAnimationOptions(valueTransition, options, key)), { onUpdate: function (v) {\n                    var _a;\n                    options.onUpdate(v);\n                    (_a = valueTransition.onUpdate) === null || _a === void 0 ? void 0 : _a.call(valueTransition, v);\n                }, onComplete: function () {\n                    var _a;\n                    options.onComplete();\n                    (_a = valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n                } }));\n    }\n    function set() {\n        var _a;\n        value.set(target);\n        onComplete();\n        (_a = valueTransition === null || valueTransition === void 0 ? void 0 : valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n        return { stop: function () { } };\n    }\n    return !isOriginAnimatable ||\n        !isTargetAnimatable ||\n        valueTransition.type === false\n        ? set\n        : start;\n}\nfunction isZero(value) {\n    return (value === 0 ||\n        (typeof value === \"string\" &&\n            parseFloat(value) === 0 &&\n            value.indexOf(\" \") === -1));\n}\nfunction getZeroUnit(potentialUnitType) {\n    return typeof potentialUnitType === \"number\"\n        ? 0\n        : getAnimatableNone(\"\", potentialUnitType);\n}\nfunction getValueTransition(transition, key) {\n    return transition[key] || transition[\"default\"] || transition;\n}\n/**\n * Start animation on a MotionValue. This function is an interface between\n * Framer Motion and Popmotion\n *\n * @internal\n */\nfunction startAnimation(key, value, target, transition) {\n    if (transition === void 0) { transition = {}; }\n    return value.start(function (onComplete) {\n        var delayTimer;\n        var controls;\n        var animation = getAnimation(key, value, target, transition, onComplete);\n        var delay = getDelayFromTransition(transition, key);\n        var start = function () { return (controls = animation()); };\n        if (delay) {\n            delayTimer = setTimeout(start, secondsToMilliseconds(delay));\n        }\n        else {\n            start();\n        }\n        return function () {\n            clearTimeout(delayTimer);\n            controls === null || controls === void 0 ? void 0 : controls.stop();\n        };\n    });\n}\n\nexport { convertTransitionToAnimationOptions, getDelayFromTransition, getPopmotionAnimationOptions, getValueTransition, getZeroUnit, hydrateKeyframes, isTransitionDefined, isZero, startAnimation };\n","import { __assign } from 'tslib';\nimport { animate } from './index.js';\nimport { velocityPerSecond } from '../utils/velocity-per-second.js';\nimport { getFrameData } from 'framesync';\n\nfunction inertia(_a) {\n    var _b = _a.from, from = _b === void 0 ? 0 : _b, _c = _a.velocity, velocity = _c === void 0 ? 0 : _c, min = _a.min, max = _a.max, _d = _a.power, power = _d === void 0 ? 0.8 : _d, _e = _a.timeConstant, timeConstant = _e === void 0 ? 750 : _e, _f = _a.bounceStiffness, bounceStiffness = _f === void 0 ? 500 : _f, _g = _a.bounceDamping, bounceDamping = _g === void 0 ? 10 : _g, _h = _a.restDelta, restDelta = _h === void 0 ? 1 : _h, modifyTarget = _a.modifyTarget, driver = _a.driver, onUpdate = _a.onUpdate, onComplete = _a.onComplete;\n    var currentAnimation;\n    function isOutOfBounds(v) {\n        return (min !== undefined && v < min) || (max !== undefined && v > max);\n    }\n    function boundaryNearest(v) {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    }\n    function startAnimation(options) {\n        currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n        currentAnimation = animate(__assign(__assign({}, options), { driver: driver, onUpdate: function (v) {\n                var _a;\n                onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(v);\n                (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\n            }, onComplete: onComplete }));\n    }\n    function startSpring(options) {\n        startAnimation(__assign({ type: \"spring\", stiffness: bounceStiffness, damping: bounceDamping, restDelta: restDelta }, options));\n    }\n    if (isOutOfBounds(from)) {\n        startSpring({ from: from, velocity: velocity, to: boundaryNearest(from) });\n    }\n    else {\n        var target = power * velocity + from;\n        if (typeof modifyTarget !== \"undefined\")\n            target = modifyTarget(target);\n        var boundary_1 = boundaryNearest(target);\n        var heading_1 = boundary_1 === min ? -1 : 1;\n        var prev_1;\n        var current_1;\n        var checkBoundary = function (v) {\n            prev_1 = current_1;\n            current_1 = v;\n            velocity = velocityPerSecond(v - prev_1, getFrameData().delta);\n            if ((heading_1 === 1 && v > boundary_1) ||\n                (heading_1 === -1 && v < boundary_1)) {\n                startSpring({ from: v, to: boundary_1, velocity: velocity });\n            }\n        };\n        startAnimation({\n            type: \"decay\",\n            from: from,\n            velocity: velocity,\n            timeConstant: timeConstant,\n            power: power,\n            restDelta: restDelta,\n            modifyTarget: modifyTarget,\n            onUpdate: isOutOfBounds(target) ? checkBoundary : undefined,\n        });\n    }\n    return {\n        stop: function () { return currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop(); },\n    };\n}\n\nexport { inertia };\n","function addUniqueItem(arr, item) {\n    arr.indexOf(item) === -1 && arr.push(item);\n}\nfunction removeItem(arr, item) {\n    var index = arr.indexOf(item);\n    index > -1 && arr.splice(index, 1);\n}\n\nexport { addUniqueItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.js';\n\nvar SubscriptionManager = /** @class */ (function () {\n    function SubscriptionManager() {\n        this.subscriptions = [];\n    }\n    SubscriptionManager.prototype.add = function (handler) {\n        var _this = this;\n        addUniqueItem(this.subscriptions, handler);\n        return function () { return removeItem(_this.subscriptions, handler); };\n    };\n    SubscriptionManager.prototype.notify = function (a, b, c) {\n        var numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (var i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                var handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    };\n    SubscriptionManager.prototype.getSize = function () {\n        return this.subscriptions.length;\n    };\n    SubscriptionManager.prototype.clear = function () {\n        this.subscriptions.length = 0;\n    };\n    return SubscriptionManager;\n}());\n\nexport { SubscriptionManager };\n","import sync, { getFrameData } from 'framesync';\nimport { velocityPerSecond } from 'popmotion';\nimport { SubscriptionManager } from '../utils/subscription-manager.js';\n\nvar isFloat = function (value) {\n    return !isNaN(parseFloat(value));\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nvar MotionValue = /** @class */ (function () {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    function MotionValue(init) {\n        var _this = this;\n        /**\n         * Duration, in milliseconds, since last updating frame.\n         *\n         * @internal\n         */\n        this.timeDelta = 0;\n        /**\n         * Timestamp of the last time this `MotionValue` was updated.\n         *\n         * @internal\n         */\n        this.lastUpdated = 0;\n        /**\n         * Functions to notify when the `MotionValue` updates.\n         *\n         * @internal\n         */\n        this.updateSubscribers = new SubscriptionManager();\n        /**\n         * Functions to notify when the velocity updates.\n         *\n         * @internal\n         */\n        this.velocityUpdateSubscribers = new SubscriptionManager();\n        /**\n         * Functions to notify when the `MotionValue` updates and `render` is set to `true`.\n         *\n         * @internal\n         */\n        this.renderSubscribers = new SubscriptionManager();\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = false;\n        this.updateAndNotify = function (v, render) {\n            if (render === void 0) { render = true; }\n            _this.prev = _this.current;\n            _this.current = v;\n            // Update timestamp\n            var _a = getFrameData(), delta = _a.delta, timestamp = _a.timestamp;\n            if (_this.lastUpdated !== timestamp) {\n                _this.timeDelta = delta;\n                _this.lastUpdated = timestamp;\n                sync.postRender(_this.scheduleVelocityCheck);\n            }\n            // Update update subscribers\n            if (_this.prev !== _this.current) {\n                _this.updateSubscribers.notify(_this.current);\n            }\n            // Update velocity subscribers\n            if (_this.velocityUpdateSubscribers.getSize()) {\n                _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n            }\n            // Update render subscribers\n            if (render) {\n                _this.renderSubscribers.notify(_this.current);\n            }\n        };\n        /**\n         * Schedule a velocity check for the next frame.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.scheduleVelocityCheck = function () { return sync.postRender(_this.velocityCheck); };\n        /**\n         * Updates `prev` with `current` if the value hasn't been updated this frame.\n         * This ensures velocity calculations return `0`.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.velocityCheck = function (_a) {\n            var timestamp = _a.timestamp;\n            if (timestamp !== _this.lastUpdated) {\n                _this.prev = _this.current;\n                _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n            }\n        };\n        this.hasAnimated = false;\n        this.prev = this.current = init;\n        this.canTrackVelocity = isFloat(this.current);\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * @library\n     *\n     * ```jsx\n     * function MyComponent() {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.onChange(updateOpacity)\n     *     const unsubscribeY = y.onChange(updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <Frame x={x} />\n     * }\n     * ```\n     *\n     * @motion\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.onChange(updateOpacity)\n     *     const unsubscribeY = y.onChange(updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @internalremarks\n     *\n     * We could look into a `useOnChange` hook if the above lifecycle management proves confusing.\n     *\n     * ```jsx\n     * useOnChange(x, () => {})\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @public\n     */\n    MotionValue.prototype.onChange = function (subscription) {\n        return this.updateSubscribers.add(subscription);\n    };\n    MotionValue.prototype.clearListeners = function () {\n        this.updateSubscribers.clear();\n    };\n    /**\n     * Adds a function that will be notified when the `MotionValue` requests a render.\n     *\n     * @param subscriber - A function that's provided the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @internal\n     */\n    MotionValue.prototype.onRenderRequest = function (subscription) {\n        // Render immediately\n        subscription(this.get());\n        return this.renderSubscribers.add(subscription);\n    };\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    MotionValue.prototype.attach = function (passiveEffect) {\n        this.passiveEffect = passiveEffect;\n    };\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    MotionValue.prototype.set = function (v, render) {\n        if (render === void 0) { render = true; }\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    };\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    MotionValue.prototype.get = function () {\n        return this.current;\n    };\n    /**\n     * @public\n     */\n    MotionValue.prototype.getPrevious = function () {\n        return this.prev;\n    };\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    MotionValue.prototype.getVelocity = function () {\n        // This could be isFloat(this.prev) && isFloat(this.current), but that would be wasteful\n        return this.canTrackVelocity\n            ? // These casts could be avoided if parseFloat would be typed better\n                velocityPerSecond(parseFloat(this.current) -\n                    parseFloat(this.prev), this.timeDelta)\n            : 0;\n    };\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    MotionValue.prototype.start = function (animation) {\n        var _this = this;\n        this.stop();\n        return new Promise(function (resolve) {\n            _this.hasAnimated = true;\n            _this.stopAnimation = animation(resolve);\n        }).then(function () { return _this.clearAnimation(); });\n    };\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    MotionValue.prototype.stop = function () {\n        if (this.stopAnimation)\n            this.stopAnimation();\n        this.clearAnimation();\n    };\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    MotionValue.prototype.isAnimating = function () {\n        return !!this.stopAnimation;\n    };\n    MotionValue.prototype.clearAnimation = function () {\n        this.stopAnimation = null;\n    };\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    MotionValue.prototype.destroy = function () {\n        this.updateSubscribers.clear();\n        this.renderSubscribers.clear();\n        this.stop();\n    };\n    return MotionValue;\n}());\n/**\n * @internal\n */\nfunction motionValue(init) {\n    return new MotionValue(init);\n}\n\nexport { MotionValue, motionValue };\n","/**\n * Tests a provided value against a ValueType\n */\nvar testValueType = function (v) { return function (type) { return type.test(v); }; };\n\nexport { testValueType };\n","import { number, px, percent, degrees, vw, vh } from 'style-value-types';\nimport { testValueType } from './test.js';\nimport { auto } from './type-auto.js';\n\n/**\n * A list of value types commonly used for dimensions\n */\nvar dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nvar findDimensionValueType = function (v) {\n    return dimensionValueTypes.find(testValueType(v));\n};\n\nexport { dimensionValueTypes, findDimensionValueType };\n","/**\n * ValueType for \"auto\"\n */\nvar auto = {\n    test: function (v) { return v === \"auto\"; },\n    parse: function (v) { return v; },\n};\n\nexport { auto };\n","import { __spreadArray, __read } from 'tslib';\nimport { color, complex } from 'style-value-types';\nimport { dimensionValueTypes } from './dimensions.js';\nimport { testValueType } from './test.js';\n\n/**\n * A list of all ValueTypes\n */\nvar valueTypes = __spreadArray(__spreadArray([], __read(dimensionValueTypes)), [color, complex]);\n/**\n * Tests a value against the list of ValueTypes\n */\nvar findValueType = function (v) { return valueTypes.find(testValueType(v)); };\n\nexport { findValueType };\n","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { complex } from 'style-value-types';\nimport { isNumericalString } from '../../utils/is-numerical-string.js';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.js';\nimport { motionValue } from '../../value/index.js';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.js';\nimport { findValueType } from '../dom/value-types/find.js';\nimport { resolveVariant } from './variants.js';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction setTarget(visualElement, definition) {\n    var resolved = resolveVariant(visualElement, definition);\n    var _a = resolved\n        ? visualElement.makeTargetAnimatable(resolved, false)\n        : {}, _b = _a.transitionEnd, transitionEnd = _b === void 0 ? {} : _b; _a.transition; var target = __rest(_a, [\"transitionEnd\", \"transition\"]);\n    target = __assign(__assign({}, target), transitionEnd);\n    for (var key in target) {\n        var value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\nfunction setVariants(visualElement, variantLabels) {\n    var reversedLabels = __spreadArray([], __read(variantLabels)).reverse();\n    reversedLabels.forEach(function (key) {\n        var _a;\n        var variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            setVariants(child, variantLabels);\n        });\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\nfunction checkTargetForNewValues(visualElement, target, origin) {\n    var _a, _b, _c;\n    var _d;\n    var newValueKeys = Object.keys(target).filter(function (key) { return !visualElement.hasValue(key); });\n    var numNewValues = newValueKeys.length;\n    if (!numNewValues)\n        return;\n    for (var i = 0; i < numNewValues; i++) {\n        var key = newValueKeys[i];\n        var targetValue = target[key];\n        var value = null;\n        /**\n         * If the target is a series of keyframes, we can use the first value\n         * in the array. If this first value is null, we'll still need to read from the DOM.\n         */\n        if (Array.isArray(targetValue)) {\n            value = targetValue[0];\n        }\n        /**\n         * If the target isn't keyframes, or the first keyframe was null, we need to\n         * first check if an origin value was explicitly defined in the transition as \"from\",\n         * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n         */\n        if (value === null) {\n            value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n        }\n        /**\n         * If value is still undefined or null, ignore it. Preferably this would throw,\n         * but this was causing issues in Framer.\n         */\n        if (value === undefined || value === null)\n            continue;\n        if (typeof value === \"string\" && isNumericalString(value)) {\n            // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n            value = parseFloat(value);\n        }\n        else if (!findValueType(value) && complex.test(targetValue)) {\n            value = getAnimatableNone(key, targetValue);\n        }\n        visualElement.addValue(key, motionValue(value));\n        (_c = (_d = origin)[key]) !== null && _c !== void 0 ? _c : (_d[key] = value);\n        visualElement.setBaseTarget(key, value);\n    }\n}\nfunction getOriginFromTransition(key, transition) {\n    if (!transition)\n        return;\n    var valueTransition = transition[key] || transition[\"default\"] || transition;\n    return valueTransition.from;\n}\nfunction getOrigin(target, transition, visualElement) {\n    var _a, _b;\n    var origin = {};\n    for (var key in target) {\n        origin[key] =\n            (_a = getOriginFromTransition(key, transition)) !== null && _a !== void 0 ? _a : (_b = visualElement.getValue(key)) === null || _b === void 0 ? void 0 : _b.get();\n    }\n    return origin;\n}\n\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };\n","import { __read, __rest, __assign } from 'tslib';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { setTarget } from './setters.js';\nimport { resolveVariant } from './variants.js';\n\n/**\n * @internal\n */\nfunction animateVisualElement(visualElement, definition, options) {\n    if (options === void 0) { options = {}; }\n    visualElement.notifyAnimationStart();\n    var animation;\n    if (Array.isArray(definition)) {\n        var animations = definition.map(function (variant) {\n            return animateVariant(visualElement, variant, options);\n        });\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        var resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = animateTarget(visualElement, resolvedDefinition, options);\n    }\n    return animation.then(function () {\n        return visualElement.notifyAnimationComplete(definition);\n    });\n}\nfunction animateVariant(visualElement, variant, options) {\n    var _a;\n    if (options === void 0) { options = {}; }\n    var resolved = resolveVariant(visualElement, variant, options.custom);\n    var _b = (resolved || {}).transition, transition = _b === void 0 ? visualElement.getDefaultTransition() || {} : _b;\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    var getAnimation = resolved\n        ? function () { return animateTarget(visualElement, resolved, options); }\n        : function () { return Promise.resolve(); };\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    var getChildAnimations = ((_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.size)\n        ? function (forwardDelay) {\n            if (forwardDelay === void 0) { forwardDelay = 0; }\n            var _a = transition.delayChildren, delayChildren = _a === void 0 ? 0 : _a, staggerChildren = transition.staggerChildren, staggerDirection = transition.staggerDirection;\n            return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n        }\n        : function () { return Promise.resolve(); };\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    var when = transition.when;\n    if (when) {\n        var _c = __read(when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation], 2), first = _c[0], last = _c[1];\n        return first().then(last);\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\n/**\n * @internal\n */\nfunction animateTarget(visualElement, definition, _a) {\n    var _b;\n    var _c = _a === void 0 ? {} : _a, _d = _c.delay, delay = _d === void 0 ? 0 : _d, transitionOverride = _c.transitionOverride, type = _c.type;\n    var _e = visualElement.makeTargetAnimatable(definition), _f = _e.transition, transition = _f === void 0 ? visualElement.getDefaultTransition() : _f, transitionEnd = _e.transitionEnd, target = __rest(_e, [\"transition\", \"transitionEnd\"]);\n    if (transitionOverride)\n        transition = transitionOverride;\n    var animations = [];\n    var animationTypeState = type && ((_b = visualElement.animationState) === null || _b === void 0 ? void 0 : _b.getState()[type]);\n    for (var key in target) {\n        var value = visualElement.getValue(key);\n        var valueTarget = target[key];\n        if (!value ||\n            valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        var animation = startAnimation(key, value, valueTarget, __assign({ delay: delay }, transition));\n        animations.push(animation);\n    }\n    return Promise.all(animations).then(function () {\n        transitionEnd && setTarget(visualElement, transitionEnd);\n    });\n}\nfunction animateChildren(visualElement, variant, delayChildren, staggerChildren, staggerDirection, options) {\n    if (delayChildren === void 0) { delayChildren = 0; }\n    if (staggerChildren === void 0) { staggerChildren = 0; }\n    if (staggerDirection === void 0) { staggerDirection = 1; }\n    var animations = [];\n    var maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n    var generateStaggerDuration = staggerDirection === 1\n        ? function (i) {\n            if (i === void 0) { i = 0; }\n            return i * staggerChildren;\n        }\n        : function (i) {\n            if (i === void 0) { i = 0; }\n            return maxStaggerDuration - i * staggerChildren;\n        };\n    Array.from(visualElement.variantChildren)\n        .sort(sortByTreeOrder)\n        .forEach(function (child, i) {\n        animations.push(animateVariant(child, variant, __assign(__assign({}, options), { delay: delayChildren + generateStaggerDuration(i) })).then(function () { return child.notifyAnimationComplete(variant); }));\n    });\n    return Promise.all(animations);\n}\nfunction stopAnimation(visualElement) {\n    visualElement.forEachValue(function (value) { return value.stop(); });\n}\nfunction sortByTreeOrder(a, b) {\n    return a.sortNodePosition(b);\n}\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation(_a, key) {\n    var protectedKeys = _a.protectedKeys, needsAnimating = _a.needsAnimating;\n    var shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\n\nexport { animateVisualElement, sortByTreeOrder, stopAnimation };\n","import { __spreadArray, __read, __assign, __rest } from 'tslib';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.js';\nimport { shallowCompare } from '../../utils/shallow-compare.js';\nimport { animateVisualElement } from './animation.js';\nimport { AnimationType } from './types.js';\nimport { isVariantLabels, resolveVariant, isVariantLabel } from './variants.js';\n\nvar variantPriorityOrder = [\n    AnimationType.Animate,\n    AnimationType.Hover,\n    AnimationType.Tap,\n    AnimationType.Drag,\n    AnimationType.Focus,\n    AnimationType.Exit,\n];\nvar reversePriorityOrder = __spreadArray([], __read(variantPriorityOrder)).reverse();\nvar numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return function (animations) {\n        return Promise.all(animations.map(function (_a) {\n            var animation = _a.animation, options = _a.options;\n            return animateVisualElement(visualElement, animation, options);\n        }));\n    };\n}\nfunction createAnimationState(visualElement) {\n    var animate = animateList(visualElement);\n    var state = createState();\n    var allAnimatedKeys = {};\n    var isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    var buildResolvedTypeValues = function (acc, definition) {\n        var resolved = resolveVariant(visualElement, definition);\n        if (resolved) {\n            resolved.transition; var transitionEnd = resolved.transitionEnd, target = __rest(resolved, [\"transition\", \"transitionEnd\"]);\n            acc = __assign(__assign(__assign({}, acc), target), transitionEnd);\n        }\n        return acc;\n    };\n    function isAnimated(key) {\n        return allAnimatedKeys[key] !== undefined;\n    }\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(options, changedActiveType) {\n        var _a;\n        var props = visualElement.getProps();\n        var context = visualElement.getVariantContext(true) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        var animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        var removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        var encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        var removedVariantIndex = Infinity;\n        var _loop_1 = function (i) {\n            var type = reversePriorityOrder[i];\n            var typeState = state[type];\n            var prop = (_a = props[type]) !== null && _a !== void 0 ? _a : context[type];\n            var propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            var activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            var isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n            /**\n             *\n             */\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = __assign({}, encounteredKeys);\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                return \"continue\";\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            var shouldAnimateType = variantsHaveChanged(typeState.prevProp, prop) ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            var definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            var resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            var _b = typeState.prevResolvedValues, prevResolvedValues = _b === void 0 ? {} : _b;\n            var allKeys = __assign(__assign({}, prevResolvedValues), resolvedValues);\n            var markToAnimate = function (key) {\n                shouldAnimateType = true;\n                removedKeys.delete(key);\n                typeState.needsAnimating[key] = true;\n            };\n            for (var key in allKeys) {\n                var next = resolvedValues[key];\n                var prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                if (next !== prev) {\n                    /**\n                     * If both values are keyframes, we need to shallow compare them to\n                     * detect whether any value has changed. If it has, we animate it.\n                     */\n                    if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                        if (!shallowCompare(next, prev)) {\n                            markToAnimate(key);\n                        }\n                        else {\n                            /**\n                             * If it hasn't changed, we want to ensure it doesn't animate by\n                             * adding it to the list of protected keys.\n                             */\n                            typeState.protectedKeys[key] = true;\n                        }\n                    }\n                    else if (next !== undefined) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            /**\n             *\n             */\n            if (typeState.isActive) {\n                encounteredKeys = __assign(__assign({}, encounteredKeys), resolvedValues);\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to hard-block animations\n             * TODO: Test as this should probably still handle animations triggered\n             * by removed values?\n             */\n            if (shouldAnimateType && !isInherited) {\n                animations.push.apply(animations, __spreadArray([], __read(definitionList.map(function (animation) { return ({\n                    animation: animation,\n                    options: __assign({ type: type }, options),\n                }); }))));\n            }\n        };\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (var i = 0; i < numAnimationTypes; i++) {\n            _loop_1(i);\n        }\n        allAnimatedKeys = __assign({}, encounteredKeys);\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            var fallbackAnimation_1 = {};\n            removedKeys.forEach(function (key) {\n                var fallbackTarget = visualElement.getBaseTarget(key);\n                if (fallbackTarget !== undefined) {\n                    fallbackAnimation_1[key] = fallbackTarget;\n                }\n            });\n            animations.push({ animation: fallbackAnimation_1 });\n        }\n        var shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            props.initial === false &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive, options) {\n        var _a;\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) { var _a; return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive); });\n        state[type].isActive = isActive;\n        return animateChanges(options, type);\n    }\n    return {\n        isAnimated: isAnimated,\n        animateChanges: animateChanges,\n        setActive: setActive,\n        setAnimateFunction: setAnimateFunction,\n        getState: function () { return state; },\n    };\n}\nfunction variantsHaveChanged(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (isVariantLabels(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive) {\n    if (isActive === void 0) { isActive = false; }\n    return {\n        isActive: isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    var _a;\n    return _a = {},\n        _a[AnimationType.Animate] = createTypeState(true),\n        _a[AnimationType.Hover] = createTypeState(),\n        _a[AnimationType.Tap] = createTypeState(),\n        _a[AnimationType.Drag] = createTypeState(),\n        _a[AnimationType.Focus] = createTypeState(),\n        _a[AnimationType.Exit] = createTypeState(),\n        _a;\n}\n\nexport { createAnimationState, variantPriorityOrder, variantsHaveChanged };\n","import { __read } from 'tslib';\nimport { useEffect, useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { usePresence } from '../../components/AnimatePresence/use-presence.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { createAnimationState } from '../../render/utils/animation-state.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\n\nvar animations = {\n    animation: makeRenderlessComponent(function (_a) {\n        var visualElement = _a.visualElement, animate = _a.animate;\n        /**\n         * We dynamically generate the AnimationState manager as it contains a reference\n         * to the underlying animation library. We only want to load that if we load this,\n         * so people can optionally code split it out using the `m` component.\n         */\n        visualElement.animationState || (visualElement.animationState = createAnimationState(visualElement));\n        /**\n         * Subscribe any provided AnimationControls to the component's VisualElement\n         */\n        if (isAnimationControls(animate)) {\n            useEffect(function () { return animate.subscribe(visualElement); }, [animate]);\n        }\n    }),\n    exit: makeRenderlessComponent(function (props) {\n        var custom = props.custom, visualElement = props.visualElement;\n        var _a = __read(usePresence(), 2), isPresent = _a[0], onExitComplete = _a[1];\n        var presenceContext = useContext(PresenceContext);\n        useEffect(function () {\n            var _a, _b;\n            var animation = (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Exit, !isPresent, { custom: (_b = presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.custom) !== null && _b !== void 0 ? _b : custom });\n            !isPresent && (animation === null || animation === void 0 ? void 0 : animation.then(onExitComplete));\n        }, [isPresent]);\n    }),\n};\n\nexport { animations };\n","var isPoint = function (point) {\n    return point.hasOwnProperty('x') && point.hasOwnProperty('y');\n};\n\nexport { isPoint };\n","import { isPoint } from './is-point.js';\n\nvar isPoint3D = function (point) {\n    return isPoint(point) && point.hasOwnProperty('z');\n};\n\nexport { isPoint3D };\n","import { isPoint } from './is-point.js';\nimport { isPoint3D } from './is-point-3d.js';\nimport { isNum } from './inc.js';\n\nvar distance1D = function (a, b) { return Math.abs(a - b); };\nfunction distance(a, b) {\n    if (isNum(a) && isNum(b)) {\n        return distance1D(a, b);\n    }\n    else if (isPoint(a) && isPoint(b)) {\n        var xDelta = distance1D(a.x, b.x);\n        var yDelta = distance1D(a.y, b.y);\n        var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\n        return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\n    }\n}\n\nexport { distance };\n","import { __assign } from 'tslib';\nimport { isMouseEvent, isTouchEvent } from './utils/event-type.js';\nimport { extractEventInfo } from '../events/event-info.js';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { secondsToMilliseconds } from '../utils/time-conversion.js';\nimport { addPointerEvent } from '../events/use-pointer-event.js';\nimport { distance, pipe } from 'popmotion';\n\n/**\n * @internal\n */\nvar PanSession = /** @class */ (function () {\n    function PanSession(event, handlers, _a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, transformPagePoint = _b.transformPagePoint;\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        this.updatePoint = function () {\n            if (!(_this.lastMoveEvent && _this.lastMoveEventInfo))\n                return;\n            var info = getPanInfo(_this.lastMoveEventInfo, _this.history);\n            var isPanStarted = _this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            var isDistancePastThreshold = distance(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            var point = info.point;\n            var timestamp = getFrameData().timestamp;\n            _this.history.push(__assign(__assign({}, point), { timestamp: timestamp }));\n            var _a = _this.handlers, onStart = _a.onStart, onMove = _a.onMove;\n            if (!isPanStarted) {\n                onStart && onStart(_this.lastMoveEvent, info);\n                _this.startEvent = _this.lastMoveEvent;\n            }\n            onMove && onMove(_this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = function (event, info) {\n            _this.lastMoveEvent = event;\n            _this.lastMoveEventInfo = transformPoint(info, _this.transformPagePoint);\n            // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n            if (isMouseEvent(event) && event.buttons === 0) {\n                _this.handlePointerUp(event, info);\n                return;\n            }\n            // Throttle mouse move event to once per frame\n            sync.update(_this.updatePoint, true);\n        };\n        this.handlePointerUp = function (event, info) {\n            _this.end();\n            var _a = _this.handlers, onEnd = _a.onEnd, onSessionEnd = _a.onSessionEnd;\n            var panInfo = getPanInfo(transformPoint(info, _this.transformPagePoint), _this.history);\n            if (_this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (isTouchEvent(event) && event.touches.length > 1)\n            return;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        var info = extractEventInfo(event);\n        var initialInfo = transformPoint(info, this.transformPagePoint);\n        var point = initialInfo.point;\n        var timestamp = getFrameData().timestamp;\n        this.history = [__assign(__assign({}, point), { timestamp: timestamp })];\n        var onSessionStart = handlers.onSessionStart;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n    }\n    PanSession.prototype.updateHandlers = function (handlers) {\n        this.handlers = handlers;\n    };\n    PanSession.prototype.end = function () {\n        this.removeListeners && this.removeListeners();\n        cancelSync.update(this.updatePoint);\n    };\n    return PanSession;\n}());\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo(_a, history) {\n    var point = _a.point;\n    return {\n        point: point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    var i = history.length - 1;\n    var timestampedPoint = null;\n    var lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    var currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","function noop(any) {\n    return any;\n}\n\nexport { noop };\n","import { __assign } from 'tslib';\nimport { noop } from '../noop.js';\n\n/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToAxisBox(_a) {\n    var top = _a.top, left = _a.left, right = _a.right, bottom = _a.bottom;\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertAxisBoxToBoundingBox(_a) {\n    var x = _a.x, y = _a.y;\n    return {\n        top: y.min,\n        bottom: y.max,\n        left: x.min,\n        right: x.max,\n    };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoundingBox(_a, transformPoint) {\n    var top = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n    if (transformPoint === void 0) { transformPoint = noop; }\n    var topLeft = transformPoint({ x: left, y: top });\n    var bottomRight = transformPoint({ x: right, y: bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n/**\n * Create an empty axis box of zero size\n */\nfunction axisBox() {\n    return { x: { min: 0, max: 1 }, y: { min: 0, max: 1 } };\n}\nfunction copyAxisBox(box) {\n    return {\n        x: __assign({}, box.x),\n        y: __assign({}, box.y),\n    };\n}\n/**\n * Create an empty box delta\n */\nvar zeroDelta = {\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n};\nfunction delta() {\n    return {\n        x: __assign({}, zeroDelta),\n        y: __assign({}, zeroDelta),\n    };\n}\n\nexport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox, copyAxisBox, delta, transformBoundingBox };\n","// Call a handler once for each axis\nfunction eachAxis(handler) {\n    return [handler(\"x\"), handler(\"y\")];\n}\n\nexport { eachAxis };\n","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, _a, elastic) {\n    var min = _a.min, max = _a.max;\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculates a min projection point based on a pointer, pointer progress\n * within the drag target, and constraints.\n *\n * For instance if an element was 100px width, we were dragging from 0.25\n * along this axis, the pointer is at 200px, and there were no constraints,\n * we would calculate a min projection point of 175px.\n */\nfunction calcConstrainedMinPoint(point, length, progress, constraints, elastic) {\n    // Calculate a min point for this axis and apply it to the current pointer\n    var min = point - length * progress;\n    return constraints ? applyConstraints(min, constraints, elastic) : min;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, _a) {\n    var top = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    var _a;\n    var min = constraintsAxis.min - layoutAxis.min;\n    var max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        _a = __read([max, min], 2), min = _a[0], max = _a[1];\n    }\n    return {\n        min: layoutAxis.min + min,\n        max: layoutAxis.min + max,\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate the an axis position based on two axes and a progress value.\n */\nfunction calcPositionFromProgress(axis, constraints, progress) {\n    var axisLength = axis.max - axis.min;\n    var min = mix(constraints.min, constraints.max - axisLength, progress);\n    return { min: min, max: min + axisLength };\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    var relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nvar defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    var _a;\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : (_a = dragElastic[label]) !== null && _a !== void 0 ? _a : 0;\n}\n\nexport { applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","import { convertBoundingBoxToAxisBox, transformBoundingBox } from '../../../utils/geometry/index.js';\n\n/**\n * Measure and return the element bounding box.\n *\n * We convert the box into an AxisBox2D to make it easier to work with each axis\n * individually and programmatically.\n *\n * This function optionally accepts a transformPagePoint function which allows us to compensate\n * for, for instance, measuring the element within a scaled plane like a Framer devivce preview component.\n */\nfunction getBoundingBox(element, transformPagePoint) {\n    var box = element.getBoundingClientRect();\n    return convertBoundingBoxToAxisBox(transformBoundingBox(box, transformPagePoint));\n}\n\nexport { getBoundingBox };\n","import { mix, distance, clamp, progress } from 'popmotion';\n\nvar clampProgress = function (v) { return clamp(0, 1, v); };\n/**\n * Returns true if the provided value is within maxDistance of the provided target\n */\nfunction isNear(value, target, maxDistance) {\n    if (target === void 0) { target = 0; }\n    if (maxDistance === void 0) { maxDistance = 0.01; }\n    return distance(value, target) < maxDistance;\n}\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    var origin = 0.5;\n    var sourceLength = calcLength(source);\n    var targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clampProgress(origin);\n}\n/**\n * Update the AxisDelta with a transform that projects source into target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\nfunction updateAxisDelta(delta, source, target, origin) {\n    if (origin === void 0) { origin = 0.5; }\n    delta.origin = origin;\n    delta.originPoint = mix(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    if (isNear(delta.scale, 1, 0.0001))\n        delta.scale = 1;\n    delta.translate =\n        mix(target.min, target.max, delta.origin) - delta.originPoint;\n    if (isNear(delta.translate))\n        delta.translate = 0;\n}\n/**\n * Update the BoxDelta with a transform that projects the source into the target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\nfunction updateBoxDelta(delta, source, target, origin) {\n    updateAxisDelta(delta.x, source.x, target.x, defaultOrigin(origin.originX));\n    updateAxisDelta(delta.y, source.y, target.y, defaultOrigin(origin.originY));\n}\n/**\n * Currently this only accepts numerical origins, measured as 0-1, but could\n * accept pixel values by comparing to the target axis.\n */\nfunction defaultOrigin(origin) {\n    return typeof origin === \"number\" ? origin : 0.5;\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(projection, parentProjection) {\n    calcRelativeAxis(projection.target.x, projection.relativeTarget.x, parentProjection.target.x);\n    calcRelativeAxis(projection.target.y, projection.relativeTarget.y, parentProjection.target.y);\n}\n\nexport { calcOrigin, calcRelativeAxis, calcRelativeBox, isNear, updateAxisDelta, updateBoxDelta };\n","var compareByDepth = function (a, b) {\n    return a.depth - b.depth;\n};\n\nexport { compareByDepth };\n","import sync from 'framesync';\nimport { copyAxisBox } from '../../../utils/geometry/index.js';\nimport { compareByDepth } from '../../utils/compare-by-depth.js';\n\nfunction isProjecting(visualElement) {\n    var isEnabled = visualElement.projection.isEnabled;\n    return isEnabled || visualElement.shouldResetTransform();\n}\nfunction collectProjectingAncestors(visualElement, ancestors) {\n    if (ancestors === void 0) { ancestors = []; }\n    var parent = visualElement.parent;\n    if (parent)\n        collectProjectingAncestors(parent, ancestors);\n    if (isProjecting(visualElement))\n        ancestors.push(visualElement);\n    return ancestors;\n}\nfunction collectProjectingChildren(visualElement) {\n    var children = [];\n    var addChild = function (child) {\n        if (isProjecting(child))\n            children.push(child);\n        child.children.forEach(addChild);\n    };\n    visualElement.children.forEach(addChild);\n    return children.sort(compareByDepth);\n}\n/**\n * Update the layoutState by measuring the DOM layout. This\n * should be called after resetting any layout-affecting transforms.\n */\nfunction updateLayoutMeasurement(visualElement) {\n    if (visualElement.shouldResetTransform())\n        return;\n    var layoutState = visualElement.getLayoutState();\n    visualElement.notifyBeforeLayoutMeasure(layoutState.layout);\n    layoutState.isHydrated = true;\n    layoutState.layout = visualElement.measureViewportBox();\n    layoutState.layoutCorrected = copyAxisBox(layoutState.layout);\n    visualElement.notifyLayoutMeasure(layoutState.layout, visualElement.prevViewportBox || layoutState.layout);\n    sync.update(function () { return visualElement.rebaseProjectionTarget(); });\n}\n/**\n * Record the viewport box as it was before an expected mutation/re-render\n */\nfunction snapshotViewportBox(visualElement) {\n    if (visualElement.shouldResetTransform())\n        return;\n    visualElement.prevViewportBox = visualElement.measureViewportBox(false);\n    /**\n     * Update targetBox to match the prevViewportBox. This is just to ensure\n     * that targetBox is affected by scroll in the same way as the measured box\n     */\n    visualElement.rebaseProjectionTarget(false, visualElement.prevViewportBox);\n}\n\nexport { collectProjectingAncestors, collectProjectingChildren, snapshotViewportBox, updateLayoutMeasurement };\n","import { mix } from 'popmotion';\n\nfunction tweenAxis(target, prev, next, p) {\n    target.min = mix(prev.min, next.min, p);\n    target.max = mix(prev.max, next.max, p);\n}\nfunction calcRelativeOffsetAxis(parent, child) {\n    return {\n        min: child.min - parent.min,\n        max: child.max - parent.min,\n    };\n}\nfunction calcRelativeOffset(parent, child) {\n    return {\n        x: calcRelativeOffsetAxis(parent.x, child.x),\n        y: calcRelativeOffsetAxis(parent.y, child.y),\n    };\n}\nfunction checkIfParentHasChanged(prev, next) {\n    var prevId = prev.getLayoutId();\n    var nextId = next.getLayoutId();\n    return prevId !== nextId || (nextId === undefined && prev !== next);\n}\n\nexport { calcRelativeOffset, calcRelativeOffsetAxis, checkIfParentHasChanged, tweenAxis };\n","function isDraggable(visualElement) {\n    var _a = visualElement.getProps(), drag = _a.drag, _dragX = _a._dragX;\n    return drag && !_dragX;\n}\n\nexport { isDraggable };\n","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\nimport { isDraggable } from '../../render/utils/is-draggable.js';\n\n/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction resetAxis(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction resetBox(box, originBox) {\n    resetAxis(box.x, originBox.x);\n    resetAxis(box.y, originBox.y);\n}\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    var distanceFromOrigin = point - originPoint;\n    var scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate, scale, originPoint, boxScale) {\n    if (translate === void 0) { translate = 0; }\n    if (scale === void 0) { scale = 1; }\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, _a) {\n    var x = _a.x, y = _a.y;\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction applyAxisTransforms(final, axis, transforms, _a) {\n    var _b = __read(_a, 3), key = _b[0], scaleKey = _b[1], originKey = _b[2];\n    // Copy the current axis to the final axis before mutation\n    final.min = axis.min;\n    final.max = axis.max;\n    var axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n    var originPoint = mix(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(final, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nvar xKeys = [\"x\", \"scaleX\", \"originX\"];\nvar yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction applyBoxTransforms(finalBox, box, transforms) {\n    applyAxisTransforms(finalBox.x, box.x, transforms, xKeys);\n    applyAxisTransforms(finalBox.y, box.y, transforms, yKeys);\n}\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate, scale, origin, boxScale) {\n    if (translate === void 0) { translate = 0; }\n    if (scale === void 0) { scale = 1; }\n    if (origin === void 0) { origin = 0.5; }\n    var originPoint = mix(axis.min, axis.max, origin) - translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, _a) {\n    var _b = __read(_a, 3), key = _b[0], scaleKey = _b[1], originKey = _b[2];\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale);\n}\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms) {\n    removeAxisTransforms(box.x, transforms, xKeys);\n    removeAxisTransforms(box.y, transforms, yKeys);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath) {\n    var treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    var node;\n    var delta;\n    for (var i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.getLayoutState().delta;\n        // Incoporate each ancestor's scale into a culmulative treeScale for this component\n        treeScale.x *= delta.x.scale;\n        treeScale.y *= delta.y.scale;\n        // Apply each ancestor's calculated delta into this component's recorded layout box\n        applyBoxDelta(box, delta);\n        // If this is a draggable ancestor, also incorporate the node's transform to the layout box\n        if (isDraggable(node)) {\n            applyBoxTransforms(box, box, node.getLatestValues());\n        }\n    }\n}\n\nexport { applyAxisDelta, applyAxisTransforms, applyBoxDelta, applyBoxTransforms, applyPointDelta, applyTreeDeltas, removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta, resetAxis, resetBox, scalePoint };\n","var unresolvedJobs = new Set();\nfunction pushJob(stack, job, pointer) {\n    if (!stack[pointer])\n        stack[pointer] = [];\n    stack[pointer].push(job);\n}\nfunction batchLayout(callback) {\n    unresolvedJobs.add(callback);\n    return function () { return unresolvedJobs.delete(callback); };\n}\nfunction flushLayout() {\n    if (!unresolvedJobs.size)\n        return;\n    var pointer = 0;\n    var reads = [[]];\n    var writes = [];\n    var setRead = function (job) { return pushJob(reads, job, pointer); };\n    var setWrite = function (job) {\n        pushJob(writes, job, pointer);\n        pointer++;\n    };\n    /**\n     * Resolve jobs into their array stacks\n     */\n    unresolvedJobs.forEach(function (callback) {\n        callback(setRead, setWrite);\n        pointer = 0;\n    });\n    unresolvedJobs.clear();\n    /**\n     * Execute jobs\n     */\n    var numStacks = writes.length;\n    for (var i = 0; i <= numStacks; i++) {\n        reads[i] && reads[i].forEach(executeJob);\n        writes[i] && writes[i].forEach(executeJob);\n    }\n}\nvar executeJob = function (job) { return job(); };\n\nexport { batchLayout, flushLayout };\n","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { PanSession } from '../PanSession.js';\nimport { getGlobalLock } from './utils/lock.js';\nimport { isRefObject } from '../../utils/is-ref-object.js';\nimport { addPointerEvent } from '../../events/use-pointer-event.js';\nimport { addDomEvent } from '../../events/use-dom-event.js';\nimport { getViewportPointFromEvent } from '../../events/event-info.js';\nimport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox } from '../../utils/geometry/index.js';\nimport { eachAxis } from '../../utils/each-axis.js';\nimport { calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, defaultElastic } from './utils/constraints.js';\nimport { getBoundingBox } from '../../render/dom/projection/measure.js';\nimport { calcOrigin } from '../../utils/geometry/delta-calc.js';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { collectProjectingAncestors, updateLayoutMeasurement, collectProjectingChildren } from '../../render/dom/projection/utils.js';\nimport { progress } from 'popmotion';\nimport { convertToRelativeProjection } from '../../render/dom/projection/convert-to-relative.js';\nimport { calcRelativeOffset } from '../../motion/features/layout/utils.js';\nimport { flushLayout, batchLayout } from '../../render/dom/utils/batch-layout.js';\nimport { flushSync } from 'framesync';\n\nvar elementDragControls = new WeakMap();\n/**\n *\n */\nvar lastPointerEvent;\nvar VisualElementDragControls = /** @class */ (function () {\n    function VisualElementDragControls(_a) {\n        var visualElement = _a.visualElement;\n        /**\n         * Track whether we're currently dragging.\n         *\n         * @internal\n         */\n        this.isDragging = false;\n        /**\n         * The current direction of drag, or `null` if both.\n         *\n         * @internal\n         */\n        this.currentDirection = null;\n        /**\n         * The permitted boundaries of travel, in pixels.\n         *\n         * @internal\n         */\n        this.constraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         *\n         * @internal\n         */\n        this.elastic = axisBox();\n        /**\n         * A reference to the host component's latest props.\n         *\n         * @internal\n         */\n        this.props = {};\n        /**\n         * @internal\n         */\n        this.hasMutatedConstraints = false;\n        /**\n         * Track the initial position of the cursor relative to the dragging element\n         * when dragging starts as a value of 0-1 on each axis. We then use this to calculate\n         * an ideal bounding box for the VisualElement renderer to project into every frame.\n         *\n         * @internal\n         */\n        this.cursorProgress = {\n            x: 0.5,\n            y: 0.5,\n        };\n        // When updating _dragX, or _dragY instead of the VisualElement,\n        // persist their values between drag gestures.\n        this.originPoint = {};\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        /**\n         * @internal\n         */\n        this.panSession = null;\n        this.visualElement = visualElement;\n        this.visualElement.enableLayoutProjection();\n        elementDragControls.set(visualElement, this);\n    }\n    /**\n     * Instantiate a PanSession for the drag gesture\n     *\n     * @public\n     */\n    VisualElementDragControls.prototype.start = function (originEvent, _a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, _c = _b.snapToCursor, snapToCursor = _c === void 0 ? false : _c, cursorProgress = _b.cursorProgress;\n        var onSessionStart = function (event) {\n            var _a;\n            // Stop any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            _this.stopMotion();\n            /**\n             * Save the initial point. We'll use this to calculate the pointer's position rather\n             * than the one we receive when the gesture actually starts. By then, the pointer will\n             * have already moved, and the perception will be of the pointer \"slipping\" across the element\n             */\n            var initialPoint = getViewportPointFromEvent(event).point;\n            (_a = _this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(_this);\n            _this.cancelLayout = batchLayout(function (read, write) {\n                var ancestors = collectProjectingAncestors(_this.visualElement);\n                var children = collectProjectingChildren(_this.visualElement);\n                var tree = __spreadArray(__spreadArray([], __read(ancestors)), __read(children));\n                var hasManuallySetCursorOrigin = false;\n                /**\n                 * Apply a simple lock to the projection target. This ensures no animations\n                 * can run on the projection box while this lock is active.\n                 */\n                _this.isLayoutDrag() && _this.visualElement.lockProjectionTarget();\n                write(function () {\n                    tree.forEach(function (element) { return element.resetTransform(); });\n                });\n                read(function () {\n                    updateLayoutMeasurement(_this.visualElement);\n                    children.forEach(updateLayoutMeasurement);\n                });\n                write(function () {\n                    tree.forEach(function (element) { return element.restoreTransform(); });\n                    if (snapToCursor) {\n                        hasManuallySetCursorOrigin = _this.snapToCursor(initialPoint);\n                    }\n                });\n                read(function () {\n                    var isRelativeDrag = Boolean(_this.getAxisMotionValue(\"x\") && !_this.isExternalDrag());\n                    if (!isRelativeDrag) {\n                        _this.visualElement.rebaseProjectionTarget(true, _this.visualElement.measureViewportBox(false));\n                    }\n                    _this.visualElement.scheduleUpdateLayoutProjection();\n                    /**\n                     * When dragging starts, we want to find where the cursor is relative to the bounding box\n                     * of the element. Every frame, we calculate a new bounding box using this relative position\n                     * and let the visualElement renderer figure out how to reproject the element into this bounding\n                     * box.\n                     *\n                     * By doing it this way, rather than applying an x/y transform directly to the element,\n                     * we can ensure the component always visually sticks to the cursor as we'd expect, even\n                     * if the DOM element itself changes layout as a result of React updates the user might\n                     * make based on the drag position.\n                     */\n                    var projection = _this.visualElement.projection;\n                    eachAxis(function (axis) {\n                        if (!hasManuallySetCursorOrigin) {\n                            var _a = projection.target[axis], min = _a.min, max = _a.max;\n                            _this.cursorProgress[axis] = cursorProgress\n                                ? cursorProgress[axis]\n                                : progress(min, max, initialPoint[axis]);\n                        }\n                        /**\n                         * If we have external drag MotionValues, record their origin point. On pointermove\n                         * we'll apply the pan gesture offset directly to this value.\n                         */\n                        var axisValue = _this.getAxisMotionValue(axis);\n                        if (axisValue) {\n                            _this.originPoint[axis] = axisValue.get();\n                        }\n                    });\n                });\n                write(function () {\n                    flushSync.update();\n                    flushSync.preRender();\n                    flushSync.render();\n                    flushSync.postRender();\n                });\n                read(function () { return _this.resolveDragConstraints(); });\n            });\n        };\n        var onStart = function (event, info) {\n            var _a, _b, _c;\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            var _d = _this.props, drag = _d.drag, dragPropagation = _d.dragPropagation;\n            if (drag && !dragPropagation) {\n                if (_this.openGlobalLock)\n                    _this.openGlobalLock();\n                _this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!_this.openGlobalLock)\n                    return;\n            }\n            flushLayout();\n            // Set current drag status\n            _this.isDragging = true;\n            _this.currentDirection = null;\n            // Fire onDragStart event\n            (_b = (_a = _this.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, event, info);\n            (_c = _this.visualElement.animationState) === null || _c === void 0 ? void 0 : _c.setActive(AnimationType.Drag, true);\n        };\n        var onMove = function (event, info) {\n            var _a, _b, _c, _d;\n            var _e = _this.props, dragPropagation = _e.dragPropagation, dragDirectionLock = _e.dragDirectionLock;\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !_this.openGlobalLock)\n                return;\n            var offset = info.offset;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && _this.currentDirection === null) {\n                _this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (_this.currentDirection !== null) {\n                    (_b = (_a = _this.props).onDirectionLock) === null || _b === void 0 ? void 0 : _b.call(_a, _this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            _this.updateAxis(\"x\", info.point, offset);\n            _this.updateAxis(\"y\", info.point, offset);\n            // Fire onDrag event\n            (_d = (_c = _this.props).onDrag) === null || _d === void 0 ? void 0 : _d.call(_c, event, info);\n            // Update the last pointer event\n            lastPointerEvent = event;\n        };\n        var onSessionEnd = function (event, info) {\n            return _this.stop(event, info);\n        };\n        var transformPagePoint = this.props.transformPagePoint;\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart: onSessionStart,\n            onStart: onStart,\n            onMove: onMove,\n            onSessionEnd: onSessionEnd,\n        }, { transformPagePoint: transformPagePoint });\n    };\n    VisualElementDragControls.prototype.resolveDragConstraints = function () {\n        var _this = this;\n        var _a = this.props, dragConstraints = _a.dragConstraints, dragElastic = _a.dragElastic;\n        var layout = this.visualElement.getLayoutState().layoutCorrected;\n        if (dragConstraints) {\n            this.constraints = isRefObject(dragConstraints)\n                ? this.resolveRefConstraints(layout, dragConstraints)\n                : calcRelativeConstraints(layout, dragConstraints);\n        }\n        else {\n            this.constraints = false;\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (this.constraints && !this.hasMutatedConstraints) {\n            eachAxis(function (axis) {\n                if (_this.getAxisMotionValue(axis)) {\n                    _this.constraints[axis] = rebaseAxisConstraints(layout[axis], _this.constraints[axis]);\n                }\n            });\n        }\n    };\n    VisualElementDragControls.prototype.resolveRefConstraints = function (layoutBox, constraints) {\n        var _a = this.props, onMeasureDragConstraints = _a.onMeasureDragConstraints, transformPagePoint = _a.transformPagePoint;\n        var constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        this.constraintsBox = getBoundingBox(constraintsElement, transformPagePoint);\n        var measuredConstraints = calcViewportConstraints(layoutBox, this.constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            var userConstraints = onMeasureDragConstraints(convertAxisBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToAxisBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    };\n    VisualElementDragControls.prototype.cancelDrag = function () {\n        var _a, _b;\n        this.visualElement.unlockProjectionTarget();\n        (_a = this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(this);\n        this.isDragging = false;\n        this.panSession && this.panSession.end();\n        this.panSession = null;\n        if (!this.props.dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        (_b = this.visualElement.animationState) === null || _b === void 0 ? void 0 : _b.setActive(AnimationType.Drag, false);\n    };\n    VisualElementDragControls.prototype.stop = function (event, info) {\n        var _a, _b, _c;\n        (_a = this.panSession) === null || _a === void 0 ? void 0 : _a.end();\n        this.panSession = null;\n        var isDragging = this.isDragging;\n        this.cancelDrag();\n        if (!isDragging)\n            return;\n        var velocity = info.velocity;\n        this.animateDragEnd(velocity);\n        (_c = (_b = this.props).onDragEnd) === null || _c === void 0 ? void 0 : _c.call(_b, event, info);\n    };\n    VisualElementDragControls.prototype.snapToCursor = function (point) {\n        var _this = this;\n        return eachAxis(function (axis) {\n            var drag = _this.props.drag;\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, _this.currentDirection))\n                return;\n            var axisValue = _this.getAxisMotionValue(axis);\n            if (axisValue) {\n                var box = _this.visualElement.getLayoutState().layout;\n                var length_1 = box[axis].max - box[axis].min;\n                var center = box[axis].min + length_1 / 2;\n                var offset = point[axis] - center;\n                _this.originPoint[axis] = point[axis];\n                axisValue.set(offset);\n            }\n            else {\n                _this.cursorProgress[axis] = 0.5;\n                return true;\n            }\n        }).includes(true);\n    };\n    /**\n     * Update the specified axis with the latest pointer information.\n     */\n    VisualElementDragControls.prototype.updateAxis = function (axis, point, offset) {\n        var drag = this.props.drag;\n        // If we're not dragging this axis, do an early return.\n        if (!shouldDrag(axis, drag, this.currentDirection))\n            return;\n        return this.getAxisMotionValue(axis)\n            ? this.updateAxisMotionValue(axis, offset)\n            : this.updateVisualElementAxis(axis, point);\n    };\n    VisualElementDragControls.prototype.updateAxisMotionValue = function (axis, offset) {\n        var axisValue = this.getAxisMotionValue(axis);\n        if (!offset || !axisValue)\n            return;\n        var nextValue = this.originPoint[axis] + offset[axis];\n        var update = this.constraints\n            ? applyConstraints(nextValue, this.constraints[axis], this.elastic[axis])\n            : nextValue;\n        axisValue.set(update);\n    };\n    VisualElementDragControls.prototype.updateVisualElementAxis = function (axis, point) {\n        var _a;\n        // Get the actual layout bounding box of the element\n        var axisLayout = this.visualElement.getLayoutState().layout[axis];\n        // Calculate its current length. In the future we might want to lerp this to animate\n        // between lengths if the layout changes as we change the DOM\n        var axisLength = axisLayout.max - axisLayout.min;\n        // Get the initial progress that the pointer sat on this axis on gesture start.\n        var axisProgress = this.cursorProgress[axis];\n        // Calculate a new min point based on the latest pointer position, constraints and elastic\n        var min = calcConstrainedMinPoint(point[axis], axisLength, axisProgress, (_a = this.constraints) === null || _a === void 0 ? void 0 : _a[axis], this.elastic[axis]);\n        // Update the axis viewport target with this new min and the length\n        this.visualElement.setProjectionTargetAxis(axis, min, min + axisLength);\n    };\n    VisualElementDragControls.prototype.setProps = function (_a) {\n        var _b = _a.drag, drag = _b === void 0 ? false : _b, _c = _a.dragDirectionLock, dragDirectionLock = _c === void 0 ? false : _c, _d = _a.dragPropagation, dragPropagation = _d === void 0 ? false : _d, _e = _a.dragConstraints, dragConstraints = _e === void 0 ? false : _e, _f = _a.dragElastic, dragElastic = _f === void 0 ? defaultElastic : _f, _g = _a.dragMomentum, dragMomentum = _g === void 0 ? true : _g, remainingProps = __rest(_a, [\"drag\", \"dragDirectionLock\", \"dragPropagation\", \"dragConstraints\", \"dragElastic\", \"dragMomentum\"]);\n        this.props = __assign({ drag: drag,\n            dragDirectionLock: dragDirectionLock,\n            dragPropagation: dragPropagation,\n            dragConstraints: dragConstraints,\n            dragElastic: dragElastic,\n            dragMomentum: dragMomentum }, remainingProps);\n    };\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - If the component will perform layout animations, we output the gesture to the component's\n     *      visual bounding box\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    VisualElementDragControls.prototype.getAxisMotionValue = function (axis) {\n        var _a = this.props, layout = _a.layout, layoutId = _a.layoutId;\n        var dragKey = \"_drag\" + axis.toUpperCase();\n        if (this.props[dragKey]) {\n            return this.props[dragKey];\n        }\n        else if (!layout && layoutId === undefined) {\n            return this.visualElement.getValue(axis, 0);\n        }\n    };\n    VisualElementDragControls.prototype.isLayoutDrag = function () {\n        return !this.getAxisMotionValue(\"x\");\n    };\n    VisualElementDragControls.prototype.isExternalDrag = function () {\n        var _a = this.props, _dragX = _a._dragX, _dragY = _a._dragY;\n        return _dragX || _dragY;\n    };\n    VisualElementDragControls.prototype.animateDragEnd = function (velocity) {\n        var _this = this;\n        var _a = this.props, drag = _a.drag, dragMomentum = _a.dragMomentum, dragElastic = _a.dragElastic, dragTransition = _a.dragTransition;\n        /**\n         * Everything beyond the drag gesture should be performed with\n         * relative projection so children stay in sync with their parent element.\n         */\n        var isRelative = convertToRelativeProjection(this.visualElement, this.isLayoutDrag() && !this.isExternalDrag());\n        /**\n         * If we had previously resolved constraints relative to the viewport,\n         * we need to also convert those to a relative coordinate space for the animation\n         */\n        var constraints = this.constraints || {};\n        if (isRelative &&\n            Object.keys(constraints).length &&\n            this.isLayoutDrag()) {\n            var projectionParent = this.visualElement.getProjectionParent();\n            if (projectionParent) {\n                var relativeConstraints_1 = calcRelativeOffset(projectionParent.projection.targetFinal, constraints);\n                eachAxis(function (axis) {\n                    var _a = relativeConstraints_1[axis], min = _a.min, max = _a.max;\n                    constraints[axis] = {\n                        min: isNaN(min) ? undefined : min,\n                        max: isNaN(max) ? undefined : max,\n                    };\n                });\n            }\n        }\n        var momentumAnimations = eachAxis(function (axis) {\n            var _a;\n            if (!shouldDrag(axis, drag, _this.currentDirection)) {\n                return;\n            }\n            var transition = (_a = constraints === null || constraints === void 0 ? void 0 : constraints[axis]) !== null && _a !== void 0 ? _a : {};\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            var bounceStiffness = dragElastic ? 200 : 1000000;\n            var bounceDamping = dragElastic ? 40 : 10000000;\n            var inertia = __assign(__assign({ type: \"inertia\", velocity: dragMomentum ? velocity[axis] : 0, bounceStiffness: bounceStiffness,\n                bounceDamping: bounceDamping, timeConstant: 750, restDelta: 1, restSpeed: 10 }, dragTransition), transition);\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return _this.getAxisMotionValue(axis)\n                ? _this.startAxisValueAnimation(axis, inertia)\n                : _this.visualElement.startLayoutAnimation(axis, inertia, isRelative);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(function () {\n            var _a, _b;\n            (_b = (_a = _this.props).onDragTransitionEnd) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n    };\n    VisualElementDragControls.prototype.stopMotion = function () {\n        var _this = this;\n        eachAxis(function (axis) {\n            var axisValue = _this.getAxisMotionValue(axis);\n            axisValue\n                ? axisValue.stop()\n                : _this.visualElement.stopLayoutAnimation();\n        });\n    };\n    VisualElementDragControls.prototype.startAxisValueAnimation = function (axis, transition) {\n        var axisValue = this.getAxisMotionValue(axis);\n        if (!axisValue)\n            return;\n        var currentValue = axisValue.get();\n        axisValue.set(currentValue);\n        axisValue.set(currentValue); // Set twice to hard-reset velocity\n        return startAnimation(axis, axisValue, 0, transition);\n    };\n    VisualElementDragControls.prototype.scalePoint = function () {\n        var _this = this;\n        var _a = this.props, drag = _a.drag, dragConstraints = _a.dragConstraints;\n        if (!isRefObject(dragConstraints) || !this.constraintsBox)\n            return;\n        // Stop any current animations as there can be some visual glitching if we resize mid animation\n        this.stopMotion();\n        // Record the relative progress of the targetBox relative to the constraintsBox\n        var boxProgress = { x: 0, y: 0 };\n        eachAxis(function (axis) {\n            boxProgress[axis] = calcOrigin(_this.visualElement.projection.target[axis], _this.constraintsBox[axis]);\n        });\n        /**\n         * For each axis, calculate the current progress of the layout axis within the constraints.\n         * Then, using the latest layout and constraints measurements, reposition the new layout axis\n         * proportionally within the constraints.\n         */\n        this.updateConstraints(function () {\n            eachAxis(function (axis) {\n                if (!shouldDrag(axis, drag, null))\n                    return;\n                // Calculate the position of the targetBox relative to the constraintsBox using the\n                // previously calculated progress\n                var _a = calcPositionFromProgress(_this.visualElement.projection.target[axis], _this.constraintsBox[axis], boxProgress[axis]), min = _a.min, max = _a.max;\n                _this.visualElement.setProjectionTargetAxis(axis, min, max);\n            });\n        });\n        /**\n         * If any other draggable components are queuing the same tasks synchronously\n         * this will wait until they've all been scheduled before flushing.\n         */\n        setTimeout(flushLayout, 1);\n    };\n    VisualElementDragControls.prototype.updateConstraints = function (onReady) {\n        var _this = this;\n        this.cancelLayout = batchLayout(function (read, write) {\n            var ancestors = collectProjectingAncestors(_this.visualElement);\n            write(function () {\n                return ancestors.forEach(function (element) { return element.resetTransform(); });\n            });\n            read(function () { return updateLayoutMeasurement(_this.visualElement); });\n            write(function () {\n                return ancestors.forEach(function (element) { return element.restoreTransform(); });\n            });\n            read(function () {\n                _this.resolveDragConstraints();\n            });\n            if (onReady)\n                write(onReady);\n        });\n    };\n    VisualElementDragControls.prototype.mount = function (visualElement) {\n        var _this = this;\n        var element = visualElement.getInstance();\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        var stopPointerListener = addPointerEvent(element, \"pointerdown\", function (event) {\n            var _a = _this.props, drag = _a.drag, _b = _a.dragListener, dragListener = _b === void 0 ? true : _b;\n            drag && dragListener && _this.start(event);\n        });\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        var stopResizeListener = addDomEvent(window, \"resize\", function () {\n            _this.scalePoint();\n        });\n        /**\n         * Ensure drag constraints are resolved correctly relative to the dragging element\n         * whenever its layout changes.\n         */\n        var stopLayoutUpdateListener = visualElement.onLayoutUpdate(function () {\n            if (_this.isDragging) {\n                _this.resolveDragConstraints();\n            }\n        });\n        /**\n         * If the previous component with this same layoutId was dragging at the time\n         * it was unmounted, we want to continue the same gesture on this component.\n         */\n        var prevDragCursor = visualElement.prevDragCursor;\n        if (prevDragCursor) {\n            this.start(lastPointerEvent, { cursorProgress: prevDragCursor });\n        }\n        /**\n         * Return a function that will teardown the drag gesture\n         */\n        return function () {\n            stopPointerListener === null || stopPointerListener === void 0 ? void 0 : stopPointerListener();\n            stopResizeListener === null || stopResizeListener === void 0 ? void 0 : stopResizeListener();\n            stopLayoutUpdateListener === null || stopLayoutUpdateListener === void 0 ? void 0 : stopLayoutUpdateListener();\n            _this.cancelDrag();\n        };\n    };\n    return VisualElementDragControls;\n}());\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold) {\n    if (lockThreshold === void 0) { lockThreshold = 10; }\n    var direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { removeBoxTransforms } from '../../../utils/geometry/delta-apply.js';\n\n/**\n * Returns a boolean stating whether or not we converted the projection\n * to relative projection.\n */\nfunction convertToRelativeProjection(visualElement, isLayoutDrag) {\n    if (isLayoutDrag === void 0) { isLayoutDrag = true; }\n    var projectionParent = visualElement.getProjectionParent();\n    if (!projectionParent)\n        return false;\n    var offset;\n    if (isLayoutDrag) {\n        offset = calcRelativeOffset(projectionParent.projection.target, visualElement.projection.target);\n        removeBoxTransforms(offset, projectionParent.getLatestValues());\n    }\n    else {\n        offset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n    }\n    eachAxis(function (axis) {\n        return visualElement.setProjectionTargetAxis(axis, offset[axis].min, offset[axis].max, true);\n    });\n    return true;\n}\n\nexport { convertToRelativeProjection };\n","import { useDrag } from '../../gestures/drag/use-drag.js';\nimport { usePanGesture } from '../../gestures/use-pan-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\n\nvar drag = {\n    pan: makeRenderlessComponent(usePanGesture),\n    drag: makeRenderlessComponent(useDrag),\n};\n\nexport { drag };\n","/**\n * @public\n */\nvar Presence;\n(function (Presence) {\n    Presence[Presence[\"Entering\"] = 0] = \"Entering\";\n    Presence[Presence[\"Present\"] = 1] = \"Present\";\n    Presence[Presence[\"Exiting\"] = 2] = \"Exiting\";\n})(Presence || (Presence = {}));\n/**\n * @public\n */\nvar VisibilityAction;\n(function (VisibilityAction) {\n    VisibilityAction[VisibilityAction[\"Hide\"] = 0] = \"Hide\";\n    VisibilityAction[VisibilityAction[\"Show\"] = 1] = \"Show\";\n})(VisibilityAction || (VisibilityAction = {}));\n\nexport { Presence, VisibilityAction };\n","import { useRef, useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { PanSession } from './PanSession.js';\n\n/**\n *\n * @param handlers -\n * @param ref -\n *\n * @internalremarks\n * Currently this sets new pan gesture functions every render. The memo route has been explored\n * in the past but ultimately we're still creating new functions every render. An optimisation\n * to explore is creating the pan gestures and loading them into a `ref`.\n *\n * @internal\n */\nfunction usePanGesture(_a) {\n    var onPan = _a.onPan, onPanStart = _a.onPanStart, onPanEnd = _a.onPanEnd, onPanSessionStart = _a.onPanSessionStart, visualElement = _a.visualElement;\n    var hasPanEvents = onPan || onPanStart || onPanEnd || onPanSessionStart;\n    var panSession = useRef(null);\n    var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n    var handlers = {\n        onSessionStart: onPanSessionStart,\n        onStart: onPanStart,\n        onMove: onPan,\n        onEnd: function (event, info) {\n            panSession.current = null;\n            onPanEnd && onPanEnd(event, info);\n        },\n    };\n    useEffect(function () {\n        if (panSession.current !== null) {\n            panSession.current.updateHandlers(handlers);\n        }\n    });\n    function onPointerDown(event) {\n        panSession.current = new PanSession(event, handlers, {\n            transformPagePoint: transformPagePoint,\n        });\n    }\n    usePointerEvent(visualElement, \"pointerdown\", hasPanEvents && onPointerDown);\n    useUnmountEffect(function () { return panSession.current && panSession.current.end(); });\n}\n\nexport { usePanGesture };\n","import { __assign } from 'tslib';\nimport { useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { VisualElementDragControls } from './VisualElementDragControls.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\n/**\n * A hook that allows an element to be dragged.\n *\n * @internal\n */\nfunction useDrag(props) {\n    var groupDragControls = props.dragControls, visualElement = props.visualElement;\n    var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n    var dragControls = useConstant(function () {\n        return new VisualElementDragControls({\n            visualElement: visualElement,\n        });\n    });\n    dragControls.setProps(__assign(__assign({}, props), { transformPagePoint: transformPagePoint }));\n    // If we've been provided a DragControls for manual control over the drag gesture,\n    // subscribe this component to it on mount.\n    useEffect(function () { return groupDragControls && groupDragControls.subscribe(dragControls); }, [dragControls]);\n    // Mount the drag controls with the visualElement\n    useEffect(function () { return dragControls.mount(visualElement); }, []);\n}\n\nexport { useDrag };\n","import { __rest, __assign, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\n\nfunction isCSSVariable(value) {\n    return typeof value === \"string\" && value.startsWith(\"var(--\");\n}\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\nfunction parseCSSVariable(current) {\n    var match = cssVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    var _a = __read(match, 3), token = _a[1], fallback = _a[2];\n    return [token, fallback];\n}\nvar maxDepth = 4;\nfunction getVariableValue(current, element, depth) {\n    if (depth === void 0) { depth = 1; }\n    invariant(depth <= maxDepth, \"Max CSS variable fallback depth detected in property \\\"\" + current + \"\\\". This may indicate a circular fallback dependency.\");\n    var _a = __read(parseCSSVariable(current), 2), token = _a[0], fallback = _a[1];\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    var resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        return resolved.trim();\n    }\n    else if (isCSSVariable(fallback)) {\n        // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n        return getVariableValue(fallback, element, depth + 1);\n    }\n    else {\n        return fallback;\n    }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\nfunction resolveCSSVariables(visualElement, _a, transitionEnd) {\n    var _b;\n    var target = __rest(_a, []);\n    var element = visualElement.getInstance();\n    if (!(element instanceof HTMLElement))\n        return { target: target, transitionEnd: transitionEnd };\n    // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n    // only if they change but I think this reads clearer and this isn't a performance-critical path.\n    if (transitionEnd) {\n        transitionEnd = __assign({}, transitionEnd);\n    }\n    // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n    visualElement.forEachValue(function (value) {\n        var current = value.get();\n        if (!isCSSVariable(current))\n            return;\n        var resolved = getVariableValue(current, element);\n        if (resolved)\n            value.set(resolved);\n    });\n    // Cycle through every target property and resolve CSS variables. Currently\n    // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n    for (var key in target) {\n        var current = target[key];\n        if (!isCSSVariable(current))\n            continue;\n        var resolved = getVariableValue(current, element);\n        if (!resolved)\n            continue;\n        // Clone target if it hasn't already been\n        target[key] = resolved;\n        // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n        // CSS variable. This will ensure that after the animation the component will reflect\n        // changes in the value of the CSS variable.\n        if (transitionEnd)\n            (_b = transitionEnd[key]) !== null && _b !== void 0 ? _b : (transitionEnd[key] = current);\n    }\n    return { target: target, transitionEnd: transitionEnd };\n}\n\nexport { cssVariableRegex, parseCSSVariable, resolveCSSVariables };\n","import { __assign } from 'tslib';\nimport { complex, px } from 'style-value-types';\nimport { mix } from 'popmotion';\nimport { cssVariableRegex } from '../utils/css-variables-conversion.js';\n\nfunction pixelsToPercent(pixels, axis) {\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nfunction correctBorderRadius(latest, _layoutState, _a) {\n    var target = _a.target;\n    /**\n     * If latest is a string, if it's a percentage we can return immediately as it's\n     * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n     */\n    if (typeof latest === \"string\") {\n        if (px.test(latest)) {\n            latest = parseFloat(latest);\n        }\n        else {\n            return latest;\n        }\n    }\n    /**\n     * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n     * pixel value as a percentage of each axis\n     */\n    var x = pixelsToPercent(latest, target.x);\n    var y = pixelsToPercent(latest, target.y);\n    return x + \"% \" + y + \"%\";\n}\nvar varToken = \"_$css\";\nfunction correctBoxShadow(latest, _a) {\n    var delta = _a.delta, treeScale = _a.treeScale;\n    var original = latest;\n    /**\n     * We need to first strip and store CSS variables from the string.\n     */\n    var containsCSSVariables = latest.includes(\"var(\");\n    var cssVariables = [];\n    if (containsCSSVariables) {\n        latest = latest.replace(cssVariableRegex, function (match) {\n            cssVariables.push(match);\n            return varToken;\n        });\n    }\n    var shadow = complex.parse(latest);\n    // TODO: Doesn't support multiple shadows\n    if (shadow.length > 5)\n        return original;\n    var template = complex.createTransformer(latest);\n    var offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n    // Calculate the overall context scale\n    var xScale = delta.x.scale * treeScale.x;\n    var yScale = delta.y.scale * treeScale.y;\n    shadow[0 + offset] /= xScale;\n    shadow[1 + offset] /= yScale;\n    /**\n     * Ideally we'd correct x and y scales individually, but because blur and\n     * spread apply to both we have to take a scale average and apply that instead.\n     * We could potentially improve the outcome of this by incorporating the ratio between\n     * the two scales.\n     */\n    var averageScale = mix(xScale, yScale, 0.5);\n    // Blur\n    if (typeof shadow[2 + offset] === \"number\")\n        shadow[2 + offset] /= averageScale;\n    // Spread\n    if (typeof shadow[3 + offset] === \"number\")\n        shadow[3 + offset] /= averageScale;\n    var output = template(shadow);\n    if (containsCSSVariables) {\n        var i_1 = 0;\n        output = output.replace(varToken, function () {\n            var cssVariable = cssVariables[i_1];\n            i_1++;\n            return cssVariable;\n        });\n    }\n    return output;\n}\nvar borderCorrectionDefinition = {\n    process: correctBorderRadius,\n};\nvar defaultScaleCorrectors = {\n    borderRadius: __assign(__assign({}, borderCorrectionDefinition), { applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ] }),\n    borderTopLeftRadius: borderCorrectionDefinition,\n    borderTopRightRadius: borderCorrectionDefinition,\n    borderBottomLeftRadius: borderCorrectionDefinition,\n    borderBottomRightRadius: borderCorrectionDefinition,\n    boxShadow: {\n        process: correctBoxShadow,\n    },\n};\n\nexport { correctBorderRadius, correctBoxShadow, defaultScaleCorrectors, pixelsToPercent };\n","import { __extends, __rest, __assign, __read } from 'tslib';\nimport * as React from 'react';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { startAnimation, getValueTransition } from '../../../animation/utils/transitions.js';\nimport { checkIfParentHasChanged, calcRelativeOffset, tweenAxis } from './utils.js';\nimport { VisibilityAction } from '../../../components/AnimateSharedLayout/types.js';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.js';\nimport { axisBox } from '../../../utils/geometry/index.js';\nimport { addScaleCorrection } from '../../../render/dom/projection/scale-correction.js';\nimport { defaultScaleCorrectors } from '../../../render/dom/projection/default-scale-correctors.js';\n\nvar progressTarget = 1000;\nvar Animate = /** @class */ (function (_super) {\n    __extends(Animate, _super);\n    function Animate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * A mutable object that tracks the target viewport box\n         * for the current animation frame.\n         */\n        _this.frameTarget = axisBox();\n        /**\n         * The current animation target, we use this to check whether to start\n         * a new animation or continue the existing one.\n         */\n        _this.currentAnimationTarget = axisBox();\n        /**\n         * Track whether we're animating this axis.\n         */\n        _this.isAnimating = {\n            x: false,\n            y: false,\n        };\n        _this.stopAxisAnimation = {\n            x: undefined,\n            y: undefined,\n        };\n        _this.isAnimatingTree = false;\n        _this.animate = function (target, origin, _a) {\n            if (_a === void 0) { _a = {}; }\n            var originBox = _a.originBox, targetBox = _a.targetBox, visibilityAction = _a.visibilityAction, shouldStackAnimate = _a.shouldStackAnimate, onComplete = _a.onComplete, prevParent = _a.prevParent, config = __rest(_a, [\"originBox\", \"targetBox\", \"visibilityAction\", \"shouldStackAnimate\", \"onComplete\", \"prevParent\"]);\n            var _b = _this.props, visualElement = _b.visualElement, layout = _b.layout;\n            /**\n             * Early return if we've been instructed not to animate this render.\n             */\n            if (shouldStackAnimate === false) {\n                _this.isAnimatingTree = false;\n                return _this.safeToRemove();\n            }\n            /**\n             * Prioritise tree animations\n             */\n            if (_this.isAnimatingTree && shouldStackAnimate !== true) {\n                return;\n            }\n            else if (shouldStackAnimate) {\n                _this.isAnimatingTree = true;\n            }\n            /**\n             * Allow the measured origin (prev bounding box) and target (actual layout) to be\n             * overridden by the provided config.\n             */\n            origin = originBox || origin;\n            target = targetBox || target;\n            /**\n             * If this element has a projecting parent, there's an opportunity to animate\n             * it relatively to that parent rather than relatively to the viewport. This\n             * allows us to add orchestrated animations.\n             */\n            var isRelative = false;\n            var projectionParent = visualElement.getProjectionParent();\n            if (projectionParent) {\n                var prevParentViewportBox = projectionParent.prevViewportBox;\n                var parentLayout = projectionParent.getLayoutState().layout;\n                /**\n                 * If we're being provided a previous parent VisualElement by AnimateSharedLayout\n                 */\n                if (prevParent) {\n                    /**\n                     * If we've been provided an explicit target box it means we're animating back\n                     * to this previous parent. So we can make a relative box by comparing to the previous\n                     * parent's layout\n                     */\n                    if (targetBox) {\n                        parentLayout = prevParent.getLayoutState().layout;\n                    }\n                    /**\n                     * Likewise if we've been provided an explicit origin box it means we're\n                     * animating out from a different element. So we should figure out where that was\n                     * on screen relative to the new parent element.\n                     */\n                    if (originBox &&\n                        !checkIfParentHasChanged(prevParent, projectionParent) &&\n                        prevParent.prevViewportBox) {\n                        prevParentViewportBox = prevParent.prevViewportBox;\n                    }\n                }\n                if (prevParentViewportBox &&\n                    isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox)) {\n                    isRelative = true;\n                    origin = calcRelativeOffset(prevParentViewportBox, origin);\n                    target = calcRelativeOffset(parentLayout, target);\n                }\n            }\n            var boxHasMoved = hasMoved(origin, target);\n            var animations = eachAxis(function (axis) {\n                var _a, _b;\n                /**\n                 * If layout is set to \"position\", we can resize the origin box based on the target\n                 * box and only animate its position.\n                 */\n                if (layout === \"position\") {\n                    var targetLength = target[axis].max - target[axis].min;\n                    origin[axis].max = origin[axis].min + targetLength;\n                }\n                if (visualElement.projection.isTargetLocked) {\n                    return;\n                }\n                else if (visibilityAction !== undefined) {\n                    visualElement.setVisibility(visibilityAction === VisibilityAction.Show);\n                }\n                else if (boxHasMoved) {\n                    // If the box has moved, animate between it's current visual state and its\n                    // final state\n                    return _this.animateAxis(axis, target[axis], origin[axis], __assign(__assign({}, config), { isRelative: isRelative }));\n                }\n                else {\n                    (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a);\n                    // If the box has remained in the same place, immediately set the axis target\n                    // to the final desired state\n                    return visualElement.setProjectionTargetAxis(axis, target[axis].min, target[axis].max, isRelative);\n                }\n            });\n            // Force a render to ensure there's no flash of uncorrected bounding box.\n            visualElement.syncRender();\n            /**\n             * If this visualElement isn't present (ie it's been removed from the tree by the user but\n             * kept in by the tree by AnimatePresence) then call safeToRemove when all axis animations\n             * have successfully finished.\n             */\n            return Promise.all(animations).then(function () {\n                _this.isAnimatingTree = false;\n                onComplete && onComplete();\n                visualElement.notifyLayoutAnimationComplete();\n            });\n        };\n        return _this;\n    }\n    Animate.prototype.componentDidMount = function () {\n        var _this = this;\n        var visualElement = this.props.visualElement;\n        visualElement.animateMotionValue = startAnimation;\n        visualElement.enableLayoutProjection();\n        this.unsubLayoutReady = visualElement.onLayoutUpdate(this.animate);\n        visualElement.layoutSafeToRemove = function () { return _this.safeToRemove(); };\n        addScaleCorrection(defaultScaleCorrectors);\n    };\n    Animate.prototype.componentWillUnmount = function () {\n        var _this = this;\n        this.unsubLayoutReady();\n        eachAxis(function (axis) { var _a, _b; return (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a); });\n    };\n    /**\n     * TODO: This manually performs animations on the visualElement's layout progress\n     * values. It'd be preferable to amend the startLayoutAxisAnimation\n     * API to accept more custom animations like this.\n     */\n    Animate.prototype.animateAxis = function (axis, target, origin, _a) {\n        var _this = this;\n        var _b, _c;\n        var _d = _a === void 0 ? {} : _a, transition = _d.transition, isRelative = _d.isRelative;\n        /**\n         * If we're not animating to a new target, don't run this animation\n         */\n        if (this.isAnimating[axis] &&\n            axisIsEqual(target, this.currentAnimationTarget[axis])) {\n            return;\n        }\n        (_c = (_b = this.stopAxisAnimation)[axis]) === null || _c === void 0 ? void 0 : _c.call(_b);\n        this.isAnimating[axis] = true;\n        var visualElement = this.props.visualElement;\n        var frameTarget = this.frameTarget[axis];\n        var layoutProgress = visualElement.getProjectionAnimationProgress()[axis];\n        /**\n         * Set layout progress back to 0. We set it twice to hard-reset any velocity that might\n         * be re-incoporated into a subsequent spring animation.\n         */\n        layoutProgress.clearListeners();\n        layoutProgress.set(0);\n        layoutProgress.set(0);\n        /**\n         * Create an animation function to run once per frame. This will tween the visual bounding box from\n         * origin to target using the latest progress value.\n         */\n        var frame = function () {\n            // Convert the latest layoutProgress, which is a value from 0-1000, into a 0-1 progress\n            var p = layoutProgress.get() / progressTarget;\n            // Tween the axis and update the visualElement with the latest values\n            tweenAxis(frameTarget, origin, target, p);\n            visualElement.setProjectionTargetAxis(axis, frameTarget.min, frameTarget.max, isRelative);\n        };\n        // Synchronously run a frame to ensure there's no flash of the uncorrected bounding box.\n        frame();\n        // Create a function to stop animation on this specific axis\n        var unsubscribeProgress = layoutProgress.onChange(frame);\n        this.stopAxisAnimation[axis] = function () {\n            _this.isAnimating[axis] = false;\n            layoutProgress.stop();\n            unsubscribeProgress();\n        };\n        this.currentAnimationTarget[axis] = target;\n        var layoutTransition = transition ||\n            visualElement.getDefaultTransition() ||\n            defaultLayoutTransition;\n        // Start the animation on this axis\n        var animation = startAnimation(axis === \"x\" ? \"layoutX\" : \"layoutY\", layoutProgress, progressTarget, layoutTransition && getValueTransition(layoutTransition, \"layout\")).then(this.stopAxisAnimation[axis]);\n        return animation;\n    };\n    Animate.prototype.safeToRemove = function () {\n        var _a, _b;\n        (_b = (_a = this.props).safeToRemove) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    Animate.prototype.render = function () {\n        return null;\n    };\n    return Animate;\n}(React.Component));\nfunction AnimateLayoutContextProvider(props) {\n    var _a = __read(usePresence(), 2), safeToRemove = _a[1];\n    return React.createElement(Animate, __assign({}, props, { safeToRemove: safeToRemove }));\n}\nfunction hasMoved(a, b) {\n    return (!isZeroBox(a) &&\n        !isZeroBox(b) &&\n        (!axisIsEqual(a.x, b.x) || !axisIsEqual(a.y, b.y)));\n}\nvar zeroAxis = { min: 0, max: 0 };\nfunction isZeroBox(a) {\n    return axisIsEqual(a.x, zeroAxis) && axisIsEqual(a.y, zeroAxis);\n}\nfunction axisIsEqual(a, b) {\n    return a.min === b.min && a.max === b.max;\n}\nvar defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nfunction isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox) {\n    return prevParent || (!prevParent && !(originBox || targetBox));\n}\n\nexport { AnimateLayoutContextProvider };\n","import { __spreadArray, __read } from 'tslib';\nimport sync, { flushSync } from 'framesync';\nimport { collectProjectingAncestors, updateLayoutMeasurement } from '../../../render/dom/projection/utils.js';\nimport { batchLayout, flushLayout } from '../../../render/dom/utils/batch-layout.js';\nimport { compareByDepth } from '../../../render/utils/compare-by-depth.js';\nimport { Presence } from '../types.js';\n\n/**\n * Default handlers for batching VisualElements\n */\nvar defaultHandler = {\n    layoutReady: function (child) { return child.notifyLayoutReady(); },\n};\n/**\n * Create a batcher to process VisualElements\n */\nfunction createBatcher() {\n    var queue = new Set();\n    return {\n        add: function (child) { return queue.add(child); },\n        flush: function (_a) {\n            var _b = _a === void 0 ? defaultHandler : _a, layoutReady = _b.layoutReady, parent = _b.parent;\n            batchLayout(function (read, write) {\n                var order = Array.from(queue).sort(compareByDepth);\n                var ancestors = parent\n                    ? collectProjectingAncestors(parent)\n                    : [];\n                write(function () {\n                    var allElements = __spreadArray(__spreadArray([], __read(ancestors)), __read(order));\n                    allElements.forEach(function (element) { return element.resetTransform(); });\n                });\n                read(function () {\n                    order.forEach(updateLayoutMeasurement);\n                });\n                write(function () {\n                    ancestors.forEach(function (element) { return element.restoreTransform(); });\n                    order.forEach(layoutReady);\n                });\n                read(function () {\n                    /**\n                     * After all children have started animating, ensure any Entering components are set to Present.\n                     * If we add deferred animations (set up all animations and then start them in two loops) this\n                     * could be moved to the start loop. But it needs to happen after all the animations configs\n                     * are generated in AnimateSharedLayout as this relies on presence data\n                     */\n                    order.forEach(function (child) {\n                        if (child.isPresent)\n                            child.presence = Presence.Present;\n                    });\n                });\n                write(function () {\n                    /**\n                     * Starting these animations will have queued jobs on the frame loop. In some situations,\n                     * like when removing an element, these will be processed too late after the DOM is manipulated,\n                     * leaving a flash of incorrectly-projected content. By manually flushing these jobs\n                     * we ensure there's no flash.\n                     */\n                    flushSync.preRender();\n                    flushSync.render();\n                });\n                read(function () {\n                    /**\n                     * Schedule a callback at the end of the following frame to assign the latest projection\n                     * box to the prevViewportBox snapshot. Once global batching is in place this could be run\n                     * synchronously. But for now it ensures that if any nested `AnimateSharedLayout` top-level\n                     * child attempts to calculate its previous relative position against a prevViewportBox\n                     * it will be against its latest projection box instead, as the snapshot is useless beyond this\n                     * render.\n                     */\n                    sync.postRender(function () {\n                        return order.forEach(assignProjectionToSnapshot);\n                    });\n                    queue.clear();\n                });\n            });\n            // TODO: Need to find a layout-synchronous way of flushing this\n            flushLayout();\n        },\n    };\n}\nfunction assignProjectionToSnapshot(child) {\n    child.prevViewportBox = child.projection.target;\n}\n\nexport { createBatcher };\n","import { createContext } from 'react';\nimport { createBatcher } from '../components/AnimateSharedLayout/utils/batcher.js';\n\nvar SharedLayoutContext = createContext(createBatcher());\n/**\n * @internal\n */\nvar FramerTreeLayoutContext = createContext(createBatcher());\nfunction isSharedLayout(context) {\n    return !!context.forceUpdate;\n}\n\nexport { FramerTreeLayoutContext, SharedLayoutContext, isSharedLayout };\n","import { __extends, __assign } from 'tslib';\nimport React__default, { useContext } from 'react';\nimport { isSharedLayout, SharedLayoutContext, FramerTreeLayoutContext } from '../../../context/SharedLayoutContext.js';\nimport { snapshotViewportBox } from '../../../render/dom/projection/utils.js';\n\n/**\n * This component is responsible for scheduling the measuring of the motion component\n */\nvar Measure = /** @class */ (function (_super) {\n    __extends(Measure, _super);\n    function Measure() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * If this is a child of a SyncContext, register the VisualElement with it on mount.\n     */\n    Measure.prototype.componentDidMount = function () {\n        var _a = this.props, syncLayout = _a.syncLayout, framerSyncLayout = _a.framerSyncLayout, visualElement = _a.visualElement;\n        isSharedLayout(syncLayout) && syncLayout.register(visualElement);\n        isSharedLayout(framerSyncLayout) &&\n            framerSyncLayout.register(visualElement);\n        visualElement.onUnmount(function () {\n            if (isSharedLayout(syncLayout)) {\n                syncLayout.remove(visualElement);\n            }\n            if (isSharedLayout(framerSyncLayout)) {\n                framerSyncLayout.remove(visualElement);\n            }\n        });\n    };\n    /**\n     * If this is a child of a SyncContext, notify it that it needs to re-render. It will then\n     * handle the snapshotting.\n     *\n     * If it is stand-alone component, add it to the batcher.\n     */\n    Measure.prototype.getSnapshotBeforeUpdate = function () {\n        var _a = this.props, syncLayout = _a.syncLayout, visualElement = _a.visualElement;\n        if (isSharedLayout(syncLayout)) {\n            syncLayout.syncUpdate();\n        }\n        else {\n            snapshotViewportBox(visualElement);\n            syncLayout.add(visualElement);\n        }\n        return null;\n    };\n    Measure.prototype.componentDidUpdate = function () {\n        var syncLayout = this.props.syncLayout;\n        if (!isSharedLayout(syncLayout))\n            syncLayout.flush();\n    };\n    Measure.prototype.render = function () {\n        return null;\n    };\n    return Measure;\n}(React__default.Component));\nfunction MeasureContextProvider(props) {\n    var syncLayout = useContext(SharedLayoutContext);\n    var framerSyncLayout = useContext(FramerTreeLayoutContext);\n    return (React__default.createElement(Measure, __assign({}, props, { syncLayout: syncLayout, framerSyncLayout: framerSyncLayout })));\n}\n\nexport { MeasureContextProvider };\n","import { AnimateLayoutContextProvider } from './Animate.js';\nimport { MeasureContextProvider } from './Measure.js';\n\nvar layoutAnimations = {\n    measureLayout: MeasureContextProvider,\n    layoutAnimation: AnimateLayoutContextProvider,\n};\n\nexport { layoutAnimations };\n","import { axisBox, delta } from '../../utils/geometry/index.js';\n\nvar createProjectionState = function () { return ({\n    isEnabled: false,\n    isHydrated: false,\n    isTargetLocked: false,\n    target: axisBox(),\n    targetFinal: axisBox(),\n}); };\nfunction createLayoutState() {\n    return {\n        isHydrated: false,\n        layout: axisBox(),\n        layoutCorrected: axisBox(),\n        treeScale: { x: 1, y: 1 },\n        delta: delta(),\n        deltaFinal: delta(),\n        deltaTransform: \"\",\n    };\n}\nvar zeroLayout = createLayoutState();\n\nexport { createLayoutState, createProjectionState, zeroLayout };\n","import { zeroLayout } from '../../utils/state.js';\n\n/**\n * Build a transform style that takes a calculated delta between the element's current\n * space on screen and projects it into the desired space.\n */\nfunction buildLayoutProjectionTransform(_a, treeScale, latestTransform) {\n    var x = _a.x, y = _a.y;\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    var xTranslate = x.translate / treeScale.x;\n    var yTranslate = y.translate / treeScale.y;\n    var transform = \"translate3d(\" + xTranslate + \"px, \" + yTranslate + \"px, 0) \";\n    if (latestTransform) {\n        var rotate = latestTransform.rotate, rotateX = latestTransform.rotateX, rotateY = latestTransform.rotateY;\n        if (rotate)\n            transform += \"rotate(\" + rotate + \") \";\n        if (rotateX)\n            transform += \"rotateX(\" + rotateX + \") \";\n        if (rotateY)\n            transform += \"rotateY(\" + rotateY + \") \";\n    }\n    transform += \"scale(\" + x.scale + \", \" + y.scale + \")\";\n    return !latestTransform && transform === identityProjection ? \"\" : transform;\n}\n/**\n * Take the calculated delta origin and apply it as a transform string.\n */\nfunction buildLayoutProjectionTransformOrigin(_a) {\n    var deltaFinal = _a.deltaFinal;\n    return deltaFinal.x.origin * 100 + \"% \" + deltaFinal.y.origin * 100 + \"% 0\";\n}\nvar identityProjection = buildLayoutProjectionTransform(zeroLayout.delta, zeroLayout.treeScale, { x: 1, y: 1 });\n\nexport { buildLayoutProjectionTransform, buildLayoutProjectionTransformOrigin, identityProjection };\n","import { __spreadArray, __read } from 'tslib';\nimport { SubscriptionManager } from '../../utils/subscription-manager.js';\n\nvar names = [\n    \"LayoutMeasure\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutUpdate\",\n    \"ViewportBoxUpdate\",\n    \"Update\",\n    \"Render\",\n    \"AnimationComplete\",\n    \"LayoutAnimationComplete\",\n    \"AnimationStart\",\n    \"SetAxisTarget\",\n    \"Unmount\",\n];\nfunction createLifecycles() {\n    var managers = names.map(function () { return new SubscriptionManager(); });\n    var propSubscriptions = {};\n    var lifecycles = {\n        clearAllListeners: function () { return managers.forEach(function (manager) { return manager.clear(); }); },\n        updatePropListeners: function (props) {\n            return names.forEach(function (name) {\n                var _a;\n                (_a = propSubscriptions[name]) === null || _a === void 0 ? void 0 : _a.call(propSubscriptions);\n                var on = \"on\" + name;\n                var propListener = props[on];\n                if (propListener) {\n                    propSubscriptions[name] = lifecycles[on](propListener);\n                }\n            });\n        },\n    };\n    managers.forEach(function (manager, i) {\n        lifecycles[\"on\" + names[i]] = function (handler) { return manager.add(handler); };\n        lifecycles[\"notify\" + names[i]] = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return manager.notify.apply(manager, __spreadArray([], __read(args)));\n        };\n    });\n    return lifecycles;\n}\n\nexport { createLifecycles };\n","import { resetBox, applyTreeDeltas } from '../../utils/geometry/delta-apply.js';\nimport { updateBoxDelta } from '../../utils/geometry/delta-calc.js';\n\nfunction updateLayoutDeltas(_a, _b, treePath, transformOrigin) {\n    var delta = _a.delta, layout = _a.layout, layoutCorrected = _a.layoutCorrected, treeScale = _a.treeScale;\n    var target = _b.target;\n    /**\n     * Reset the corrected box with the latest values from box, as we're then going\n     * to perform mutative operations on it.\n     */\n    resetBox(layoutCorrected, layout);\n    /**\n     * Apply all the parent deltas to this box to produce the corrected box. This\n     * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n     */\n    applyTreeDeltas(layoutCorrected, treeScale, treePath);\n    /**\n     * Update the delta between the corrected box and the target box before user-set transforms were applied.\n     * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n     * for our layout reprojection, but still allow them to be scaled correctly by the user.\n     * It might be that to simplify this we may want to accept that user-set scale is also corrected\n     * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n     * to allow people to choose whether these styles are corrected based on just the\n     * layout reprojection or the final bounding box.\n     */\n    updateBoxDelta(delta, layoutCorrected, target, transformOrigin);\n}\n\nexport { updateLayoutDeltas };\n","import { addUniqueItem, removeItem } from '../../utils/array.js';\nimport { compareByDepth } from './compare-by-depth.js';\n\nvar FlatTree = /** @class */ (function () {\n    function FlatTree() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    FlatTree.prototype.add = function (child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    };\n    FlatTree.prototype.remove = function (child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    };\n    FlatTree.prototype.forEach = function (callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    };\n    return FlatTree;\n}());\n\nexport { FlatTree };\n","import { __assign, __spreadArray, __read } from 'tslib';\nimport sync, { cancelSync } from 'framesync';\nimport { pipe } from 'popmotion';\nimport { Presence } from '../components/AnimateSharedLayout/types.js';\nimport { eachAxis } from '../utils/each-axis.js';\nimport { axisBox } from '../utils/geometry/index.js';\nimport { removeBoxTransforms, applyBoxTransforms } from '../utils/geometry/delta-apply.js';\nimport { calcRelativeBox, updateBoxDelta } from '../utils/geometry/delta-calc.js';\nimport { motionValue } from '../value/index.js';\nimport { isMotionValue } from '../value/utils/is-motion-value.js';\nimport { buildLayoutProjectionTransform } from './html/utils/build-projection-transform.js';\nimport { variantPriorityOrder } from './utils/animation-state.js';\nimport { createLifecycles } from './utils/lifecycles.js';\nimport { updateMotionValuesFromProps } from './utils/motion-values.js';\nimport { updateLayoutDeltas } from './utils/projection.js';\nimport { createLayoutState, createProjectionState } from './utils/state.js';\nimport { FlatTree } from './utils/flat-tree.js';\nimport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel } from './utils/variants.js';\nimport { setCurrentViewportBox } from './dom/projection/relative-set.js';\nimport { isDraggable } from './utils/is-draggable.js';\n\nvar visualElement = function (_a) {\n    var _b = _a.treeType, treeType = _b === void 0 ? \"\" : _b, build = _a.build, getBaseTarget = _a.getBaseTarget, makeTargetAnimatable = _a.makeTargetAnimatable, measureViewportBox = _a.measureViewportBox, renderInstance = _a.render, readValueFromInstance = _a.readValueFromInstance, resetTransform = _a.resetTransform, restoreTransform = _a.restoreTransform, removeValueFromRenderState = _a.removeValueFromRenderState, sortNodePosition = _a.sortNodePosition, scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps;\n    return function (_a, options) {\n        var parent = _a.parent, props = _a.props, presenceId = _a.presenceId, blockInitialAnimation = _a.blockInitialAnimation, visualState = _a.visualState;\n        if (options === void 0) { options = {}; }\n        var latestValues = visualState.latestValues, renderState = visualState.renderState;\n        /**\n         * The instance of the render-specific node that will be hydrated by the\n         * exposed React ref. So for example, this visual element can host a\n         * HTMLElement, plain object, or Three.js object. The functions provided\n         * in VisualElementConfig allow us to interface with this instance.\n         */\n        var instance;\n        /**\n         * Manages the subscriptions for a visual element's lifecycle, for instance\n         * onRender and onViewportBoxUpdate.\n         */\n        var lifecycles = createLifecycles();\n        /**\n         *\n         */\n        var projection = createProjectionState();\n        /**\n         * A reference to the nearest projecting parent. This is either\n         * undefined if we haven't looked for the nearest projecting parent,\n         * false if there is no parent performing layout projection, or a reference\n         * to the projecting parent.\n         */\n        var projectionParent;\n        /**\n         * This is a reference to the visual state of the \"lead\" visual element.\n         * Usually, this will be this visual element. But if it shares a layoutId\n         * with other visual elements, only one of them will be designated lead by\n         * AnimateSharedLayout. All the other visual elements will take on the visual\n         * appearance of the lead while they crossfade to it.\n         */\n        var leadProjection = projection;\n        var leadLatestValues = latestValues;\n        var unsubscribeFromLeadVisualElement;\n        /**\n         * The latest layout measurements and calculated projections. This\n         * is seperate from the target projection data in visualState as\n         * many visual elements might point to the same piece of visualState as\n         * a target, whereas they might each have different layouts and thus\n         * projection calculations needed to project into the same viewport box.\n         */\n        var layoutState = createLayoutState();\n        /**\n         *\n         */\n        var crossfader;\n        /**\n         * Keep track of whether the viewport box has been updated since the\n         * last time the layout projection was re-calculated.\n         */\n        var hasViewportBoxUpdated = false;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        var values = new Map();\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        var valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        var prevMotionValues = {};\n        /**\n         * x/y motion values that track the progress of initiated layout\n         * animations.\n         *\n         * TODO: Target for removal\n         */\n        var projectionTargetProgress;\n        /**\n         * When values are removed from all animation props we need to search\n         * for a fallback value to animate to. These values are tracked in baseTarget.\n         */\n        var baseTarget = __assign({}, latestValues);\n        // Internal methods ========================\n        /**\n         * On mount, this will be hydrated with a callback to disconnect\n         * this visual element from its parent on unmount.\n         */\n        var removeFromVariantTree;\n        /**\n         *\n         */\n        function render() {\n            if (!instance)\n                return;\n            if (element.isProjectionReady()) {\n                /**\n                 * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n                 * This is the final box that we will then project into by calculating a transform delta and\n                 * applying it to the corrected box.\n                 */\n                applyBoxTransforms(leadProjection.targetFinal, leadProjection.target, leadLatestValues);\n                /**\n                 * Update the delta between the corrected box and the final target box, after\n                 * user-set transforms are applied to it. This will be used by the renderer to\n                 * create a transform style that will reproject the element from its actual layout\n                 * into the desired bounding box.\n                 */\n                updateBoxDelta(layoutState.deltaFinal, layoutState.layoutCorrected, leadProjection.targetFinal, latestValues);\n            }\n            triggerBuild();\n            renderInstance(instance, renderState);\n        }\n        function triggerBuild() {\n            var valuesToRender = latestValues;\n            if (crossfader && crossfader.isActive()) {\n                var crossfadedValues = crossfader.getCrossfadeState(element);\n                if (crossfadedValues)\n                    valuesToRender = crossfadedValues;\n            }\n            build(element, renderState, valuesToRender, leadProjection, layoutState, options, props);\n        }\n        function update() {\n            lifecycles.notifyUpdate(latestValues);\n        }\n        function updateLayoutProjection() {\n            if (!element.isProjectionReady())\n                return;\n            var delta = layoutState.delta, treeScale = layoutState.treeScale;\n            var prevTreeScaleX = treeScale.x;\n            var prevTreeScaleY = treeScale.y;\n            var prevDeltaTransform = layoutState.deltaTransform;\n            updateLayoutDeltas(layoutState, leadProjection, element.path, latestValues);\n            hasViewportBoxUpdated &&\n                element.notifyViewportBoxUpdate(leadProjection.target, delta);\n            hasViewportBoxUpdated = false;\n            var deltaTransform = buildLayoutProjectionTransform(delta, treeScale);\n            if (deltaTransform !== prevDeltaTransform ||\n                // Also compare calculated treeScale, for values that rely on this only for scale correction\n                prevTreeScaleX !== treeScale.x ||\n                prevTreeScaleY !== treeScale.y) {\n                element.scheduleRender();\n            }\n            layoutState.deltaTransform = deltaTransform;\n        }\n        function updateTreeLayoutProjection() {\n            element.layoutTree.forEach(fireUpdateLayoutProjection);\n        }\n        /**\n         *\n         */\n        function bindToMotionValue(key, value) {\n            var removeOnChange = value.onChange(function (latestValue) {\n                latestValues[key] = latestValue;\n                props.onUpdate && sync.update(update, false, true);\n            });\n            var removeOnRenderRequest = value.onRenderRequest(element.scheduleRender);\n            valueSubscriptions.set(key, function () {\n                removeOnChange();\n                removeOnRenderRequest();\n            });\n        }\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't neccessarily a breaking change,\n         * more a reflection of the test.\n         */\n        var initialMotionValues = scrapeMotionValuesFromProps(props);\n        for (var key in initialMotionValues) {\n            var value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key], false);\n            }\n        }\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        var isControllingVariants = checkIfControllingVariants(props);\n        var isVariantNode = checkIfVariantNode(props);\n        var element = __assign(__assign({ treeType: treeType, \n            /**\n             * This is a mirror of the internal instance prop, which keeps\n             * VisualElement type-compatible with React's RefObject.\n             */\n            current: null, \n            /**\n             * The depth of this visual element within the visual element tree.\n             */\n            depth: parent ? parent.depth + 1 : 0, parent: parent, children: new Set(), \n            /**\n             * An ancestor path back to the root visual element. This is used\n             * by layout projection to quickly recurse back up the tree.\n             */\n            path: parent ? __spreadArray(__spreadArray([], __read(parent.path)), [parent]) : [], layoutTree: parent ? parent.layoutTree : new FlatTree(), \n            /**\n             *\n             */\n            presenceId: presenceId,\n            projection: projection, \n            /**\n             * If this component is part of the variant tree, it should track\n             * any children that are also part of the tree. This is essentially\n             * a shadow tree to simplify logic around how to stagger over children.\n             */\n            variantChildren: isVariantNode ? new Set() : undefined, \n            /**\n             * Whether this instance is visible. This can be changed imperatively\n             * by AnimateSharedLayout, is analogous to CSS's visibility in that\n             * hidden elements should take up layout, and needs enacting by the configured\n             * render function.\n             */\n            isVisible: undefined, \n            /**\n             * Normally, if a component is controlled by a parent's variants, it can\n             * rely on that ancestor to trigger animations further down the tree.\n             * However, if a component is created after its parent is mounted, the parent\n             * won't trigger that mount animation so the child needs to.\n             *\n             * TODO: This might be better replaced with a method isParentMounted\n             */\n            manuallyAnimateOnMount: Boolean(parent === null || parent === void 0 ? void 0 : parent.isMounted()), \n            /**\n             * This can be set by AnimatePresence to force components that mount\n             * at the same time as it to mount as if they have initial={false} set.\n             */\n            blockInitialAnimation: blockInitialAnimation, \n            /**\n             * Determine whether this component has mounted yet. This is mostly used\n             * by variant children to determine whether they need to trigger their\n             * own animations on mount.\n             */\n            isMounted: function () { return Boolean(instance); }, mount: function (newInstance) {\n                instance = element.current = newInstance;\n                element.pointTo(element);\n                if (isVariantNode && parent && !isControllingVariants) {\n                    removeFromVariantTree = parent === null || parent === void 0 ? void 0 : parent.addVariantChild(element);\n                }\n                parent === null || parent === void 0 ? void 0 : parent.children.add(element);\n            },\n            /**\n             *\n             */\n            unmount: function () {\n                cancelSync.update(update);\n                cancelSync.render(render);\n                cancelSync.preRender(element.updateLayoutProjection);\n                valueSubscriptions.forEach(function (remove) { return remove(); });\n                element.stopLayoutAnimation();\n                element.layoutTree.remove(element);\n                removeFromVariantTree === null || removeFromVariantTree === void 0 ? void 0 : removeFromVariantTree();\n                parent === null || parent === void 0 ? void 0 : parent.children.delete(element);\n                unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n                lifecycles.clearAllListeners();\n            },\n            /**\n             * Add a child visual element to our set of children.\n             */\n            addVariantChild: function (child) {\n                var _a;\n                var closestVariantNode = element.getClosestVariantNode();\n                if (closestVariantNode) {\n                    (_a = closestVariantNode.variantChildren) === null || _a === void 0 ? void 0 : _a.add(child);\n                    return function () { return closestVariantNode.variantChildren.delete(child); };\n                }\n            },\n            sortNodePosition: function (other) {\n                /**\n                 * If these nodes aren't even of the same type we can't compare their depth.\n                 */\n                if (!sortNodePosition || treeType !== other.treeType)\n                    return 0;\n                return sortNodePosition(element.getInstance(), other.getInstance());\n            }, \n            /**\n             * Returns the closest variant node in the tree starting from\n             * this visual element.\n             */\n            getClosestVariantNode: function () {\n                return isVariantNode ? element : parent === null || parent === void 0 ? void 0 : parent.getClosestVariantNode();\n            }, \n            /**\n             * A method that schedules an update to layout projections throughout\n             * the tree. We inherit from the parent so there's only ever one\n             * job scheduled on the next frame - that of the root visual element.\n             */\n            scheduleUpdateLayoutProjection: parent\n                ? parent.scheduleUpdateLayoutProjection\n                : function () {\n                    return sync.preRender(element.updateTreeLayoutProjection, false, true);\n                }, \n            /**\n             * Expose the latest layoutId prop.\n             */\n            getLayoutId: function () { return props.layoutId; }, \n            /**\n             * Returns the current instance.\n             */\n            getInstance: function () { return instance; }, \n            /**\n             * Get/set the latest static values.\n             */\n            getStaticValue: function (key) { return latestValues[key]; }, setStaticValue: function (key, value) { return (latestValues[key] = value); }, \n            /**\n             * Returns the latest motion value state. Currently only used to take\n             * a snapshot of the visual element - perhaps this can return the whole\n             * visual state\n             */\n            getLatestValues: function () { return latestValues; }, \n            /**\n             * Set the visiblity of the visual element. If it's changed, schedule\n             * a render to reflect these changes.\n             */\n            setVisibility: function (visibility) {\n                if (element.isVisible === visibility)\n                    return;\n                element.isVisible = visibility;\n                element.scheduleRender();\n            },\n            /**\n             * Make a target animatable by Popmotion. For instance, if we're\n             * trying to animate width from 100px to 100vw we need to measure 100vw\n             * in pixels to determine what we really need to animate to. This is also\n             * pluggable to support Framer's custom value types like Color,\n             * and CSS variables.\n             */\n            makeTargetAnimatable: function (target, canMutate) {\n                if (canMutate === void 0) { canMutate = true; }\n                return makeTargetAnimatable(element, target, props, canMutate);\n            },\n            // Motion values ========================\n            /**\n             * Add a motion value and bind it to this visual element.\n             */\n            addValue: function (key, value) {\n                // Remove existing value if it exists\n                if (element.hasValue(key))\n                    element.removeValue(key);\n                values.set(key, value);\n                latestValues[key] = value.get();\n                bindToMotionValue(key, value);\n            },\n            /**\n             * Remove a motion value and unbind any active subscriptions.\n             */\n            removeValue: function (key) {\n                var _a;\n                values.delete(key);\n                (_a = valueSubscriptions.get(key)) === null || _a === void 0 ? void 0 : _a();\n                valueSubscriptions.delete(key);\n                delete latestValues[key];\n                removeValueFromRenderState(key, renderState);\n            }, \n            /**\n             * Check whether we have a motion value for this key\n             */\n            hasValue: function (key) { return values.has(key); }, \n            /**\n             * Get a motion value for this key. If called with a default\n             * value, we'll create one if none exists.\n             */\n            getValue: function (key, defaultValue) {\n                var value = values.get(key);\n                if (value === undefined && defaultValue !== undefined) {\n                    value = motionValue(defaultValue);\n                    element.addValue(key, value);\n                }\n                return value;\n            }, \n            /**\n             * Iterate over our motion values.\n             */\n            forEachValue: function (callback) { return values.forEach(callback); }, \n            /**\n             * If we're trying to animate to a previously unencountered value,\n             * we need to check for it in our state and as a last resort read it\n             * directly from the instance (which might have performance implications).\n             */\n            readValue: function (key) { var _a; return (_a = latestValues[key]) !== null && _a !== void 0 ? _a : readValueFromInstance(instance, key, options); }, \n            /**\n             * Set the base target to later animate back to. This is currently\n             * only hydrated on creation and when we first read a value.\n             */\n            setBaseTarget: function (key, value) {\n                baseTarget[key] = value;\n            },\n            /**\n             * Find the base target for a value thats been removed from all animation\n             * props.\n             */\n            getBaseTarget: function (key) {\n                if (getBaseTarget) {\n                    var target = getBaseTarget(props, key);\n                    if (target !== undefined && !isMotionValue(target))\n                        return target;\n                }\n                return baseTarget[key];\n            } }, lifecycles), { \n            /**\n             * Build the renderer state based on the latest visual state.\n             */\n            build: function () {\n                triggerBuild();\n                return renderState;\n            },\n            /**\n             * Schedule a render on the next animation frame.\n             */\n            scheduleRender: function () {\n                sync.render(render, false, true);\n            }, \n            /**\n             * Synchronously fire render. It's prefered that we batch renders but\n             * in many circumstances, like layout measurement, we need to run this\n             * synchronously. However in those instances other measures should be taken\n             * to batch reads/writes.\n             */\n            syncRender: render, \n            /**\n             * Update the provided props. Ensure any newly-added motion values are\n             * added to our map, old ones removed, and listeners updated.\n             */\n            setProps: function (newProps) {\n                props = newProps;\n                lifecycles.updatePropListeners(newProps);\n                prevMotionValues = updateMotionValuesFromProps(element, scrapeMotionValuesFromProps(props), prevMotionValues);\n            }, getProps: function () { return props; }, \n            // Variants ==============================\n            /**\n             * Returns the variant definition with a given name.\n             */\n            getVariant: function (name) { var _a; return (_a = props.variants) === null || _a === void 0 ? void 0 : _a[name]; }, \n            /**\n             * Returns the defined default transition on this component.\n             */\n            getDefaultTransition: function () { return props.transition; }, \n            /**\n             * Used by child variant nodes to get the closest ancestor variant props.\n             */\n            getVariantContext: function (startAtParent) {\n                if (startAtParent === void 0) { startAtParent = false; }\n                if (startAtParent)\n                    return parent === null || parent === void 0 ? void 0 : parent.getVariantContext();\n                if (!isControllingVariants) {\n                    var context_1 = (parent === null || parent === void 0 ? void 0 : parent.getVariantContext()) || {};\n                    if (props.initial !== undefined) {\n                        context_1.initial = props.initial;\n                    }\n                    return context_1;\n                }\n                var context = {};\n                for (var i = 0; i < numVariantProps; i++) {\n                    var name_1 = variantProps[i];\n                    var prop = props[name_1];\n                    if (isVariantLabel(prop) || prop === false) {\n                        context[name_1] = prop;\n                    }\n                }\n                return context;\n            },\n            // Layout projection ==============================\n            /**\n             * Enable layout projection for this visual element. Won't actually\n             * occur until we also have hydrated layout measurements.\n             */\n            enableLayoutProjection: function () {\n                projection.isEnabled = true;\n                element.layoutTree.add(element);\n            },\n            /**\n             * Lock the projection target, for instance when dragging, so\n             * nothing else can try and animate it.\n             */\n            lockProjectionTarget: function () {\n                projection.isTargetLocked = true;\n            },\n            unlockProjectionTarget: function () {\n                element.stopLayoutAnimation();\n                projection.isTargetLocked = false;\n            }, getLayoutState: function () { return layoutState; }, setCrossfader: function (newCrossfader) {\n                crossfader = newCrossfader;\n            }, isProjectionReady: function () {\n                return projection.isEnabled &&\n                    projection.isHydrated &&\n                    layoutState.isHydrated;\n            }, \n            /**\n             * Start a layout animation on a given axis.\n             */\n            startLayoutAnimation: function (axis, transition, isRelative) {\n                if (isRelative === void 0) { isRelative = false; }\n                var progress = element.getProjectionAnimationProgress()[axis];\n                var _a = isRelative\n                    ? projection.relativeTarget[axis]\n                    : projection.target[axis], min = _a.min, max = _a.max;\n                var length = max - min;\n                progress.clearListeners();\n                progress.set(min);\n                progress.set(min); // Set twice to hard-reset velocity\n                progress.onChange(function (v) {\n                    element.setProjectionTargetAxis(axis, v, v + length, isRelative);\n                });\n                return element.animateMotionValue(axis, progress, 0, transition);\n            },\n            /**\n             * Stop layout animations.\n             */\n            stopLayoutAnimation: function () {\n                eachAxis(function (axis) {\n                    return element.getProjectionAnimationProgress()[axis].stop();\n                });\n            },\n            /**\n             * Measure the current viewport box with or without transforms.\n             * Only measures axis-aligned boxes, rotate and skew must be manually\n             * removed with a re-render to work.\n             */\n            measureViewportBox: function (withTransform) {\n                if (withTransform === void 0) { withTransform = true; }\n                var viewportBox = measureViewportBox(instance, options);\n                if (!withTransform)\n                    removeBoxTransforms(viewportBox, latestValues);\n                return viewportBox;\n            },\n            /**\n             * Get the motion values tracking the layout animations on each\n             * axis. Lazy init if not already created.\n             */\n            getProjectionAnimationProgress: function () {\n                projectionTargetProgress || (projectionTargetProgress = {\n                    x: motionValue(0),\n                    y: motionValue(0),\n                });\n                return projectionTargetProgress;\n            },\n            /**\n             * Update the projection of a single axis. Schedule an update to\n             * the tree layout projection.\n             */\n            setProjectionTargetAxis: function (axis, min, max, isRelative) {\n                if (isRelative === void 0) { isRelative = false; }\n                var target;\n                if (isRelative) {\n                    if (!projection.relativeTarget) {\n                        projection.relativeTarget = axisBox();\n                    }\n                    target = projection.relativeTarget[axis];\n                }\n                else {\n                    projection.relativeTarget = undefined;\n                    target = projection.target[axis];\n                }\n                projection.isHydrated = true;\n                target.min = min;\n                target.max = max;\n                // Flag that we want to fire the onViewportBoxUpdate event handler\n                hasViewportBoxUpdated = true;\n                lifecycles.notifySetAxisTarget();\n            },\n            /**\n             * Rebase the projection target on top of the provided viewport box\n             * or the measured layout. This ensures that non-animating elements\n             * don't fall out of sync differences in measurements vs projections\n             * after a page scroll or other relayout.\n             */\n            rebaseProjectionTarget: function (force, box) {\n                if (box === void 0) { box = layoutState.layout; }\n                var _a = element.getProjectionAnimationProgress(), x = _a.x, y = _a.y;\n                var shouldRebase = !projection.relativeTarget &&\n                    !projection.isTargetLocked &&\n                    !x.isAnimating() &&\n                    !y.isAnimating();\n                if (force || shouldRebase) {\n                    eachAxis(function (axis) {\n                        var _a = box[axis], min = _a.min, max = _a.max;\n                        element.setProjectionTargetAxis(axis, min, max);\n                    });\n                }\n            },\n            /**\n             * Notify the visual element that its layout is up-to-date.\n             * Currently Animate.tsx uses this to check whether a layout animation\n             * needs to be performed.\n             */\n            notifyLayoutReady: function (config) {\n                setCurrentViewportBox(element);\n                element.notifyLayoutUpdate(layoutState.layout, element.prevViewportBox || layoutState.layout, config);\n            }, \n            /**\n             * Temporarily reset the transform of the instance.\n             */\n            resetTransform: function () { return resetTransform(element, instance, props); }, restoreTransform: function () { return restoreTransform(instance, renderState); }, updateLayoutProjection: updateLayoutProjection,\n            updateTreeLayoutProjection: function () {\n                element.layoutTree.forEach(fireResolveRelativeTargetBox);\n                /**\n                 * Schedule the projection updates at the end of the current preRender\n                 * step. This will ensure that all layout trees will first resolve\n                 * relative projection boxes into viewport boxes, and *then*\n                 * update projections.\n                 */\n                sync.preRender(updateTreeLayoutProjection, false, true);\n                // sync.postRender(() => element.scheduleUpdateLayoutProjection())\n            },\n            getProjectionParent: function () {\n                if (projectionParent === undefined) {\n                    var foundParent = false;\n                    // Search backwards through the tree path\n                    for (var i = element.path.length - 1; i >= 0; i--) {\n                        var ancestor = element.path[i];\n                        if (ancestor.projection.isEnabled) {\n                            foundParent = ancestor;\n                            break;\n                        }\n                    }\n                    projectionParent = foundParent;\n                }\n                return projectionParent;\n            },\n            resolveRelativeTargetBox: function () {\n                var relativeParent = element.getProjectionParent();\n                if (!projection.relativeTarget || !relativeParent)\n                    return;\n                calcRelativeBox(projection, relativeParent.projection);\n                if (isDraggable(relativeParent)) {\n                    var target = projection.target;\n                    applyBoxTransforms(target, target, relativeParent.getLatestValues());\n                }\n            },\n            shouldResetTransform: function () {\n                return Boolean(props._layoutResetTransform);\n            },\n            /**\n             *\n             */\n            pointTo: function (newLead) {\n                leadProjection = newLead.projection;\n                leadLatestValues = newLead.getLatestValues();\n                /**\n                 * Subscribe to lead component's layout animations\n                 */\n                unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n                unsubscribeFromLeadVisualElement = pipe(newLead.onSetAxisTarget(element.scheduleUpdateLayoutProjection), newLead.onLayoutAnimationComplete(function () {\n                    var _a;\n                    if (element.isPresent) {\n                        element.presence = Presence.Present;\n                    }\n                    else {\n                        (_a = element.layoutSafeToRemove) === null || _a === void 0 ? void 0 : _a.call(element);\n                    }\n                }));\n            }, \n            // TODO: Clean this up\n            isPresent: true, presence: Presence.Entering });\n        return element;\n    };\n};\nfunction fireResolveRelativeTargetBox(child) {\n    child.resolveRelativeTargetBox();\n}\nfunction fireUpdateLayoutProjection(child) {\n    child.updateLayoutProjection();\n}\nvar variantProps = __spreadArray([\"initial\"], __read(variantPriorityOrder));\nvar numVariantProps = variantProps.length;\n\nexport { visualElement };\n","import { motionValue } from '../../value/index.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    var _a;\n    for (var key in next) {\n        var nextValue = next[key];\n        var prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping to a new motion value, create a new motion value\n             * from that\n             */\n            element.addValue(key, motionValue(nextValue));\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                var existingValue = element.getValue(key);\n                // TODO: Only update values that aren't being animated or even looked at\n                !existingValue.hasAnimated && existingValue.set(nextValue);\n            }\n            else {\n                element.addValue(key, motionValue((_a = element.getStaticValue(key)) !== null && _a !== void 0 ? _a : nextValue));\n            }\n        }\n    }\n    // Handle removed values\n    for (var key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\n\nfunction setCurrentViewportBox(visualElement) {\n    var projectionParent = visualElement.getProjectionParent();\n    if (!projectionParent) {\n        visualElement.rebaseProjectionTarget();\n        return;\n    }\n    var relativeOffset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n    eachAxis(function (axis) {\n        visualElement.setProjectionTargetAxis(axis, relativeOffset[axis].min, relativeOffset[axis].max, true);\n    });\n}\n\nexport { setCurrentViewportBox };\n","import { __assign, __read } from 'tslib';\nimport { number, px } from 'style-value-types';\nimport { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.js';\nimport { invariant } from 'hey-listen';\nimport { transformProps } from '../../html/utils/transform.js';\nimport { findDimensionValueType } from '../value-types/dimensions.js';\n\nvar positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"x\",\n    \"y\",\n]);\nvar isPositionalKey = function (key) { return positionalKeys.has(key); };\nvar hasPositionalKey = function (target) {\n    return Object.keys(target).some(isPositionalKey);\n};\nvar setAndResetVelocity = function (value, to) {\n    // Looks odd but setting it twice doesn't render, it'll just\n    // set both prev and current to the latest value\n    value.set(to, false);\n    value.set(to);\n};\nvar isNumOrPxType = function (v) {\n    return v === number || v === px;\n};\nvar BoundingBoxDimension;\n(function (BoundingBoxDimension) {\n    BoundingBoxDimension[\"width\"] = \"width\";\n    BoundingBoxDimension[\"height\"] = \"height\";\n    BoundingBoxDimension[\"left\"] = \"left\";\n    BoundingBoxDimension[\"right\"] = \"right\";\n    BoundingBoxDimension[\"top\"] = \"top\";\n    BoundingBoxDimension[\"bottom\"] = \"bottom\";\n})(BoundingBoxDimension || (BoundingBoxDimension = {}));\nvar getPosFromMatrix = function (matrix, pos) {\n    return parseFloat(matrix.split(\", \")[pos]);\n};\nvar getTranslateFromMatrix = function (pos2, pos3) { return function (_bbox, _a) {\n    var transform = _a.transform;\n    if (transform === \"none\" || !transform)\n        return 0;\n    var matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        var matrix = transform.match(/^matrix\\((.+)\\)$/);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n}; };\nvar transformKeys = new Set([\"x\", \"y\", \"z\"]);\nvar nonTranslationalTransformKeys = transformProps.filter(function (key) { return !transformKeys.has(key); });\nfunction removeNonTranslationalTransform(visualElement) {\n    var removedTransforms = [];\n    nonTranslationalTransformKeys.forEach(function (key) {\n        var value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    // Apply changes to element before measurement\n    if (removedTransforms.length)\n        visualElement.syncRender();\n    return removedTransforms;\n}\nvar positionalValues = {\n    // Dimensions\n    width: function (_a) {\n        var x = _a.x;\n        return x.max - x.min;\n    },\n    height: function (_a) {\n        var y = _a.y;\n        return y.max - y.min;\n    },\n    top: function (_bbox, _a) {\n        var top = _a.top;\n        return parseFloat(top);\n    },\n    left: function (_bbox, _a) {\n        var left = _a.left;\n        return parseFloat(left);\n    },\n    bottom: function (_a, _b) {\n        var y = _a.y;\n        var top = _b.top;\n        return parseFloat(top) + (y.max - y.min);\n    },\n    right: function (_a, _b) {\n        var x = _a.x;\n        var left = _b.left;\n        return parseFloat(left) + (x.max - x.min);\n    },\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\nvar convertChangedValueTypes = function (target, visualElement, changedKeys) {\n    var originBbox = visualElement.measureViewportBox();\n    var element = visualElement.getInstance();\n    var elementComputedStyle = getComputedStyle(element);\n    var display = elementComputedStyle.display, top = elementComputedStyle.top, left = elementComputedStyle.left, bottom = elementComputedStyle.bottom, right = elementComputedStyle.right, transform = elementComputedStyle.transform;\n    var originComputedStyle = { top: top, left: left, bottom: bottom, right: right, transform: transform };\n    // If the element is currently set to display: \"none\", make it visible before\n    // measuring the target bounding box\n    if (display === \"none\") {\n        visualElement.setStaticValue(\"display\", target.display || \"block\");\n    }\n    // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n    visualElement.syncRender();\n    var targetBbox = visualElement.measureViewportBox();\n    changedKeys.forEach(function (key) {\n        // Restore styles to their **calculated computed style**, not their actual\n        // originally set style. This allows us to animate between equivalent pixel units.\n        var value = visualElement.getValue(key);\n        setAndResetVelocity(value, positionalValues[key](originBbox, originComputedStyle));\n        target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n    });\n    return target;\n};\nvar checkAndConvertChangedValueTypes = function (visualElement, target, origin, transitionEnd) {\n    if (origin === void 0) { origin = {}; }\n    if (transitionEnd === void 0) { transitionEnd = {}; }\n    target = __assign({}, target);\n    transitionEnd = __assign({}, transitionEnd);\n    var targetPositionalKeys = Object.keys(target).filter(isPositionalKey);\n    // We want to remove any transform values that could affect the element's bounding box before\n    // it's measured. We'll reapply these later.\n    var removedTransformValues = [];\n    var hasAttemptedToRemoveTransformValues = false;\n    var changedValueTypeKeys = [];\n    targetPositionalKeys.forEach(function (key) {\n        var value = visualElement.getValue(key);\n        if (!visualElement.hasValue(key))\n            return;\n        var from = origin[key];\n        var to = target[key];\n        var fromType = findDimensionValueType(from);\n        var toType;\n        // TODO: The current implementation of this basically throws an error\n        // if you try and do value conversion via keyframes. There's probably\n        // a way of doing this but the performance implications would need greater scrutiny,\n        // as it'd be doing multiple resize-remeasure operations.\n        if (isKeyframesTarget(to)) {\n            var numKeyframes = to.length;\n            for (var i = to[0] === null ? 1 : 0; i < numKeyframes; i++) {\n                if (!toType) {\n                    toType = findDimensionValueType(to[i]);\n                    invariant(toType === fromType ||\n                        (isNumOrPxType(fromType) && isNumOrPxType(toType)), \"Keyframes must be of the same dimension as the current value\");\n                }\n                else {\n                    invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n                }\n            }\n        }\n        else {\n            toType = findDimensionValueType(to);\n        }\n        if (fromType !== toType) {\n            // If they're both just number or px, convert them both to numbers rather than\n            // relying on resize/remeasure to convert (which is wasteful in this situation)\n            if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n                var current = value.get();\n                if (typeof current === \"string\") {\n                    value.set(parseFloat(current));\n                }\n                if (typeof to === \"string\") {\n                    target[key] = parseFloat(to);\n                }\n                else if (Array.isArray(to) && toType === px) {\n                    target[key] = to.map(parseFloat);\n                }\n            }\n            else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) &&\n                (toType === null || toType === void 0 ? void 0 : toType.transform) &&\n                (from === 0 || to === 0)) {\n                // If one or the other value is 0, it's safe to coerce it to the\n                // type of the other without measurement\n                if (from === 0) {\n                    value.set(toType.transform(from));\n                }\n                else {\n                    target[key] = fromType.transform(to);\n                }\n            }\n            else {\n                // If we're going to do value conversion via DOM measurements, we first\n                // need to remove non-positional transform values that could affect the bbox measurements.\n                if (!hasAttemptedToRemoveTransformValues) {\n                    removedTransformValues = removeNonTranslationalTransform(visualElement);\n                    hasAttemptedToRemoveTransformValues = true;\n                }\n                changedValueTypeKeys.push(key);\n                transitionEnd[key] =\n                    transitionEnd[key] !== undefined\n                        ? transitionEnd[key]\n                        : target[key];\n                setAndResetVelocity(value, to);\n            }\n        }\n    });\n    if (changedValueTypeKeys.length) {\n        var convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys);\n        // If we removed transform values, reapply them before the next render\n        if (removedTransformValues.length) {\n            removedTransformValues.forEach(function (_a) {\n                var _b = __read(_a, 2), key = _b[0], value = _b[1];\n                visualElement.getValue(key).set(value);\n            });\n        }\n        // Reapply original values\n        visualElement.syncRender();\n        return { target: convertedTarget, transitionEnd: transitionEnd };\n    }\n    else {\n        return { target: target, transitionEnd: transitionEnd };\n    }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n    return hasPositionalKey(target)\n        ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd)\n        : { target: target, transitionEnd: transitionEnd };\n}\n\nexport { BoundingBoxDimension, unitConversion };\n","import { resolveCSSVariables } from './css-variables-conversion.js';\nimport { unitConversion } from './unit-conversion.js';\n\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\nvar parseDomVariant = function (visualElement, target, origin, transitionEnd) {\n    var resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n    target = resolved.target;\n    transitionEnd = resolved.transitionEnd;\n    return unitConversion(visualElement, target, origin, transitionEnd);\n};\n\nexport { parseDomVariant };\n","import { __rest, __assign } from 'tslib';\nimport { visualElement } from '../index.js';\nimport { getOrigin, checkTargetForNewValues } from '../utils/setters.js';\nimport { getBoundingBox } from '../dom/projection/measure.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { isCSSVariable } from '../dom/utils/is-css-variable.js';\nimport { parseDomVariant } from '../dom/utils/parse-dom-variant.js';\nimport { isTransformProp } from './utils/transform.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { renderHTML } from './utils/render.js';\nimport { getDefaultValueType } from '../dom/value-types/defaults.js';\nimport { buildLayoutProjectionTransformOrigin, buildLayoutProjectionTransform } from './utils/build-projection-transform.js';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nvar htmlConfig = {\n    treeType: \"dom\",\n    readValueFromInstance: function (domElement, key) {\n        if (isTransformProp(key)) {\n            var defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        else {\n            var computedStyle = getComputedStyle(domElement);\n            return ((isCSSVariable(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0);\n        }\n    },\n    sortNodePosition: function (a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    },\n    getBaseTarget: function (props, key) {\n        var _a;\n        return (_a = props.style) === null || _a === void 0 ? void 0 : _a[key];\n    },\n    measureViewportBox: function (element, _a) {\n        var transformPagePoint = _a.transformPagePoint;\n        return getBoundingBox(element, transformPagePoint);\n    },\n    /**\n     * Reset the transform on the current Element. This is called as part\n     * of a batched process across the entire layout tree. To remove this write\n     * cycle it'd be interesting to see if it's possible to \"undo\" all the current\n     * layout transforms up the tree in the same way this.getBoundingBoxWithoutTransforms\n     * works\n     */\n    resetTransform: function (element, domElement, props) {\n        var transformTemplate = props.transformTemplate;\n        domElement.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        // Ensure that whatever happens next, we restore our transform on the next frame\n        element.scheduleRender();\n    },\n    restoreTransform: function (instance, mutableState) {\n        instance.style.transform = mutableState.style.transform;\n    },\n    removeValueFromRenderState: function (key, _a) {\n        var vars = _a.vars, style = _a.style;\n        delete vars[key];\n        delete style[key];\n    },\n    /**\n     * Ensure that HTML and Framer-specific value types like `px`->`%` and `Color`\n     * can be animated by Motion.\n     */\n    makeTargetAnimatable: function (element, _a, _b, isMounted) {\n        var transformValues = _b.transformValues;\n        if (isMounted === void 0) { isMounted = true; }\n        var transition = _a.transition, transitionEnd = _a.transitionEnd, target = __rest(_a, [\"transition\", \"transitionEnd\"]);\n        var origin = getOrigin(target, transition || {}, element);\n        /**\n         * If Framer has provided a function to convert `Color` etc value types, convert them\n         */\n        if (transformValues) {\n            if (transitionEnd)\n                transitionEnd = transformValues(transitionEnd);\n            if (target)\n                target = transformValues(target);\n            if (origin)\n                origin = transformValues(origin);\n        }\n        if (isMounted) {\n            checkTargetForNewValues(element, target, origin);\n            var parsed = parseDomVariant(element, target, origin, transitionEnd);\n            transitionEnd = parsed.transitionEnd;\n            target = parsed.target;\n        }\n        return __assign({ transition: transition,\n            transitionEnd: transitionEnd }, target);\n    },\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    build: function (element, renderState, latestValues, projection, layoutState, options, props) {\n        if (element.isVisible !== undefined) {\n            renderState.style.visibility = element.isVisible\n                ? \"visible\"\n                : \"hidden\";\n        }\n        var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n        buildHTMLStyles(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform\n            ? buildLayoutProjectionTransformOrigin\n            : undefined);\n    },\n    render: renderHTML,\n};\nvar htmlVisualElement = visualElement(htmlConfig);\n\nexport { getComputedStyle, htmlConfig, htmlVisualElement };\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nvar isNumericalString = function (v) { return /^\\-?\\d*\\.?\\d+$/.test(v); };\n\nexport { isNumericalString };\n","import { __assign } from 'tslib';\nimport { visualElement } from '../index.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { htmlConfig } from '../html/visual-element.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { camelToDash } from '../dom/utils/camel-to-dash.js';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.js';\nimport { isTransformProp } from '../html/utils/transform.js';\nimport { renderSVG } from './utils/render.js';\nimport { getDefaultValueType } from '../dom/value-types/defaults.js';\nimport { buildLayoutProjectionTransformOrigin, buildLayoutProjectionTransform } from '../html/utils/build-projection-transform.js';\n\nvar svgVisualElement = visualElement(__assign(__assign({}, htmlConfig), { getBaseTarget: function (props, key) {\n        return props[key];\n    },\n    readValueFromInstance: function (domElement, key) {\n        var _a;\n        if (isTransformProp(key)) {\n            return ((_a = getDefaultValueType(key)) === null || _a === void 0 ? void 0 : _a.default) || 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return domElement.getAttribute(key);\n    },\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    build: function (_element, renderState, latestValues, projection, layoutState, options, props) {\n        var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n        buildSVGAttrs(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform\n            ? buildLayoutProjectionTransformOrigin\n            : undefined);\n    }, render: renderSVG }));\n\nexport { svgVisualElement };\n","import { htmlVisualElement } from '../html/visual-element.js';\nimport { svgVisualElement } from '../svg/visual-element.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\n\nvar createDomVisualElement = function (Component, options) {\n    return isSVGComponent(Component)\n        ? svgVisualElement(options, { enableHardwareAcceleration: false })\n        : htmlVisualElement(options, { enableHardwareAcceleration: true });\n};\n\nexport { createDomVisualElement };\n","import { __assign } from 'tslib';\nimport { createMotionComponent } from '../../motion/index.js';\nimport { createMotionProxy } from './motion-proxy.js';\nimport { createDomMotionConfig } from './utils/create-config.js';\nimport { gestureAnimations } from '../../motion/features/gestures.js';\nimport { animations } from '../../motion/features/animations.js';\nimport { drag } from '../../motion/features/drag.js';\nimport { layoutAnimations } from '../../motion/features/layout/index.js';\nimport { createDomVisualElement } from './create-visual-element.js';\n\nvar featureBundle = __assign(__assign(__assign(__assign({}, animations), gestureAnimations), drag), layoutAnimations);\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nvar motion = /*@__PURE__*/ createMotionProxy(function (Component, config) {\n    return createDomMotionConfig(Component, config, featureBundle, createDomVisualElement);\n});\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n    return createMotionComponent(createDomMotionConfig(key, { forwardMotionProps: false }, featureBundle, createDomVisualElement));\n}\n\nexport { createDomMotionComponent, motion };\n","import { __assign } from 'tslib';\nimport { isSVGComponent } from './is-svg-component.js';\nimport { createUseRender } from '../use-render.js';\nimport { svgMotionConfig } from '../../svg/config-motion.js';\nimport { htmlMotionConfig } from '../../html/config-motion.js';\n\nfunction createDomMotionConfig(Component, _a, preloadedFeatures, createVisualElement) {\n    var _b = _a.forwardMotionProps, forwardMotionProps = _b === void 0 ? false : _b;\n    var baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return __assign(__assign({}, baseConfig), { preloadedFeatures: preloadedFeatures, useRender: createUseRender(forwardMotionProps), createVisualElement: createVisualElement,\n        Component: Component });\n}\n\nexport { createDomMotionConfig };\n","'use client';\n\nimport PropTypes from 'prop-types';\nimport createBox from '../createBox';\nconst Box = createBox();\nprocess.env.NODE_ENV !== \"production\" ? Box.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Box;","import React, { useState, useRef, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { styled } from '@mui/material/styles';\nimport { Typography } from '@mui/material';\nimport { Box } from '@mui/system';\nimport { Button } from '@mui/material';\nimport { Dialog, DialogContent, DialogContentText, DialogTitle } from '@mui/material';\nimport { useEffect } from 'react';\nimport { steelBlue, white } from '../../constants/colors';\nimport { useStaticQuery, graphql } from \"gatsby\";\nimport { GENERAL_CONTENT } from '../../constants/content/general';\n\n// Sample event data (replace with your actual data source)\n// const eventsData = [\n//     {\n//         id: '1',\n//         month: 1,\n//         title: 'New Year Celebration',\n//         date: '2024-01-01',\n//         summary: 'Celebrate the start of the new year!',\n//         description: 'Join us for a festive celebration with fireworks, music, and dancing.',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C',\n//     },\n//     {\n//         id: '2',\n//         month: 1,\n//         title: 'January Event 2',\n//         date: '2024-01-15',\n//         summary: 'Another event in January',\n//         description: 'Details for the second January event.',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C',\n//     },\n//     {\n//         id: '3',\n//         month: 2,\n//         title: 'Valentine\\'s Day',\n//         date: '2024-02-14',\n//         summary: 'Celebrate love and affection.',\n//         description: 'A romantic evening with dinner and music.',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C',\n//     },\n//     {\n//         id: '4',\n//         month: 3,\n//         title: 'St. Patrick\\'s Day',\n//         date: '2024-03-17',\n//         summary: 'Celebrate Irish culture!',\n//         description: 'Join the parade and enjoy traditional Irish food and drinks.',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C',\n//     },\n//     {\n//         id: '5',\n//         month: 3,\n//         title: 'March Event 2',\n//         date: '2024-03-25',\n//         summary: 'A second event in March',\n//         description: 'More March details',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C',\n//     },\n//     {\n//         id: '6',\n//         month: 4,\n//         title: 'April Fools\\' Day',\n//         date: '2024-04-01',\n//         summary: 'Get ready for some pranks!',\n//         description: 'A day of fun and laughter.',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C',\n//     },\n//     {\n//         id: '7',\n//         month: 5,\n//         title: 'Cinco de Mayo',\n//         date: '2024-05-05',\n//         summary: 'Celebrate Mexican heritage.',\n//         description: 'Enjoy Mexican food, music, and dancing.',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C',\n//     },\n//     {\n//         id: '8',\n//         month: 5,\n//         title: 'Mother\\'s Day',\n//         date: '2024-05-12',\n//         summary: 'Honor mothers and motherhood.',\n//         description: 'A day to celebrate the special women in our lives.',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C',\n//     },\n//     {\n//         id: '9',\n//         month: 6,\n//         title: 'Father\\'s Day',\n//         date: '2024-06-16',\n//         summary: 'Celebrate fatherhood.',\n//         description: 'A day to honor fathers and father figures.',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C',\n//     },\n//     {\n//         id: '10',\n//         month: 7,\n//         title: 'Independence Day',\n//         date: '2024-07-04',\n//         summary: 'Celebrate freedom and independence!',\n//         description: 'Fireworks, parades, and patriotic festivities.',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C',\n//     },\n//     // {\n//     //     id: '11',\n//     //     month: 8,\n//     //     title: 'August Event',\n//     //     date: '2024-08-10',\n//     //     summary: 'August summary',\n//     //     description: 'August description',\n//     //     imageUrl: 'https://placehold.co/600x400/EEE/31343C'\n//     // },\n//     {\n//         id: '12',\n//         month: 9,\n//         title: 'September Event',\n//         date: '2024-09-10',\n//         summary: 'September summary',\n//         description: 'September description',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C'\n//     },\n//     {\n//         id: '13',\n//         month: 10,\n//         title: 'October Event',\n//         date: '2024-10-10',\n//         summary: 'October summary',\n//         description: 'October description',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C'\n//     },\n//     {\n//         id: '14',\n//         month: 11,\n//         title: 'November Event',\n//         date: '2024-11-10',\n//         summary: 'November summary',\n//         description: 'November description',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C'\n//     },\n//     {\n//         id: '15',\n//         month: 12,\n//         title: 'December Event',\n//         date: '2024-12-10',\n//         summary: 'December summary',\n//         description: 'December description',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C'\n//     },\n//     {\n//         id: '16',\n//         month: 12,\n//         title: 'Christmas',\n//         date: '2024-12-25',\n//         summary: 'Celebrate the birth of Jesus.',\n//         description: 'A time for family, gifts, and joy.',\n//         imageUrl: 'https://placehold.co/600x400/EEE/31343C'\n//     }\n// ];\n\n// Styled Components for better UI\nconst TwoColumnContainer = styled(Box)({\n  display: \"flex\",\n  height: \"900px\",\n  width: \"100%\",\n  overflow: \"hidden\",\n  // backgroundColor: '#f5f5f5',\n  padding: \"16px\",\n  gap: \"20px\",\n  \"@media (max-width: 600px)\": {\n    // Added media query for small screens\n    flexDirection: \"column\",\n    height: \"auto\",\n  },\n});\n\nconst MonthColumn = styled(Box)({\n  flex: \"0 0 150px\",\n  overflowY: \"auto\",\n  paddingRight: \"10px\",\n  // paddingTop: '65px',\n  \"&::-webkit-scrollbar\": {\n    width: \"8px\",\n  },\n  \"&::-webkit-scrollbar-track\": {\n    background: \"#f1f1f1\",\n  },\n  \"&::-webkit-scrollbar-thumb\": {\n    backgroundColor: \"#888\",\n    borderRadius: \"4px\",\n  },\n  \"&::-webkit-scrollbar-thumb:hover\": {\n    background: \"#555\",\n  },\n  \"@media (max-width: 600px)\": {\n    // Added media query for small screens\n    flex: \"0 0 auto\",\n    width: \"100%\",\n    borderRight: \"none\",\n    borderBottom: \"1px solid #ccc\",\n    paddingBottom: \"10px\",\n    marginBottom: \"10px\",\n    overflowX: \"auto; overflowY: hidden;\",\n    whiteSpace: \"nowrap\",\n  },\n});\n\nconst EventsColumn = styled(Box)({\n  flex: \"1\",\n  overflowY: \"auto\",\n  marginTop: '50px',\n  padding: \"0px 0px 0px 10px\",\n  height: \"85%\",\n  \"&::-webkit-scrollbar\": {\n    width: \"8px\",\n  },\n  \"&::-webkit-scrollbar-track\": {\n    background: \"#f1f1f1\",\n  },\n  \"&::-webkit-scrollbar-thumb\": {\n    backgroundColor: \"#888\",\n    borderRadius: \"4px\",\n  },\n  \"&::-webkit-scrollbar-thumb:hover\": {\n    background: \"#555\",\n  },\n  \"@media (max-width: 600px)\": {\n    // Added media query for small screens\n    paddingLeft: \"0px\",\n  },\n});\n\nconst MonthButton = styled(Button, {\n  shouldForwardProp: (prop) => prop !== \"isHighlighted\",\n})(({ theme, isHighlighted }) => ({\n  display: \"block\",\n  width: \"100%\",\n  textAlign: \"left\",\n  padding: \"4px 4px\",\n  borderRadius: \"4px\",\n  marginBottom: \"4px\",\n  backgroundColor: \"transparent\",\n  color: isHighlighted\n    ? theme.palette.primary.main\n    : theme.palette.text.primary,\n  fontWeight: isHighlighted ? \"bold\" : \"normal\",\n  \"&:hover\": {\n    backgroundColor: \"rgba(0, 0, 0, 0.04)\",\n  },\n  \"@media (max-width: 600px)\": {\n    // Added media query for small screens\n    display: \"inline-block\",\n    width: \"auto\",\n    marginRight: \"10px\",\n    marginBottom: \"0px\",\n  },\n}));\n\nconst EventCard = styled(motion.div)(({ theme }) => ({\n  backgroundColor: white,\n  color: \"#FFD700\",\n  borderRadius: \"8px\",\n  boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.08)\",\n  marginBottom: \"16px\",\n  padding: \"16px\",\n  transition: \"transform 0.2s ease-in-out\",\n  \"&:hover\": {\n    transform: \"scale(1.02)\",\n  },\n}));\n\nconst EventImage = styled(\"img\")({\n  width: \"80%\",\n  height: \"auto\",\n  borderRadius: \"4px\",\n  cursor: \"pointer\",\n  marginBottom: \"12px\",\n});\n\nconst EventTitle = styled(Typography)({\n  fontSize: \"1.2rem\",\n  fontWeight: \"bold\",\n  marginBottom: \"8px\",\n  color: steelBlue,\n});\n\nconst EventDate = styled(Typography)({\n  fontSize: \"0.9rem\",\n  color: \"darkslategray\",\n  marginBottom: \"4px\",\n});\n\nconst EventSummary = styled(Typography)({\n  fontSize: \"1rem\",\n  color: \"darkslategray\",\n  marginBottom: \"12px\",\n});\n\nconst EventLink = styled(Typography)({\n  fontSize: \"0.8rem\",\n  color: \"darkslategray\",\n  marginBottom: \"12px\",\n});\n\nconst EventDescription = styled(Typography)({\n  fontSize: \"1rem\",\n  color: \"darkslategray\",\n  lineHeight: 1.6,\n  \"& img\": {\n    cursor: \"pointer\",\n    maxWidth: \"100%\",\n    height: \"auto\",\n    borderRadius: \"4px\",\n    margin: \"8px 0\",\n  },\n});\n\nfunction getMonthFromDate(dateString, language) {\n  const monthNames = {\n    January: \"\",\n    February: \"\",\n    March: \"\",\n    April: \"\",\n    May: \"\",\n    June: \"\",\n    July: \"\",\n    August: \"\",\n    September: \"\",\n    October: \"\",\n    November: \"\",\n    December: \"\",\n  };\n\n  const date = new Date(dateString);\n  const month = date.getMonth(); // getMonth() returns a zero-based index\n  const monthName = new Intl.DateTimeFormat(\"en-US\", { month: \"long\" }).format(\n    date\n  ); // Get full month name\n\n  const day = date.getDate();\n  const year = date.getFullYear();\n  let hours = date.getHours();\n  const minutes = date.getMinutes();\n  const ampm = hours >= 12 ? \"PM\" : \"AM\";\n  hours = hours % 12;\n  hours = hours ? hours : 12; // the hour '0' should be '12'\n  const formattedTime = `${hours.toString().padStart(2, \"0\")}:${minutes\n    .toString()\n    .padStart(2, \"0\")} ${ampm}`;\n\n  const finalMonthName = language == \"en\" ? monthName : monthNames[monthName];\n\n  return {\n    monthNumber: month + 1,\n    monthName: finalMonthName,\n    formattedDate:\n      language == \"en\"\n        ? `${finalMonthName} ${day}, ${year} at ${formattedTime}`\n        : `${day} ${finalMonthName}, ${year} o ${formattedTime}`,\n  };\n}\n\nconst EventsList = ({ language }) => {\n  const [selectedMonth, setSelectedMonth] = useState(null);\n  const eventsColumnRef = useRef(null);\n  const [openImage, setOpenImage] = useState(null);\n\n  const { allContentfulEvents } = useStaticQuery(graphql`\n    query getEventsQuery {\n      allContentfulEvents {\n        nodes {\n          date\n          linkUrl\n          id\n          titleUa\n          title\n          summaryUa {\n            summaryUa\n          }\n          summary {\n            summary\n          }\n          image {\n            publicUrl\n          }\n        }\n        totalCount\n      }\n    }\n  `);\n\n  const sortedEvents = allContentfulEvents.nodes;\n  const eventsData = sortedEvents\n    .sort((a, b) => new Date(a.date) - new Date(b.date))\n    .map((e) => {\n      const dateData = getMonthFromDate(e.date, language);\n      return {\n        id: e.id,\n        month: dateData.monthNumber,\n        title: language == \"en\" ? e.title : e.titleUa,\n        date: dateData.formattedDate,\n        summary: language == \"en\" ? e.summary.summary : e.summaryUa.summaryUa,\n        description: \"\",\n        linkUrl: e.linkUrl,\n        imageUrl: e.image.publicUrl,\n      };\n    });\n\n  const months = [\n    { number: 1, name: language == \"en\" ? \"January\" : \"\" },\n    { number: 2, name: language == \"en\" ? \"February\" : \"\" },\n    { number: 3, name: language == \"en\" ? \"March\" : \"\" },\n    { number: 4, name: language == \"en\" ? \"April\" : \"\" },\n    { number: 5, name: language == \"en\" ? \"May\" : \"\" },\n    { number: 6, name: language == \"en\" ? \"June\" : \"\" },\n    { number: 7, name: language == \"en\" ? \"July\" : \"\" },\n    { number: 8, name: language == \"en\" ? \"August\" : \"\" },\n    { number: 9, name: language == \"en\" ? \"September\" : \"\" },\n    { number: 10, name: language == \"en\" ? \"October\" : \"\" },\n    { number: 11, name: language == \"en\" ? \"November\" : \"\" },\n    { number: 12, name: language == \"en\" ? \"December\" : \"\" },\n  ];\n\n  const scrollToMonth = useCallback((month) => {\n    setSelectedMonth(month);\n    if (eventsColumnRef.current) {\n      const targetEvent = document.getElementById(`month-${month}`);\n      if (targetEvent) {\n        targetEvent.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n      }\n    }\n  }, []);\n\n  const getMonthEvents = (month) => {\n    return eventsData.filter((event) => event.month === month);\n  };\n\n  const highlightedMonths = months.map((month) => ({\n    ...month,\n    hasEvents: eventsData.some((event) => event.month === month.number),\n  }));\n\n  const handleImageClick = (imageUrl) => {\n    setOpenImage(imageUrl);\n  };\n\n  const filteredEvents = eventsData; //selectedMonth ? getMonthEvents(selectedMonth) : eventsData;\n\n  //Fixes \"document is not defined\" during build\n  const [isClient, setIsClient] = useState(false);\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  if (!isClient) {\n    return null;\n  }\n\n  return (\n    <Box\n      sx={{\n        width: \"80%\",\n        minHeight: \"100vh\",\n        maxWidth: \"1000px\",\n        backgroundColor: \"#ffffff\",\n        padding: 2,\n        borderRadius: \"8px\",\n        boxShadow: 2,\n        paddingTop: \"70px\",\n        paddingBottom: 5,\n        margin: \"0 auto\",\n      }}\n      justifySelf={\"center\"}\n    >\n      <TwoColumnContainer>\n        <MonthColumn alignContent={\"center\"}>\n          {highlightedMonths.map((month) => (\n            <MonthButton\n              key={month.number}\n              isHighlighted={month.hasEvents}\n              onClick={() => scrollToMonth(month.number)}\n              disabled={!month.hasEvents}\n            >\n              <Typography fontSize={\"10pt\"}>{month.name}</Typography>\n            </MonthButton>\n          ))}\n        </MonthColumn>\n        <EventsColumn ref={eventsColumnRef}>\n          {filteredEvents.map((event) => (\n            <EventCard\n              key={event.id}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.3 }}\n              id={`month-${event.month}`}\n            >\n              <center>\n                <EventImage\n                  src={event.imageUrl}\n                  alt={event.title}\n                  onClick={() => handleImageClick(event.imageUrl)}\n                />\n              </center>\n              <EventTitle>{event.title}</EventTitle>\n              <EventDate>{event.date}</EventDate>\n              <EventSummary>{event.summary}</EventSummary>\n              <EventDescription\n                dangerouslySetInnerHTML={{\n                  __html: event.description.replace(\n                    /<img.*?src=\"(.*?)\".*?>/g,\n                    (match, src) =>\n                      `<img src=\"${src}\" onclick=\"this.dispatchEvent(new CustomEvent('imageclick', {bubbles: true, detail: {src: '${src}'}}));\" style=\"cursor:pointer;\" />`\n                  ),\n                }}\n                onClick={(e) => {\n                  if (e.target.tagName === \"IMG\") {\n                    handleImageClick(e.target.src);\n                  }\n                }}\n              />\n              <center>\n                <EventLink>\n                  <a\n                    style={{ color: steelBlue }}\n                    href={event.linkUrl}\n                    target=\"_blank\"\n                  >\n                    {GENERAL_CONTENT[language].showDetails}\n                  </a>\n                </EventLink>\n              </center>\n            </EventCard>\n          ))}\n        </EventsColumn>\n        <Dialog\n          open={!!openImage}\n          onClose={() => setOpenImage(null)}\n          maxWidth=\"md\"\n          fullWidth\n        >\n          <center>\n            <DialogContent>\n              <DialogContentText>\n                <img\n                  src={openImage}\n                  alt=\"Full Size\"\n                  style={{ width: \"100%\", height: \"auto\" }}\n                />\n              </DialogContentText>\n            </DialogContent>\n          </center>\n        </Dialog>\n      </TwoColumnContainer>\n    </Box>\n  );\n};\n\nexport default EventsList;\n","import * as React from \"react\"\nimport {useState, useEffect} from \"react\"\n\nimport Layout from \"../components/layout\"\nimport { Footer } from \"../components/Footer\"\nimport { EVENTS_CONTENT } from \"../constants/content/events\"\nimport { Grid, Box, Stack, Divider, Typography } from \"@mui/material\";\nimport EventsList from \"../components/EventList\"\n\n\nconst Events = () => {\n  return (\n    <Layout>\n      <EventsList />\n\n      <Footer />\n    </Layout>\n  );\n};\nexport default Events","import React from \"react\"\nimport { Instagram, Facebook, Twitter, Email } from \"@mui/icons-material\";\n\nimport * as styles from \"../index.module.css\"\nimport { Typography, Box } from \"@mui/material\";\nimport { steelBlue, white } from \"../../constants/colors\";\nimport { useTheme } from \"@mui/system\";\nimport { useMediaQuery } from \"@mui/material\";\n\nconst Footer = () => {\n  const theme = useTheme();\n  const phoneSize = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  return (\n    <footer\n      style={{\n        marginTop: `var(--space-5)`,\n        fontSize: `var(--font-sm)`,\n        background: steelBlue,\n        color: white,\n        height: 50,\n        textAlign: \"center\",\n      }}\n    >\n      <Box\n        display=\"flex\"\n        justifyContent={phoneSize ? \"center\" : \"space-evenly\"}\n        alignContent=\"center\"\n        paddingTop={2}\n      >\n        <Typography fontSize={12}>\n          Copyright  2025 St. John the Baptist Ukrainian Catholic Church\n          Whippany, NJ 07981\n        </Typography>\n        {/* {!phoneSize && (\n          <Typography fontSize={12}>Created By: Nazar Kinash</Typography>\n        )} */}\n        {/* <Facebook fontSize=\"small\" className={styles.iconLG} /> */}\n      </Box>\n    </footer>\n  );\n};\n\nexport { Footer }"],"names":["createDefinition","propNames","isEnabled","props","some","name","featureDefinitions","measureLayout","animation","exit","drag","focus","hover","tap","pan","layoutAnimation","LazyContext","createContext","strict","featureNames","Object","keys","numFeatures","length","MotionConfigContext","transformPagePoint","p","isStatic","MotionContext","useConstant","init","ref","useRef","current","usePresence","context","useContext","isPresent","onExitComplete","register","id","useUniqueId","useEffect","counter","incrementId","LayoutGroupContext","isBrowser","window","useIsomorphicLayoutEffect","useLayoutEffect","useVisualElement","Component","visualState","createVisualElement","config","lazyContext","parent","visualElement","presenceContext","layoutId","_a","layoutGroupId","undefined","useLayoutId","visualElementRef","renderer","__assign","presenceId","blockInitialAnimation","initial","setProps","isPresenceRoot","syncRender","animationState","animateChanges","notifyUnmount","isRefObject","prototype","hasOwnProperty","call","isVariantLabels","v","Array","isArray","isVariantLabel","resolveVariantFromProps","definition","custom","currentValues","currentVelocity","variants","resolveVariant","getProps","forEachValue","value","key","get","getCurrent","velocity","getVelocity","checkIfControllingVariants","animate","start","whileHover","whileDrag","whileTap","whileFocus","checkIfVariantNode","Boolean","useCreateMotionContext","inherit","getCurrentTreeVariants","useMemo","variantLabelsAsDependency","prop","join","preloadedFeatures","useRender","useVisualState","features","loadFeatures","forwardRef","externalRef","i","name_1","push","useFeatures","Provider","useCallback","instance","mount","unmount","useMotionRef","createMotionProxy","createConfig","customMotionComponentConfig","componentCache","Map","Proxy","_target","has","set","lowercaseSVGElements","isSVGComponent","includes","indexOf","test","valueScaleCorrection","transformAxes","transformProps","sortTransformProps","a","b","forEach","operationKey","axesKey","transformPropSet","Set","isTransformProp","transformOriginProps","isTransformOriginProp","isForcedMotionValue","layout","isMotionValue","translateAlias","x","y","z","transformPerspective","isCSSVariable","startsWith","getValueAsType","type","transform","clamp","min","max","Math","sanitize","Number","toFixed","floatRegex","colorRegex","singleColorRegex","isString","createUnitType","unit","endsWith","split","parse","parseFloat","degrees","percent","px","vh","vw","progressPercentage","number","alpha","scale","default","round","numberValueTypes","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","size","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skew","skewX","skewY","distance","translateX","translateY","translateZ","perspective","opacity","originX","originY","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","buildHTMLStyles","state","latestValues","projection","layoutState","options","transformTemplate","buildProjectionTransform","buildProjectionTransformOrigin","style","vars","transformKeys","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","valueAsType","isHydrated","correctedValue","process","applyTo","num","deltaFinal","treeScale","_b","transformIsDefault","_c","enableHardwareAcceleration","_d","allowTransformNone","transformString","sort","transformHasZ","numTransformKeys","trim","buildTransform","buildTransformOrigin","createHtmlRenderState","copyRawValuesOnly","target","source","useStyle","assign","useInitialMotionValues","transformValues","useHTMLProps","htmlProps","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","validMotionProps","isValidMotionProp","shouldForward","emotionIsPropValid_1","calcOrigin","origin","offset","progressToPixels","progress","dashKeys","array","camelKeys","buildSVGAttrs","attrX","attrY","pathLength","pathSpacing","pathOffset","__rest","attrs","dimensions","totalPathLength","calcSVGTransformOrigin","totalLength","spacing","useDashCase","buildSVGPath","createSvgRenderState","useSVGProps","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","createElement","CAMEL_CASE_PATTERN","camelToDash","str","replace","toLowerCase","renderHTML","element","setProperty","camelCaseAttributes","renderSVG","renderState","setAttribute","scrapeMotionValuesFromProps","newValues","toUpperCase","isAnimationControls","isKeyframesTarget","resolveMotionValue","unwrappedValue","mix","toValue","makeState","createRenderState","onMount","makeLatestValues","makeUseVisualState","scrapeMotionValues","values","motionValues","isControllingVariants","isVariantNode","variantToSet","resolved","transitionEnd","transition","svgMotionConfig","getBBox","getBoundingClientRect","e","tagName","getTotalLength","AnimationType","htmlMotionConfig","addDomEvent","eventName","handler","addEventListener","removeEventListener","useDomEvent","isMouseEvent","event","PointerEvent","pointerType","MouseEvent","isTouchEvent","touches","defaultPagePoint","pageX","pageY","pointFromTouch","pointType","point","changedTouches","pointFromMouse","extractEventInfo","wrapHandler","shouldFilterPrimaryPointer","eventHandler","listener","button","mouseEventNames","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave","touchEventNames","getPointerEventName","onpointerdown","ontouchstart","onmousedown","addPointerEvent","usePointerEvent","createLock","lock","globalHorizontalLock","globalVerticalLock","getGlobalLock","openHorizontal_1","openVertical_1","isDragActive","openGestureLock","createHoverEvent","isActive","callback","info","setActive","Hover","isNodeOrChild","child","parentElement","useUnmountEffect","combineFunctions","pipe","transformers","_i","arguments","reduce","makeRenderlessComponent","hook","gestureAnimations","onTap","onTapStart","onTapCancel","hasPressListeners","isPressing","cancelPointerEndListeners","removePointerEndListener","checkPointerEnd","Tap","onPointerUp","getInstance","onPointerCancel","Focus","onHoverStart","onHoverEnd","shallowCompare","next","prev","prevLength","safeMin","findSpring","envelope","derivative","duration","bounce","_e","mass","warning","maxDuration","dampingRatio","undampedFreq","exponentialDecay","delta","calcAngularFreq","c","exp","d","pow","f","g","initialGuess","result","rootIterations","approximateRoot","isNaN","stiffness","damping","sqrt","durationKeys","physicsKeys","isSpringType","spring","from","to","restSpeed","restDelta","done","springOptions","isResolvedFromDuration","derived","getSpringOptions","resolveSpring","zero","resolveVelocity","createSpring","initialVelocity","initialDelta","undampedAngularFreq","abs","angularFreq_1","t","sin","cos","dampedAngularFreq_1","freqForT","sinh","cosh","isBelowVelocityThreshold","isBelowDisplacementThreshold","flipTarget","needsInterpolation","_t","toFromDifference","isColorString","testProp","splitColor","aName","bName","cName","match","clampRgbUnit","rgbUnit","rgba","red","green","blue","alpha$1","hex","r","substr","parseInt","hsla","hue","saturation","lightness","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","find","notAnimatable","color","mixColor","fromColorType","toColorType","invariant","fromColor","toColor","blended","mixFunc","colorToken","numberToken","analyse","numColors","colors","apply","map","numbers","tokenised","createTransformer","numValues","output","convertNumbersToZero","complex","getAnimatableNone","parsed","transformer","isNum","getMixer","mixComplex","mixArray","__spreadArray","blendValue","fromThis","mixObject","numNumbers","numRGB","numHSL","template","originStats","targetStats","mixNumber","createMixers","ease","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","interpolate","input","isClamp","inputLength","concat","reverse","interpolator","fastInterpolate","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","slowInterpolate","power","reverseEasing","easing","mirrorEasing","createBackIn","BOUNCE_FIRST_THRESHOLD","BOUNCE_SECOND_THRESHOLD","linear","easeIn","easeOut","easeInOut","circIn","acos","circOut","circInOut","backIn","backOut","backInOut","anticipate","backEasing","createAnticipate","ca","cb","cc","bounceOut","p2","bounceIn","defaultEasing","splice","keyframes","times","o","convertOffsetToTimes","_value","defaultOffset","createInterpolator","types","decay","timeConstant","_f","modifyTarget","amplitude","ideal","defaultTimestep","getCurrentTime","performance","now","Date","onNextFrame","requestAnimationFrame","setTimeout","useDefaultElapsed","runNextFrame","isProcessing","timestamp","stepsOrder","steps","acc","toRun","toRunNextFrame","numToRun","toKeepAlive","WeakSet","step","schedule","keepAlive","immediate","addToCurrentFrame","buffer","add","cancel","index","delete","frameData","createRenderStep","sync","startLoop","cancelSync","flushSync","processStep","stepId","processFrame","getFrameData","loopElapsed","elapsed","delay","framesync","update","passTimestamp","stop","driverControls","latest","interpolateFromNumber","autoplay","driver","_g","repeat","repeatMax","_h","repeatType","_j","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate","repeatCount","computedDuration","isComplete","isForwardPlayback","animator","detectAnimationFromOptions","reverseElapsed","hasRepeatDelayElapsed","velocityPerSecond","frameDuration","secondsToMilliseconds","seconds","a1","a2","calcBezier","getSlope","kSampleStepSize","cubicBezier","mX1","mY1","mX2","mY2","sampleValues","Float32Array","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","easingLookup","bounceInOut","easingDefinitionToFunction","__read","isAnimatable","underDampedSpring","criticallyDampedSpring","linearTween","defaultTransitions","backgroundColor","maxDefaults","applyDefaultFilter","slice","defaultValue","functionRegex","filter","functions","defaultValueTypes","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","defaultValueType","legacyRepeatWarning","convertTransitionToAnimationOptions","yoyo","flip","loop","isEasingArray","getPopmotionAnimationOptions","valueKey","transitionFactory","hydrateKeyframes","when","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","getAnimation","valueTransition","getValueTransition","isTargetAnimatable","isZero","getZeroUnit","isOriginAnimatable","currentAnimation","bounceStiffness","bounceDamping","isOutOfBounds","boundaryNearest","startAnimation","startSpring","prev_1","current_1","boundary_1","heading_1","inertia","potentialUnitType","delayTimer","controls","getDelayFromTransition","clearTimeout","addUniqueItem","arr","item","removeItem","SubscriptionManager","this","subscriptions","_this","notify","numSubscriptions","getSize","clear","MotionValue","timeDelta","lastUpdated","updateSubscribers","velocityUpdateSubscribers","renderSubscribers","canTrackVelocity","updateAndNotify","render","postRender","scheduleVelocityCheck","velocityCheck","hasAnimated","onChange","subscription","clearListeners","onRenderRequest","attach","passiveEffect","getPrevious","Promise","resolve","stopAnimation","then","clearAnimation","isAnimating","destroy","motionValue","testValueType","dimensionValueTypes","findDimensionValueType","valueTypes","findValueType","setMotionValue","hasValue","getValue","addValue","setTarget","makeTargetAnimatable","getOriginFromTransition","animateVariant","variant","getDefaultTransition","transitionOverride","animateTarget","getChildAnimations","variantChildren","forwardDelay","animations","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","notifyAnimationComplete","all","animateChildren","first","last","animationTypeState","getState","valueTarget","shouldBlockAnimation","sortNodePosition","protectedKeys","needsAnimating","shouldBlock","variantPriorityOrder","Animate","Drag","Exit","reversePriorityOrder","numAnimationTypes","animateList","notifyAnimationStart","resolvedDefinition","animateVisualElement","createAnimationState","createTypeState","allAnimatedKeys","isInitialRender","buildResolvedTypeValues","changedActiveType","getVariantContext","removedKeys","encounteredKeys","removedVariantIndex","Infinity","_loop_1","typeState","propIsVariant","activeDelta","isInherited","manuallyAnimateOnMount","prevProp","shouldAnimateType","variantsHaveChanged","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","fallbackAnimation_1","fallbackTarget","getBaseTarget","shouldAnimate","isAnimated","setAnimateFunction","makeAnimator","subscribe","isPoint","isPoint3D","distance1D","xDelta","yDelta","zDelta","PanSession","handlers","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","onStart","onMove","handlePointerMove","transformPoint","buttons","handlePointerUp","end","onEnd","onSessionEnd","panInfo","initialInfo","onSessionStart","removeListeners","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timestampedPoint","lastPoint","time","noop","any","convertBoundingBoxToAxisBox","zeroDelta","translate","originPoint","eachAxis","applyConstraints","elastic","calcRelativeAxisConstraints","axis","calcViewportAxisConstraints","layoutAxis","constraintsAxis","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","label","getBoundingBox","topLeft","bottomRight","transformBoundingBox","isNear","maxDistance","calcLength","sourceLength","targetLength","updateAxisDelta","updateBoxDelta","defaultOrigin","calcRelativeAxis","relative","compareByDepth","depth","isProjecting","shouldResetTransform","collectProjectingAncestors","ancestors","updateLayoutMeasurement","box","getLayoutState","notifyBeforeLayoutMeasure","measureViewportBox","layoutCorrected","notifyLayoutMeasure","prevViewportBox","rebaseProjectionTarget","calcRelativeOffsetAxis","calcRelativeOffset","isDraggable","_dragX","resetAxis","originAxis","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","applyAxisTransforms","final","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","applyBoxTransforms","finalBox","removePointDelta","removeAxisTransforms","removeAxisDelta","removeBoxTransforms","unresolvedJobs","pushJob","stack","job","pointer","batchLayout","flushLayout","reads","writes","setRead","setWrite","numStacks","executeJob","lastPointerEvent","elementDragControls","WeakMap","VisualElementDragControls","isDragging","currentDirection","constraints","hasMutatedConstraints","cursorProgress","openGlobalLock","panSession","enableLayoutProjection","originEvent","snapToCursor","stopMotion","initialPoint","getViewportPointFromEvent","cancelLayout","read","write","children","addChild","collectProjectingChildren","tree","hasManuallySetCursorOrigin","isLayoutDrag","lockProjectionTarget","resetTransform","restoreTransform","getAxisMotionValue","isExternalDrag","scheduleUpdateLayoutProjection","axisValue","preRender","resolveDragConstraints","dragPropagation","onDragStart","dragDirectionLock","lockThreshold","direction","getCurrentDirection","onDirectionLock","updateAxis","onDrag","dragConstraints","resolveRefConstraints","layoutBox","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","measuredConstraints","calcViewportConstraints","userConstraints","convertAxisBoxToBoundingBox","cancelDrag","unlockProjectionTarget","animateDragEnd","onDragEnd","shouldDrag","length_1","center","updateAxisMotionValue","updateVisualElementAxis","nextValue","axisLayout","axisLength","axisProgress","calcConstrainedMinPoint","setProjectionTargetAxis","dragMomentum","remainingProps","dragKey","_dragY","dragTransition","isRelative","projectionParent","getProjectionParent","getLatestValues","convertToRelativeProjection","relativeConstraints_1","targetFinal","momentumAnimations","startAxisValueAnimation","startLayoutAnimation","onDragTransitionEnd","stopLayoutAnimation","currentValue","boxProgress","updateConstraints","calcPositionFromProgress","onReady","stopPointerListener","dragListener","stopResizeListener","stopLayoutUpdateListener","onLayoutUpdate","prevDragCursor","Presence","VisibilityAction","onPan","onPanStart","onPanEnd","onPanSessionStart","hasPanEvents","groupDragControls","dragControls","cssVariableRegex","getVariableValue","exec","parseCSSVariable","token","fallback","getComputedStyle","getPropertyValue","pixelsToPercent","pixels","varToken","borderCorrectionDefinition","_layoutState","defaultScaleCorrectors","boxShadow","original","containsCSSVariables","cssVariables","shadow","xScale","yScale","averageScale","i_1","cssVariable","_super","frameTarget","currentAnimationTarget","stopAxisAnimation","isAnimatingTree","originBox","targetBox","visibilityAction","shouldStackAnimate","prevParent","safeToRemove","prevId","nextId","prevParentViewportBox","parentLayout","getLayoutId","isProvidedCorrectDataForRelativeSharedLayout","boxHasMoved","isZeroBox","axisIsEqual","hasMoved","isTargetLocked","animateAxis","setVisibility","Show","notifyLayoutAnimationComplete","__extends","componentDidMount","animateMotionValue","unsubLayoutReady","layoutSafeToRemove","correctors","addScaleCorrection","componentWillUnmount","layoutProgress","getProjectionAnimationProgress","frame","tweenAxis","unsubscribeProgress","layoutTransition","defaultLayoutTransition","zeroAxis","defaultHandler","layoutReady","notifyLayoutReady","createBatcher","queue","flush","order","presence","Present","assignProjectionToSnapshot","SharedLayoutContext","FramerTreeLayoutContext","isSharedLayout","forceUpdate","Measure","syncLayout","framerSyncLayout","onUnmount","remove","getSnapshotBeforeUpdate","syncUpdate","snapshotViewportBox","componentDidUpdate","layoutAnimations","createLayoutState","deltaTransform","zeroLayout","buildLayoutProjectionTransform","latestTransform","identityProjection","buildLayoutProjectionTransformOrigin","names","updateLayoutDeltas","treePath","treeLength","node","applyTreeDeltas","FlatTree","isDirty","treeType","build","renderInstance","readValueFromInstance","removeValueFromRenderState","unsubscribeFromLeadVisualElement","crossfader","projectionTargetProgress","removeFromVariantTree","lifecycles","managers","propSubscriptions","clearAllListeners","manager","updatePropListeners","on","propListener","args","createLifecycles","leadProjection","leadLatestValues","hasViewportBoxUpdated","valueSubscriptions","prevMotionValues","baseTarget","isProjectionReady","triggerBuild","valuesToRender","crossfadedValues","getCrossfadeState","notifyUpdate","updateTreeLayoutProjection","layoutTree","fireUpdateLayoutProjection","initialMotionValues","path","isVisible","isMounted","newInstance","pointTo","addVariantChild","updateLayoutProjection","closestVariantNode","getClosestVariantNode","other","getStaticValue","setStaticValue","visibility","scheduleRender","canMutate","removeValue","removeOnChange","latestValue","removeOnRenderRequest","bindToMotionValue","readValue","setBaseTarget","newProps","prevValue","existingValue","updateMotionValuesFromProps","getVariant","startAtParent","context_1","numVariantProps","variantProps","setCrossfader","newCrossfader","relativeTarget","withTransform","viewportBox","notifySetAxisTarget","force","shouldRebase","relativeOffset","setCurrentViewportBox","notifyLayoutUpdate","prevTreeScaleX","prevTreeScaleY","prevDeltaTransform","notifyViewportBoxUpdate","fireResolveRelativeTargetBox","foundParent","ancestor","resolveRelativeTargetBox","relativeParent","parentProjection","calcRelativeBox","_layoutResetTransform","newLead","onSetAxisTarget","onLayoutAnimationComplete","Entering","BoundingBoxDimension","positionalKeys","isPositionalKey","setAndResetVelocity","isNumOrPxType","getPosFromMatrix","matrix","pos","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","nonTranslationalTransformKeys","positionalValues","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","toType","fromType","numKeyframes","removedTransforms","removeNonTranslationalTransform","convertedTarget","changedKeys","originBbox","elementComputedStyle","display","originComputedStyle","targetBbox","convertChangedValueTypes","unitConversion","hasPositionalKey","parseDomVariant","HTMLElement","resolveCSSVariables","htmlConfig","domElement","defaultType","computedStyle","compareDocumentPosition","mutableState","getOrigin","newValueKeys","numNewValues","targetValue","checkTargetForNewValues","isProjectionTranform","htmlVisualElement","svgVisualElement","getAttribute","_element","featureBundle","motion","baseConfig","TwoColumnContainer","styled","Box","overflow","gap","flexDirection","MonthColumn","flex","overflowY","background","borderRight","borderBottom","overflowX","whiteSpace","EventsColumn","MonthButton","Button","shouldForwardProp","theme","isHighlighted","textAlign","palette","primary","main","text","fontWeight","EventCard","div","white","EventImage","cursor","EventTitle","Typography","fontSize","steelBlue","EventDate","EventSummary","EventLink","EventDescription","lineHeight","language","selectedMonth","setSelectedMonth","useState","eventsColumnRef","openImage","setOpenImage","allContentfulEvents","useStaticQuery","eventsData","nodes","date","dateData","dateString","month","getMonth","monthName","Intl","DateTimeFormat","format","day","getDate","year","getFullYear","hours","getHours","minutes","getMinutes","ampm","formattedTime","toString","padStart","finalMonthName","January","February","March","April","May","June","July","August","September","October","November","December","monthNumber","formattedDate","getMonthFromDate","title","titleUa","summary","summaryUa","description","linkUrl","imageUrl","image","publicUrl","months","scrollToMonth","targetEvent","document","getElementById","scrollIntoView","behavior","block","highlightedMonths","hasEvents","handleImageClick","filteredEvents","isClient","setIsClient","sx","minHeight","justifySelf","alignContent","onClick","disabled","src","alt","dangerouslySetInnerHTML","__html","href","GENERAL_CONTENT","showDetails","Dialog","open","onClose","fullWidth","DialogContent","DialogContentText","Footer","useTheme","phoneSize","useMediaQuery","breakpoints","down","justifyContent"],"sourceRoot":""}